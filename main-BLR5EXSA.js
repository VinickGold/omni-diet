import{b as rv,c as iv,f as HS,g as ov}from"./chunk-X5YLR3NI.js";import{a as M,b as ie,c as Yf,e as Cr,g as US,h as $S,i as _}from"./chunk-ODN5LVDJ.js";var d0=Cr(u0=>{"use strict";Object.defineProperty(u0,"__esModule",{value:!0});var c0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};u0.default=c0});var p0=Cr(nl=>{"use strict";var DE=nl&&nl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nl,"__esModule",{value:!0});var qR=DE((ov(),$S(HS))),GR=DE(d0()),f0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=qR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>_(this,null,function*(){var s,a,l;let c=null,f=null,h=null,v=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){let j=yield o.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=j:f=JSON.parse(j))}let T=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),A=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");T&&A&&A.length>1&&(h=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,v=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{let T=yield o.text();try{c=JSON.parse(T),Array.isArray(c)&&o.status===404&&(f=[],c=null,v=200,g="OK")}catch{o.status===404&&T===""?(v=204,g="No Content"):c={message:T}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,v=200,g="OK"),c&&this.shouldThrowOnError)throw new GR.default(c)}return{error:c,data:f,count:h,status:v,statusText:g}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};nl.default=f0});var m0=Cr(rl=>{"use strict";var QR=rl&&rl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rl,"__esModule",{value:!0});var KR=QR(p0()),h0=class extends KR.default{select(t){let e=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rl.default=h0});var Cd=Cr(il=>{"use strict";var ZR=il&&il.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(il,"__esModule",{value:!0});var YR=ZR(m0()),g0=class extends YR.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};il.default=g0});var y0=Cr(sl=>{"use strict";var JR=sl&&sl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sl,"__esModule",{value:!0});var ol=JR(Cd()),v0=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=e,this.schema=r,this.fetch=i}select(t,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ol.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ol.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let l=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){let c=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new ol.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new ol.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ol.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};sl.default=v0});var SE=Cr(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.version=void 0;Ed.version="0.0.0-automated"});var IE=Cr(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.DEFAULT_HEADERS=void 0;var XR=SE();Dd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${XR.version}`}});var TE=Cr(al=>{"use strict";var xE=al&&al.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(al,"__esModule",{value:!0});var eO=xE(y0()),tO=xE(Cd()),nO=IE(),_0=class n{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},nO.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new eO.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${t}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{a.searchParams.append(f,h)})):(s="POST",l=e);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new tO.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};al.default=_0});var OE=Cr(At=>{"use strict";var ws=At&&At.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(At,"__esModule",{value:!0});At.PostgrestError=At.PostgrestBuilder=At.PostgrestTransformBuilder=At.PostgrestFilterBuilder=At.PostgrestQueryBuilder=At.PostgrestClient=void 0;var ME=ws(TE());At.PostgrestClient=ME.default;var AE=ws(y0());At.PostgrestQueryBuilder=AE.default;var NE=ws(Cd());At.PostgrestFilterBuilder=NE.default;var kE=ws(m0());At.PostgrestTransformBuilder=kE.default;var FE=ws(p0());At.PostgrestBuilder=FE.default;var RE=ws(d0());At.PostgrestError=RE.default;At.default={PostgrestClient:ME.default,PostgrestQueryBuilder:AE.default,PostgrestFilterBuilder:NE.default,PostgrestTransformBuilder:kE.default,PostgrestBuilder:FE.default,PostgrestError:RE.default}});function tp(n,t){return Object.is(n,t)}var gt=null,Ll=!1,np=1,fn=Symbol("SIGNAL");function we(n){let t=gt;return gt=n,t}function sv(){return gt}var Ys={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jl(n){if(Ll)throw new Error("");if(gt===null)return;gt.consumerOnSignalRead(n);let t=gt.nextProducerIndex++;if($l(gt),t<gt.producerNode.length&&gt.producerNode[t]!==n&&Zs(gt)){let e=gt.producerNode[t];Ul(e,gt.producerIndexOfThis[t])}gt.producerNode[t]!==n&&(gt.producerNode[t]=n,gt.producerIndexOfThis[t]=Zs(gt)?cv(n,gt,t):0),gt.producerLastReadVersion[t]=n.version}function WS(){np++}function rp(n){if(!(Zs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===np)){if(!n.producerMustRecompute(n)&&!op(n)){ep(n);return}n.producerRecomputeValue(n),ep(n)}}function av(n){if(n.liveConsumerNode===void 0)return;let t=Ll;Ll=!0;try{for(let e of n.liveConsumerNode)e.dirty||zS(e)}finally{Ll=t}}function lv(){return gt?.consumerAllowSignalWrites!==!1}function zS(n){n.dirty=!0,av(n),n.consumerMarkedDirty?.(n)}function ep(n){n.dirty=!1,n.lastCleanEpoch=np}function Bl(n){return n&&(n.nextProducerIndex=0),we(n)}function ip(n,t){if(we(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Zs(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Ul(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function op(n){$l(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(rp(e),r!==e.version))return!0}return!1}function sp(n){if($l(n),Zs(n))for(let t=0;t<n.producerNode.length;t++)Ul(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function cv(n,t,e){if(uv(n),n.liveConsumerNode.length===0&&dv(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=cv(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Ul(n,t){if(uv(n),n.liveConsumerNode.length===1&&dv(n))for(let r=0;r<n.producerNode.length;r++)Ul(n.producerNode[r],n.producerIndexOfThis[r]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];$l(i),i.producerIndexOfThis[r]=t}}function Zs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $l(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function uv(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function dv(n){return n.producerNode!==void 0}function fv(n){let t=Object.create(qS);t.computation=n;let e=()=>{if(rp(t),jl(t),t.value===Vl)throw t.error;return t.value};return e[fn]=t,e}var Jf=Symbol("UNSET"),Xf=Symbol("COMPUTING"),Vl=Symbol("ERRORED"),qS=ie(M({},Ys),{value:Jf,dirty:!0,error:null,equal:tp,kind:"computed",producerMustRecompute(n){return n.value===Jf||n.value===Xf},producerRecomputeValue(n){if(n.value===Xf)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Xf;let e=Bl(n),r;try{r=n.computation()}catch(i){r=Vl,n.error=i}finally{ip(n,e)}if(t!==Jf&&t!==Vl&&r!==Vl&&n.equal(t,r)){n.value=t;return}n.value=r,n.version++}});function GS(){throw new Error}var pv=GS;function hv(){pv()}function mv(n){pv=n}var QS=null;function gv(n){let t=Object.create(ap);t.value=n;let e=()=>(jl(t),t.value);return e[fn]=t,e}function Hl(n,t){lv()||hv(),n.equal(n.value,t)||(n.value=t,KS(n))}function vv(n,t){lv()||hv(),Hl(n,t(n.value))}var ap=ie(M({},Ys),{equal:tp,value:void 0,kind:"signal"});function KS(n){n.version++,WS(),av(n),QS?.()}function G(n){return typeof n=="function"}function yo(n){let e=n(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Wl=yo(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Mi(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Qe=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){t=o instanceof Wl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yv(o)}catch(s){t=t??[],s instanceof Wl?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Wl(t)}}add(t){var e;if(t&&t!==this)if(this.closed)yv(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Mi(e,t)}remove(t){let{_finalizers:e}=this;e&&Mi(e,t),t instanceof n&&t._removeParent(this)}};Qe.EMPTY=(()=>{let n=new Qe;return n.closed=!0,n})();var lp=Qe.EMPTY;function zl(n){return n instanceof Qe||n&&"closed"in n&&G(n.remove)&&G(n.add)&&G(n.unsubscribe)}function yv(n){G(n)?n():n.unsubscribe()}var Hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(n,t,...e){let{delegate:r}=_o;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=_o;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ql(n){_o.setTimeout(()=>{let{onUnhandledError:t}=Hn;if(t)t(n);else throw n})}function Er(){}var _v=cp("C",void 0,void 0);function bv(n){return cp("E",void 0,n)}function wv(n){return cp("N",n,void 0)}function cp(n,t,e){return{kind:n,value:t,error:e}}var Ai=null;function bo(n){if(Hn.useDeprecatedSynchronousErrorHandling){let t=!Ai;if(t&&(Ai={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:r}=Ai;if(Ai=null,e)throw r}}else n()}function Cv(n){Hn.useDeprecatedSynchronousErrorHandling&&Ai&&(Ai.errorThrown=!0,Ai.error=n)}var Ni=class extends Qe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,zl(t)&&t.add(this)):this.destination=JS}static create(t,e,r){return new Zr(t,e,r)}next(t){this.isStopped?dp(wv(t),this):this._next(t)}error(t){this.isStopped?dp(bv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?dp(_v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZS=Function.prototype.bind;function up(n,t){return ZS.call(n,t)}var fp=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Gl(r)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Gl(r)}else Gl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Gl(e)}}},Zr=class extends Ni{constructor(t,e,r){super();let i;if(G(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&Hn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&up(t.next,o),error:t.error&&up(t.error,o),complete:t.complete&&up(t.complete,o)}):i=t}this.destination=new fp(i)}};function Gl(n){Hn.useDeprecatedSynchronousErrorHandling?Cv(n):ql(n)}function YS(n){throw n}function dp(n,t){let{onStoppedNotification:e}=Hn;e&&_o.setTimeout(()=>e(n,t))}var JS={closed:!0,next:Er,error:YS,complete:Er};var wo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pn(n){return n}function pp(...n){return hp(n)}function hp(n){return n.length===0?pn:n.length===1?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}var U=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=e1(e)?e:new Zr(e,r,i);return bo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=Ev(r),new r((i,o)=>{let s=new Zr({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[wo](){return this}pipe(...e){return hp(e)(this)}toPromise(e){return e=Ev(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function Ev(n){var t;return(t=n??Hn.Promise)!==null&&t!==void 0?t:Promise}function XS(n){return n&&G(n.next)&&G(n.error)&&G(n.complete)}function e1(n){return n&&n instanceof Ni||XS(n)&&zl(n)}function mp(n){return G(n?.lift)}function fe(n){return t=>{if(mp(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,t,e,r,i){return new gp(n,t,e,r,i)}var gp=class extends Ni{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Co(){return fe((n,t)=>{let e=null;n._refCount++;let r=ae(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}var Yr=class extends U{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,mp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Qe;let e=this.getSubject();t.add(this.source.subscribe(ae(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Qe.EMPTY)}return t}refCount(){return Co()(this)}};var Eo={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame,{delegate:r}=Eo;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);let i=t(o=>{e=void 0,n(o)});return new Qe(()=>e?.(i))},requestAnimationFrame(...n){let{delegate:t}=Eo;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:t}=Eo;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Dv=yo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class n extends U{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Ql(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Dv}next(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?lp:(this.currentObservers=null,o.push(e),new Qe(()=>{this.currentObservers=null,Mi(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new U;return e.source=this,e}}return n.create=(t,e)=>new Ql(t,e),n})(),Ql=class extends Ne{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,t)}error(t){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&r!==void 0?r:lp}};var St=class extends Ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var vp={now(){return(vp.delegate||Date).now()},delegate:void 0};var Kl=class extends Qe{constructor(t,e){super()}schedule(t,e=0){return this}};var Js={setInterval(n,t,...e){let{delegate:r}=Js;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Js;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Jr=class extends Kl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return Js.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&Js.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Mi(r,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var t1=1,yp,_p={};function Sv(n){return n in _p?(delete _p[n],!0):!1}var Iv={setImmediate(n){let t=t1++;return _p[t]=!0,yp||(yp=Promise.resolve()),yp.then(()=>Sv(t)&&n()),t},clearImmediate(n){Sv(n)}};var{setImmediate:n1,clearImmediate:r1}=Iv,Xs={setImmediate(...n){let{delegate:t}=Xs;return(t?.setImmediate||n1)(...n)},clearImmediate(n){let{delegate:t}=Xs;return(t?.clearImmediate||r1)(n)},delegate:void 0};var Zl=class extends Jr{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return r!==null&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Xs.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);let{actions:o}=t;e!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==e&&(Xs.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}};var Do=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}};Do.now=vp.now;var Xr=class extends Do{constructor(t,e=Do.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}};var Yl=class extends Xr{flush(t){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;t=t||r.shift();do if(i=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}};var bp=new Yl(Zl);var ki=new Xr(Jr),xv=ki;var Jl=class extends Jr{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return r!==null&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Eo.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);let{actions:o}=t;e!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==e&&(Eo.cancelAnimationFrame(e),t._scheduled=void 0)}};var Xl=class extends Xr{flush(t){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;t=t||r.shift();do if(i=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}};var wp=new Xl(Jl);var Ut=new U(n=>n.complete());function ec(n){return n&&G(n.schedule)}function Cp(n){return n[n.length-1]}function tc(n){return G(Cp(n))?n.pop():void 0}function er(n){return ec(Cp(n))?n.pop():void 0}function Tv(n,t){return typeof Cp(n)=="number"?n.pop():t}function Ke(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}function Av(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(h){s(h)}}function l(f){try{c(r.throw(f))}catch(h){s(h)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,t||[])).next())})}function Mv(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fi(n){return this instanceof Fi?(this.v=n,this):new Fi(n)}function Nv(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(E){return Promise.resolve(E).then(g,h)}}function a(g,E){r[g]&&(i[g]=function(T){return new Promise(function(A,j){o.push([g,T,A,j])>1||l(g,T)})},E&&(i[g]=E(i[g])))}function l(g,E){try{c(r[g](E))}catch(T){v(o[0][3],T)}}function c(g){g.value instanceof Fi?Promise.resolve(g.value.v).then(f,h):v(o[0][2],g)}function f(g){l("next",g)}function h(g){l("throw",g)}function v(g,E){g(E),o.shift(),o.length&&l(o[0][0],o[0][1])}}function kv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof Mv=="function"?Mv(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var So=n=>n&&typeof n.length=="number"&&typeof n!="function";function nc(n){return G(n?.then)}function rc(n){return G(n[wo])}function ic(n){return Symbol.asyncIterator&&G(n?.[Symbol.asyncIterator])}function oc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function i1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sc=i1();function ac(n){return G(n?.[sc])}function lc(n){return Nv(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:r,done:i}=yield Fi(e.read());if(i)return yield Fi(void 0);yield yield Fi(r)}}finally{e.releaseLock()}})}function cc(n){return G(n?.getReader)}function ke(n){if(n instanceof U)return n;if(n!=null){if(rc(n))return o1(n);if(So(n))return s1(n);if(nc(n))return a1(n);if(ic(n))return Fv(n);if(ac(n))return l1(n);if(cc(n))return c1(n)}throw oc(n)}function o1(n){return new U(t=>{let e=n[wo]();if(G(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function s1(n){return new U(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function a1(n){return new U(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ql)})}function l1(n){return new U(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function Fv(n){return new U(t=>{u1(n,t).catch(e=>t.error(e))})}function c1(n){return Fv(lc(n))}function u1(n,t){var e,r,i,o;return Av(this,void 0,void 0,function*(){try{for(e=kv(n);r=yield e.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function en(n,t,e,r=0,i=!1){let o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function uc(n,t=0){return fe((e,r)=>{e.subscribe(ae(r,i=>en(r,n,()=>r.next(i),t),()=>en(r,n,()=>r.complete(),t),i=>en(r,n,()=>r.error(i),t)))})}function dc(n,t=0){return fe((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Rv(n,t){return ke(n).pipe(dc(t),uc(t))}function Ov(n,t){return ke(n).pipe(dc(t),uc(t))}function Pv(n,t){return new U(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}function Lv(n,t){return new U(e=>{let r;return en(e,t,()=>{r=n[sc](),en(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function fc(n,t){if(!n)throw new Error("Iterable cannot be null");return new U(e=>{en(e,t,()=>{let r=n[Symbol.asyncIterator]();en(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Vv(n,t){return fc(lc(n),t)}function jv(n,t){if(n!=null){if(rc(n))return Rv(n,t);if(So(n))return Pv(n,t);if(nc(n))return Ov(n,t);if(ic(n))return fc(n,t);if(ac(n))return Lv(n,t);if(cc(n))return Vv(n,t)}throw oc(n)}function xe(n,t){return t?jv(n,t):ke(n)}function Q(...n){let t=er(n);return xe(n,t)}function ei(n,t){let e=G(n)?n:()=>n,r=i=>i.error(e());return new U(t?i=>t.schedule(r,0,i):r)}function Ep(n){return!!n&&(n instanceof U||G(n.lift)&&G(n.subscribe))}var Wn=yo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function zn(n,t){let e=typeof t=="object";return new Promise((r,i)=>{let o=new Zr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{e?r(t.defaultValue):i(new Wn)}});n.subscribe(o)})}function Bv(n){return n instanceof Date&&!isNaN(n)}function z(n,t){return fe((e,r)=>{let i=0;e.subscribe(ae(r,o=>{r.next(n.call(t,o,i++))}))})}var{isArray:d1}=Array;function f1(n,t){return d1(t)?n(...t):n(t)}function Io(n){return z(t=>f1(n,t))}var{isArray:p1}=Array,{getPrototypeOf:h1,prototype:m1,keys:g1}=Object;function pc(n){if(n.length===1){let t=n[0];if(p1(t))return{args:t,keys:null};if(v1(t)){let e=g1(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function v1(n){return n&&typeof n=="object"&&h1(n)===m1}function hc(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Ri(...n){let t=er(n),e=tc(n),{args:r,keys:i}=pc(n);if(r.length===0)return xe([],t);let o=new U(y1(r,t,i?s=>hc(i,s):pn));return e?o.pipe(Io(e)):o}function y1(n,t,e=pn){return r=>{Uv(t,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Uv(t,()=>{let c=xe(n[l],t),f=!1;c.subscribe(ae(r,h=>{o[l]=h,f||(f=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Uv(n,t,e){n?en(e,n,t):t()}function $v(n,t,e,r,i,o,s,a){let l=[],c=0,f=0,h=!1,v=()=>{h&&!l.length&&!c&&t.complete()},g=T=>c<r?E(T):l.push(T),E=T=>{o&&t.next(T),c++;let A=!1;ke(e(T,f++)).subscribe(ae(t,j=>{i?.(j),o?g(j):t.next(j)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;l.length&&c<r;){let j=l.shift();s?en(t,s,()=>E(j)):E(j)}v()}catch(j){t.error(j)}}))};return n.subscribe(ae(t,g,()=>{h=!0,v()})),()=>{a?.()}}function Ze(n,t,e=1/0){return G(t)?Ze((r,i)=>z((o,s)=>t(r,o,i,s))(ke(n(r,i))),e):(typeof t=="number"&&(e=t),fe((r,i)=>$v(r,i,n,e)))}function ti(n=1/0){return Ze(pn,n)}function Hv(){return ti(1)}function tr(...n){return Hv()(xe(n,er(n)))}function Oi(n){return new U(t=>{ke(n()).subscribe(t)})}function Dp(...n){let t=tc(n),{args:e,keys:r}=pc(n),i=new U(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let f=0;f<s;f++){let h=!1;ke(e[f]).subscribe(ae(o,v=>{h||(h=!0,c--),a[f]=v},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(r?hc(r,a):a),o.complete())}))}});return t?i.pipe(Io(t)):i}var _1=["addListener","removeListener"],b1=["addEventListener","removeEventListener"],w1=["on","off"];function qn(n,t,e,r){if(G(e)&&(r=e,e=void 0),r)return qn(n,t,e).pipe(Io(r));let[i,o]=D1(n)?b1.map(s=>a=>n[s](t,a,e)):C1(n)?_1.map(Wv(n,t)):E1(n)?w1.map(Wv(n,t)):[];if(!i&&So(n))return Ze(s=>qn(s,t,e))(ke(n));if(!i)throw new TypeError("Invalid event target");return new U(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function Wv(n,t){return e=>r=>n[e](t,r)}function C1(n){return G(n.addListener)&&G(n.removeListener)}function E1(n){return G(n.on)&&G(n.off)}function D1(n){return G(n.addEventListener)&&G(n.removeEventListener)}function mc(n=0,t,e=xv){let r=-1;return t!=null&&(ec(t)?e=t:r=t),new U(i=>{let o=Bv(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ni(...n){let t=er(n),e=Tv(n,1/0),r=n;return r.length?r.length===1?ke(r[0]):ti(e)(xe(r,t)):Ut}var Pi=new U(Er);function Ye(n,t){return fe((e,r)=>{let i=0;e.subscribe(ae(r,o=>n.call(t,o,i++)&&r.next(o)))})}function zv(n){return fe((t,e)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ae(e,c=>{r=!0,i=c,o||ke(n(c)).subscribe(o=ae(e,a,l))},()=>{s=!0,(!r||!o||o.closed)&&e.complete()}))})}function Sp(n,t=ki){return zv(()=>mc(n,t))}function ri(n){return fe((t,e)=>{let r=null,i=!1,o;r=t.subscribe(ae(e,void 0,void 0,s=>{o=ke(n(s,ri(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function qv(n,t,e,r,i){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ae(s,f=>{let h=c++;l=a?n(l,f,h):(a=!0,f),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Dr(n,t){return G(t)?Ze(n,t,1):Ze(n,1)}function Gv(n){return new U(t=>n.subscribe(t))}var S1={connector:()=>new Ne};function gc(n,t=S1){let{connector:e}=t;return fe((r,i)=>{let o=e();ke(n(Gv(o))).subscribe(i),i.add(r.subscribe(o))})}function Ip(n,t=ki){return fe((e,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,r.next(c)}};function l(){let c=s+n,f=t.now();if(f<c){i=this.schedule(void 0,c-f),r.add(i);return}a()}e.subscribe(ae(r,c=>{o=c,s=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ii(n){return fe((t,e)=>{let r=!1;t.subscribe(ae(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function ot(n){return n<=0?()=>Ut:fe((t,e)=>{let r=0;t.subscribe(ae(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Qv(){return fe((n,t)=>{n.subscribe(ae(t,Er))})}function Kv(n){return z(()=>n)}function xp(n,t){return t?e=>tr(t.pipe(ot(1),Qv()),e.pipe(xp(n))):Ze((e,r)=>ke(n(e,r)).pipe(ot(1),Kv(e)))}function Tp(n,t=ki){let e=mc(n,t);return xp(()=>e)}function vc(n=I1){return fe((t,e)=>{let r=!1;t.subscribe(ae(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function I1(){return new Wn}function nr(n){return fe((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Sr(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Ye((i,o)=>n(i,o,r)):pn,ot(1),e?ii(t):vc(()=>new Wn))}function xo(n){return n<=0?()=>Ut:fe((t,e)=>{let r=[];t.subscribe(ae(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Mp(n,t){let e=arguments.length>=2;return r=>r.pipe(n?Ye((i,o)=>n(i,o,r)):pn,xo(1),e?ii(t):vc(()=>new Wn))}function Zv(n,t){let e=G(n)?n:()=>n;return G(t)?gc(t,{connector:e}):r=>new Yr(r,e)}function Ap(n){return n?t=>gc(n)(t):t=>Zv(new Ne)(t)}function Np(n,t){return fe(qv(n,t,arguments.length>=2,!0))}function ea(...n){let t=er(n);return fe((e,r)=>{(t?tr(n,e,t):tr(n,e)).subscribe(r)})}function vt(n,t){return fe((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(ae(r,l=>{i?.unsubscribe();let c=0,f=o++;ke(n(l,f)).subscribe(i=ae(r,h=>r.next(t?t(l,h,f,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function rr(n){return fe((t,e)=>{ke(n).subscribe(ae(e,()=>e.complete(),Er)),!e.closed&&t.subscribe(e)})}function st(n,t,e){let r=G(n)||t||e?{next:n,error:t,complete:e}:n;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):pn}var Uy="https://g.co/ng/security#xss",$=class extends Error{code;constructor(t,e){super(ru(t,e)),this.code=t}};function ru(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}var $y=Symbol("InputSignalNode#UNSET"),x1=ie(M({},ap),{transformFn:void 0,applyValueToInputSignal(n,t){Hl(n,t)}});function Hy(n,t){let e=Object.create(x1);e.value=n,e.transformFn=t?.transform;function r(){if(jl(e),e.value===$y)throw new $(-950,!1);return e.value}return r[fn]=e,r}function pa(n){return{toString:n}.toString()}var yc="__parameters__";function T1(n){return function(...e){if(n){let r=n(...e);for(let i in r)this[i]=r[i]}}}function Wy(n,t,e){return pa(()=>{let r=T1(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,f){let h=l.hasOwnProperty(yc)?l[yc]:Object.defineProperty(l,yc,{value:[]})[yc];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ir=globalThis;function Le(n){for(let t in n)if(n[t]===Le)return t;throw Error("Could not find renamed property on target object.")}function M1(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ht(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Ht).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function qp(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var A1=Le({__forward_ref__:Le});function yt(n){return n.__forward_ref__=yt,n.toString=function(){return Ht(this())},n}function $t(n){return zy(n)?n():n}function zy(n){return typeof n=="function"&&n.hasOwnProperty(A1)&&n.__forward_ref__===yt}function k(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function iu(n){return Yv(n,Gy)||Yv(n,Qy)}function qy(n){return iu(n)!==null}function Yv(n,t){return n.hasOwnProperty(t)?n[t]:null}function N1(n){let t=n&&(n[Gy]||n[Qy]);return t||null}function Jv(n){return n&&(n.hasOwnProperty(Xv)||n.hasOwnProperty(k1))?n[Xv]:null}var Gy=Le({\u0275prov:Le}),Xv=Le({\u0275inj:Le}),Qy=Le({ngInjectableDef:Le}),k1=Le({ngInjectorDef:Le}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=k({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ky(n){return n&&!!n.\u0275providers}var F1=Le({\u0275cmp:Le}),R1=Le({\u0275dir:Le}),O1=Le({\u0275pipe:Le}),P1=Le({\u0275mod:Le}),Ac=Le({\u0275fac:Le}),ia=Le({__NG_ELEMENT_ID__:Le}),ey=Le({__NG_ENV_ID__:Le});function or(n){return typeof n=="string"?n:n==null?"":String(n)}function L1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():or(n)}function V1(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new $(-200,n)}function Jh(n,t){throw new $(-201,!1)}var ye=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ye||{}),Gp;function Zy(){return Gp}function tn(n){let t=Gp;return Gp=n,t}function Yy(n,t,e){let r=iu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&ye.Optional)return null;if(t!==void 0)return t;Jh(n,"Injector")}var j1={},oa=j1,Qp="__NG_DI_FLAG__",Nc="ngTempTokenPath",B1="ngTokenPath",U1=/\n/gm,$1="\u0275",ty="__source",ko;function H1(){return ko}function oi(n){let t=ko;return ko=n,t}function W1(n,t=ye.Default){if(ko===void 0)throw new $(-203,!1);return ko===null?Yy(n,void 0,t):ko.get(n,t&ye.Optional?null:void 0,t)}function O(n,t=ye.Default){return(Zy()||W1)($t(n),t)}function N(n,t=ye.Default){return O(n,ou(t))}function ou(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Kp(n){let t=[];for(let e=0;e<n.length;e++){let r=$t(n[e]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ye.Default;for(let s=0;s<r.length;s++){let a=r[s],l=z1(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(O(i,o))}else t.push(O(r))}return t}function Jy(n,t){return n[Qp]=t,n.prototype[Qp]=t,n}function z1(n){return n[Qp]}function q1(n,t,e,r){let i=n[Nc];throw t[ty]&&i.unshift(t[ty]),n.message=G1(`
`+n.message,i,e,r),n[B1]=i,n[Nc]=null,n}function G1(n,t,e,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==$1?n.slice(2):n;let i=Ht(t);if(Array.isArray(t))i=t.map(Ht).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ht(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(U1,`
  `)}`}var su=Jy(Wy("Optional"),8);var Xh=Jy(Wy("SkipSelf"),4);function ji(n,t){let e=n.hasOwnProperty(Ac);return e?n[Ac]:null}function Q1(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function K1(n){return n.flat(Number.POSITIVE_INFINITY)}function em(n,t){n.forEach(e=>Array.isArray(e)?em(e,t):t(e))}function Xy(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function kc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Z1(n,t){let e=[];for(let r=0;r<n;r++)e.push(t);return e}function Y1(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(i===1)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let o=i-2;n[i]=n[o],i--}n[t]=e,n[t+1]=r}}function tm(n,t,e){let r=ha(n,t);return r>=0?n[r|1]=e:(r=~r,Y1(n,r,t,e)),r}function kp(n,t){let e=ha(n,t);if(e>=0)return n[e|1]}function ha(n,t){return J1(n,t,1)}function J1(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}var Ro={},nn=[],Oo=new P(""),e_=new P("",-1),t_=new P(""),Fc=class{get(t,e=oa){if(e===oa){let r=new Error(`NullInjectorError: No provider for ${Ht(t)}!`);throw r.name="NullInjectorError",r}return e}};function n_(n,t){let e=n[P1]||null;if(!e&&t===!0)throw new Error(`Type ${Ht(n)} does not have '\u0275mod' property.`);return e}function li(n){return n[F1]||null}function r_(n){return n[R1]||null}function i_(n){return n[O1]||null}function o_(n){let t=li(n)||r_(n)||i_(n);return t!==null&&t.standalone}function lr(n){return{\u0275providers:n}}function nm(...n){return{\u0275providers:s_(!0,n),\u0275fromNgModule:!0}}function s_(n,...t){let e=[],r=new Set,i,o=s=>{e.push(s)};return em(t,s=>{let a=s;Zp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&a_(i,o),e}function a_(n,t){for(let e=0;e<n.length;e++){let{ngModule:r,providers:i}=n[e];rm(i,o=>{t(o,r)})}}function Zp(n,t,e,r){if(n=$t(n),!n)return!1;let i=null,o=Jv(n),s=!o&&li(n);if(!o&&!s){let l=n.ngModule;if(o=Jv(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Zp(c,t,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{em(o.imports,f=>{Zp(f,t,e,r)&&(c||=[],c.push(f))})}finally{}c!==void 0&&a_(c,t)}if(!a){let c=ji(i)||(()=>new i);t({provide:i,useFactory:c,deps:nn},i),t({provide:t_,useValue:i,multi:!0},i),t({provide:Oo,useValue:()=>O(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=n;rm(l,f=>{t(f,c)})}}else return!1;return i!==n&&n.providers!==void 0}function rm(n,t){for(let e of n)Ky(e)&&(e=e.\u0275providers),Array.isArray(e)?rm(e,t):t(e)}var X1=Le({provide:String,useValue:Le});function l_(n){return n!==null&&typeof n=="object"&&X1 in n}function eI(n){return!!(n&&n.useExisting)}function tI(n){return!!(n&&n.useFactory)}function Po(n){return typeof n=="function"}function nI(n){return!!n.useClass}var au=new P(""),Dc={},rI={},Fp;function im(){return Fp===void 0&&(Fp=new Fc),Fp}var Wt=class{},sa=class extends Wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Jp(t,s=>this.processProvider(s)),this.records.set(e_,To(void 0,this)),i.has("environment")&&this.records.set(Wt,To(void 0,this));let o=this.records.get(au);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(t_,nn,ye.Self))}destroy(){na(this),this._destroyed=!0;let t=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(t)}}onDestroy(t){return na(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){na(this);let e=oi(this),r=tn(void 0),i;try{return t()}finally{oi(e),tn(r)}}get(t,e=oa,r=ye.Default){if(na(this),t.hasOwnProperty(ey))return t[ey](this);r=ou(r);let i,o=oi(this),s=tn(void 0);try{if(!(r&ye.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=lI(t)&&iu(t);c&&this.injectableDefInScope(c)?l=To(Yp(t),Dc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&ye.Self?im():this.parent;return e=r&ye.Optional&&e===oa?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Nc]=a[Nc]||[]).unshift(Ht(t)),o)throw a;return q1(a,t,"R3InjectorError",this.source)}else throw a}finally{tn(s),oi(o)}}resolveInjectorInitializers(){let t=we(null),e=oi(this),r=tn(void 0),i;try{let o=this.get(Oo,nn,ye.Self);for(let s of o)s()}finally{oi(e),tn(r),we(t)}}toString(){let t=[],e=this.records;for(let r of e.keys())t.push(Ht(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=$t(t);let e=Po(t)?t:$t(t&&t.provide),r=oI(t);if(!Po(t)&&t.multi===!0){let i=this.records.get(e);i||(i=To(void 0,Dc,!0),i.factory=()=>Kp(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){let r=we(null);try{return e.value===Dc&&(e.value=rI,e.value=e.factory()),typeof e.value=="object"&&e.value&&aI(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{we(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=$t(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Yp(n){let t=iu(n),e=t!==null?t.factory:ji(n);if(e!==null)return e;if(n instanceof P)throw new $(204,!1);if(n instanceof Function)return iI(n);throw new $(204,!1)}function iI(n){if(n.length>0)throw new $(204,!1);let e=N1(n);return e!==null?()=>e.factory(n):()=>new n}function oI(n){if(l_(n))return To(void 0,n.useValue);{let t=c_(n);return To(t,Dc)}}function c_(n,t,e){let r;if(Po(n)){let i=$t(n);return ji(i)||Yp(i)}else if(l_(n))r=()=>$t(n.useValue);else if(tI(n))r=()=>n.useFactory(...Kp(n.deps||[]));else if(eI(n))r=()=>O($t(n.useExisting));else{let i=$t(n&&(n.useClass||n.provide));if(sI(n))r=()=>new i(...Kp(n.deps));else return ji(i)||Yp(i)}return r}function na(n){if(n.destroyed)throw new $(205,!1)}function To(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function sI(n){return!!n.deps}function aI(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lI(n){return typeof n=="function"||typeof n=="object"&&n instanceof P}function Jp(n,t){for(let e of n)Array.isArray(e)?Jp(e,t):e&&Ky(e)?Jp(e.\u0275providers,t):t(e)}function on(n,t){n instanceof sa&&na(n);let e,r=oi(n),i=tn(void 0);try{return t()}finally{oi(r),tn(i)}}function u_(){return Zy()!==void 0||H1()!=null}function om(n){if(!u_())throw new $(-203,!1)}function cI(n){return typeof n=="function"}var Nr=0,se=1,oe=2,Ot=3,Kn=4,sn=5,Lo=6,Rc=7,It=8,Vo=9,xr=10,Xe=11,aa=12,ny=13,Go=14,rn=15,Bi=16,Mo=17,Tr=18,lu=19,d_=20,si=21,Rp=22,Oc=23,hn=24,xt=25,f_=1;var Ui=7,Pc=8,jo=9,Rt=10;function ai(n){return Array.isArray(n)&&typeof n[f_]=="object"}function kr(n){return Array.isArray(n)&&n[f_]===!0}function sm(n){return(n.flags&4)!==0}function cu(n){return n.componentOffset>-1}function uu(n){return(n.flags&1)===1}function ci(n){return!!n.template}function Xp(n){return(n[oe]&512)!==0}function ma(n){return(n[oe]&256)===256}var eh=class{previousValue;currentValue;firstChange;constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function p_(n,t,e,r){t!==null?t.applyValueToInputSignal(t,r):n[e]=r}var et=(()=>{let n=()=>h_;return n.ngInherit=!0,n})();function h_(n){return n.type.prototype.ngOnChanges&&(n.setInput=dI),uI}function uI(){let n=g_(this),t=n?.current;if(t){let e=n.previous;if(e===Ro)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function dI(n,t,e,r,i){let o=this.declaredInputs[r],s=g_(n)||fI(n,{previous:Ro,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new eh(c&&c.currentValue,e,l===Ro),p_(n,t,i,e)}var m_="__ngSimpleChanges__";function g_(n){return n[m_]||null}function fI(n,t){return n[m_]=t}var ry=null;var xn=function(n,t,e){ry?.(n,t,e)},v_="svg",pI="math";function sr(n){for(;Array.isArray(n);)n=n[Nr];return n}function y_(n,t){return sr(t[n])}function Mn(n,t){return sr(t[n.index])}function am(n,t){return n.data[t]}function __(n,t){return n[t]}function hi(n,t){let e=t[n];return ai(e)?e:e[Nr]}function hI(n){return(n[oe]&4)===4}function lm(n){return(n[oe]&128)===128}function mI(n){return kr(n[Ot])}function ui(n,t){return t==null?null:n[t]}function b_(n){n[Mo]=0}function cm(n){n[oe]&1024||(n[oe]|=1024,lm(n)&&fu(n))}function gI(n,t){for(;n>0;)t=t[Go],n--;return t}function du(n){return!!(n[oe]&9216||n[hn]?.dirty)}function th(n){n[xr].changeDetectionScheduler?.notify(9),n[oe]&64&&(n[oe]|=1024),du(n)&&fu(n)}function fu(n){n[xr].changeDetectionScheduler?.notify(0);let t=$i(n);for(;t!==null&&!(t[oe]&8192||(t[oe]|=8192,!lm(t)));)t=$i(t)}function w_(n,t){if(ma(n))throw new $(911,!1);n[si]===null&&(n[si]=[]),n[si].push(t)}function vI(n,t){if(n[si]===null)return;let e=n[si].indexOf(t);e!==-1&&n[si].splice(e,1)}function $i(n){let t=n[Ot];return kr(t)?t[Ot]:t}function C_(n){return n[Rc]??=[]}function E_(n){return n.cleanup??=[]}function yI(n,t,e,r){let i=C_(t);i.push(e),n.firstCreatePass&&E_(n).push(r,i.length-1)}var pe={lFrame:k_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nh=!1;function _I(){return pe.lFrame.elementDepthCount}function bI(){pe.lFrame.elementDepthCount++}function wI(){pe.lFrame.elementDepthCount--}function D_(){return pe.bindingsEnabled}function S_(){return pe.skipHydrationRootTNode!==null}function CI(n){return pe.skipHydrationRootTNode===n}function EI(){pe.skipHydrationRootTNode=null}function re(){return pe.lFrame.lView}function tt(){return pe.lFrame.tView}function D(n){return pe.lFrame.contextLView=n,n[It]}function S(n){return pe.lFrame.contextLView=null,n}function Tt(){let n=I_();for(;n!==null&&n.type===64;)n=n.parent;return n}function I_(){return pe.lFrame.currentTNode}function DI(){let n=pe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Qi(n,t){let e=pe.lFrame;e.currentTNode=n,e.isParent=t}function um(){return pe.lFrame.isParent}function dm(){pe.lFrame.isParent=!1}function SI(){return pe.lFrame.contextLView}function x_(){return nh}function iy(n){let t=nh;return nh=n,t}function Ki(){let n=pe.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function T_(){return pe.lFrame.bindingIndex}function II(n){return pe.lFrame.bindingIndex=n}function Qo(){return pe.lFrame.bindingIndex++}function pu(n){let t=pe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function xI(){return pe.lFrame.inI18n}function TI(n,t){let e=pe.lFrame;e.bindingIndex=e.bindingRootIndex=n,rh(t)}function MI(){return pe.lFrame.currentDirectiveIndex}function rh(n){pe.lFrame.currentDirectiveIndex=n}function AI(n){let t=pe.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function M_(){return pe.lFrame.currentQueryIndex}function fm(n){pe.lFrame.currentQueryIndex=n}function NI(n){let t=n[se];return t.type===2?t.declTNode:t.type===1?n[sn]:null}function A_(n,t,e){if(e&ye.SkipSelf){let i=t,o=n;for(;i=i.parent,i===null&&!(e&ye.Host);)if(i=NI(o),i===null||(o=o[Go],i.type&10))break;if(i===null)return!1;t=i,n=o}let r=pe.lFrame=N_();return r.currentTNode=t,r.lView=n,!0}function pm(n){let t=N_(),e=n[se];pe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function N_(){let n=pe.lFrame,t=n===null?null:n.child;return t===null?k_(n):t}function k_(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function F_(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var R_=F_;function hm(){let n=F_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kI(n){return(pe.lFrame.contextLView=gI(n,pe.lFrame.contextLView))[It]}function cr(){return pe.lFrame.selectedIndex}function Hi(n){pe.lFrame.selectedIndex=n}function hu(){let n=pe.lFrame;return am(n.tView,n.selectedIndex)}function O_(){pe.lFrame.currentNamespace=v_}function P_(){FI()}function FI(){pe.lFrame.currentNamespace=null}function RI(){return pe.lFrame.currentNamespace}var L_=!0;function mu(){return L_}function gu(n){L_=n}function OI(n,t,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=h_(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function vu(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),f!=null&&(n.destroyHooks??=[]).push(e,f)}}function Sc(n,t,e){V_(n,t,3,e)}function Ic(n,t,e,r){(n[oe]&3)===e&&V_(n,t,e,r)}function Op(n,t){let e=n[oe];(e&3)===t&&(e&=16383,e+=1,n[oe]=e)}function V_(n,t,e,r){let i=r!==void 0?n[Mo]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(n[Mo]+=65536),(a<o||o==-1)&&(PI(n,e,t,l),n[Mo]=(n[Mo]&4294901760)+l+2),l++}function oy(n,t){xn(4,n,t);let e=we(null);try{t.call(n)}finally{we(e),xn(5,n,t)}}function PI(n,t,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=n[s];i?n[oe]>>14<n[Mo]>>16&&(n[oe]&3)===t&&(n[oe]+=16384,oy(a,o)):oy(a,o)}var Fo=-1,Wi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,r){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=r}};function LI(n){return n instanceof Wi}function VI(n){return(n.flags&8)!==0}function jI(n){return(n.flags&16)!==0}function ih(n,t,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{let o=i,s=e[++r];BI(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function j_(n){return n===3||n===4||n===6}function BI(n){return n.charCodeAt(0)===64}function la(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?sy(n,e,i,null,t[++r]):sy(n,e,i,null,null))}}return n}function sy(n,t,e,r,i){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Pp={},oh=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=ou(r);let i=this.injector.get(t,Pp,r);return i!==Pp||e===Pp?i:this.parentInjector.get(t,e,r)}};function B_(n){return n!==Fo}function Lc(n){return n&32767}function UI(n){return n>>16}function Vc(n,t){let e=UI(n),r=t;for(;e>0;)r=r[Go],e--;return r}var sh=!0;function jc(n){let t=sh;return sh=n,t}var $I=256,U_=$I-1,$_=5,HI=0,ir={};function WI(n,t,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(ia)&&(r=e[ia]),r==null&&(r=e[ia]=HI++);let i=r&U_,o=1<<i;t.data[n+(i>>$_)]|=o}function Bc(n,t){let e=H_(n,t);if(e!==-1)return e;let r=t[se];r.firstCreatePass&&(n.injectorIndex=t.length,Lp(r.data,n),Lp(t,null),Lp(r.blueprint,null));let i=mm(n,t),o=n.injectorIndex;if(B_(i)){let s=Lc(i),a=Vc(i,t),l=a[se].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Lp(n,t){n.push(0,0,0,0,0,0,0,0,t)}function H_(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function mm(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;i!==null;){if(r=Q_(i),r===null)return Fo;if(e++,i=i[Go],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Fo}function ah(n,t,e){WI(n,t,e)}function zI(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(j_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function W_(n,t,e){if(e&ye.Optional||n!==void 0)return n;Jh(t,"NodeInjector")}function z_(n,t,e,r){if(e&ye.Optional&&r===void 0&&(r=null),!(e&(ye.Self|ye.Host))){let i=n[Vo],o=tn(void 0);try{return i?i.get(t,r,e&ye.Optional):Yy(t,r,e&ye.Optional)}finally{tn(o)}}return W_(r,t,e)}function q_(n,t,e,r=ye.Default,i){if(n!==null){if(t[oe]&2048&&!(r&ye.Self)){let s=KI(n,t,e,r,ir);if(s!==ir)return s}let o=G_(n,t,e,r,ir);if(o!==ir)return o}return z_(t,e,r,i)}function G_(n,t,e,r,i){let o=GI(e);if(typeof o=="function"){if(!A_(t,n,r))return r&ye.Host?W_(i,e,r):z_(t,e,r,i);try{let s;if(s=o(r),s==null&&!(r&ye.Optional))Jh(e);else return s}finally{R_()}}else if(typeof o=="number"){let s=null,a=H_(n,t),l=Fo,c=r&ye.Host?t[rn][sn]:null;for((a===-1||r&ye.SkipSelf)&&(l=a===-1?mm(n,t):t[a+8],l===Fo||!ly(r,!1)?a=-1:(s=t[se],a=Lc(l),t=Vc(l,t)));a!==-1;){let f=t[se];if(ay(o,a,f.data)){let h=qI(a,t,e,s,r,c);if(h!==ir)return h}l=t[a+8],l!==Fo&&ly(r,t[se].data[a+8]===c)&&ay(o,a,t)?(s=f,a=Lc(l),t=Vc(l,t)):a=-1}}return i}function qI(n,t,e,r,i,o){let s=t[se],a=s.data[n+8],l=r==null?cu(a)&&sh:r!=s&&(a.type&3)!==0,c=i&ye.Host&&o===a,f=xc(a,s,e,l,c);return f!==null?zi(t,s,f,a):ir}function xc(n,t,e,r,i){let o=n.providerIndexes,s=t.data,a=o&1048575,l=n.directiveStart,c=n.directiveEnd,f=o>>20,h=r?a:a+f,v=i?a+f:c;for(let g=h;g<v;g++){let E=s[g];if(g<l&&e===E||g>=l&&E.type===e)return g}if(i){let g=s[l];if(g&&ci(g)&&g.type===e)return l}return null}function zi(n,t,e,r){let i=n[e],o=t.data;if(LI(i)){let s=i;s.resolving&&V1(L1(o[e]));let a=jc(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?tn(s.injectImpl):null,f=A_(n,r,ye.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&OI(e,o[e],t)}finally{c!==null&&tn(c),jc(a),s.resolving=!1,R_()}}return i}function GI(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(ia)?n[ia]:void 0;return typeof t=="number"?t>=0?t&U_:QI:t}function ay(n,t,e){let r=1<<n;return!!(e[t+(n>>$_)]&r)}function ly(n,t){return!(n&ye.Self)&&!(n&ye.Host&&t)}var Vi=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return q_(this._tNode,this._lView,t,ou(r),e)}};function QI(){return new Vi(Tt(),re())}function gn(n){return pa(()=>{let t=n.prototype.constructor,e=t[Ac]||lh(t),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ac]||lh(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function lh(n){return zy(n)?()=>{let t=lh($t(n));return t&&t()}:ji(n)}function KI(n,t,e,r,i){let o=n,s=t;for(;o!==null&&s!==null&&s[oe]&2048&&!(s[oe]&512);){let a=G_(o,s,e,r|ye.Self,ir);if(a!==ir)return a;let l=o.parent;if(!l){let c=s[d_];if(c){let f=c.get(e,ir,r);if(f!==ir)return f}l=Q_(s),s=s[Go]}o=l}return i}function Q_(n){let t=n[se],e=t.type;return e===2?t.declTNode:e===1?n[sn]:null}function Ko(n){return zI(Tt(),n)}function cy(n,t=null,e=null,r){let i=K_(n,t,e,r);return i.resolveInjectorInitializers(),i}function K_(n,t=null,e=null,r,i=new Set){let o=[e||nn,nm(n)];return r=r||(typeof n=="object"?void 0:Ht(n)),new sa(o,t||im(),r||null,i)}var zt=class n{static THROW_IF_NOT_FOUND=oa;static NULL=new Fc;static create(t,e){if(Array.isArray(t))return cy({name:""},e,t,"");{let r=t.name??"";return cy({name:r},t.parent,t.providers,r)}}static \u0275prov=k({token:n,providedIn:"any",factory:()=>O(e_)});static __NG_ELEMENT_ID__=-1};var ZI=new P("");ZI.__NG_ELEMENT_ID__=n=>{let t=Tt();if(t===null)throw new $(204,!1);if(t.type&2)return t.value;if(n&ye.Optional)return null;throw new $(204,!1)};var Z_=!1,gm=(()=>{class n{static __NG_ELEMENT_ID__=YI;static __NG_ENV_ID__=e=>e}return n})(),ch=class extends gm{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return w_(this._lView,t),()=>vI(this._lView,t)}};function YI(){return new ch(re())}var Bo=class{},yu=new P("",{providedIn:"root",factory:()=>!1});var Y_=new P(""),J_=new P(""),Fr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new St(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=k({token:n,providedIn:"root",factory:()=>new n})}return n})();var uh=class extends Ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,u_()&&(this.destroyRef=N(gm,{optional:!0})??void 0,this.pendingTasks=N(Fr,{optional:!0})??void 0)}emit(t){let e=we(null);try{super.next(t)}finally{we(e)}}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Qe&&t.add(a),a}wrapInTimeout(t){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},H=uh;function Uc(...n){}function X_(n){let t,e;function r(){n=Uc;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),r()})),()=>r()}function uy(n){return queueMicrotask(()=>n()),()=>{n=Uc}}var vm="isAngularZone",$c=vm+"_ID",JI=0,Oe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new H(!1);onMicrotaskEmpty=new H(!1);onStable=new H(!1);onError=new H(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Z_}=t;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,XI,Uc,Uc);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}},XI={};function ym(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ex(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){X_(()=>{n.callbackScheduled=!1,dh(n),n.isCheckStableRunning=!0,ym(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),dh(n)}function tx(n){let t=()=>{ex(n)},e=JI++;n._inner=n._inner.fork({name:"angular",properties:{[vm]:!0,[$c]:e,[$c+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(nx(l))return r.invokeTask(o,s,a,l);try{return dy(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),fy(n)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return dy(n),r.invoke(o,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!rx(l)&&t(),fy(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,dh(n),ym(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function dh(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function dy(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fy(n){n._nesting--,ym(n)}var fh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new H;onMicrotaskEmpty=new H;onStable=new H;onError=new H;run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}};function nx(n){return eb(n,"__ignore_ng_zone__")}function rx(n){return eb(n,"__scheduler_tick__")}function eb(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Mr=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ix=new P("",{providedIn:"root",factory:()=>{let n=N(Oe),t=N(Mr);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function py(n,t){return Hy(n,t)}function ox(n){return Hy($y,n)}var ga=(py.required=ox,py);function sx(){return Zo(Tt(),re())}function Zo(n,t){return new He(Mn(n,t))}var He=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=sx}return n})();function ax(n){return n instanceof He?n.nativeElement:n}var hy=new Set;function Rr(n){hy.has(n)||(hy.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function lx(n){return typeof n=="function"&&n[fn]!==void 0}function Je(n,t){Rr("NgSignals");let e=gv(n),r=e[fn];return t?.equal&&(r.equal=t.equal),e.set=i=>Hl(r,i),e.update=i=>vv(r,i),e.asReadonly=cx.bind(e),e}function cx(){let n=this[fn];if(n.readonlyFn===void 0){let t=()=>this();t[fn]=n,n.readonlyFn=t}return n.readonlyFn}function tb(n){return lx(n)&&typeof n.set=="function"}function ux(){return this._results[Symbol.iterator]()}var ph=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ne}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let r=K1(t);(this._changesDetected=!Q1(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ux};function nb(n){return(n.flags&128)===128}var rb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(rb||{}),ib=new Map,dx=0;function fx(){return dx++}function px(n){ib.set(n[lu],n)}function hh(n){ib.delete(n[lu])}var my="__ngContext__";function di(n,t){ai(t)?(n[my]=t[lu],px(t)):n[my]=t}function ob(n){return ab(n[aa])}function sb(n){return ab(n[Kn])}function ab(n){for(;n!==null&&!kr(n);)n=n[Kn];return n}var mh;function lb(n){mh=n}function cb(){if(mh!==void 0)return mh;if(typeof document<"u")return document;throw new $(210,!1)}var _m=new P("",{providedIn:"root",factory:()=>hx}),hx="ng",bm=new P(""),vn=new P("",{providedIn:"platform",factory:()=>"unknown"});var wm=new P("",{providedIn:"root",factory:()=>cb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mx="h",gx="b";var ub=!1,vx=new P("",{providedIn:"root",factory:()=>ub});var Cm=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Cm||{}),Yo=new P("");var Ao=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ao||{}),db=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=k({token:n,providedIn:"root",factory:()=>new n})}return n})(),yx=[Ao.EarlyRead,Ao.Write,Ao.MixedReadWrite,Ao.Read],_x=(()=>{class n{ngZone=N(Oe);scheduler=N(Bo);errorHandler=N(Mr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Yo,{optional:!0})}execute(){this.executing=!0;for(let e of yx)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[e](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Cm.AFTER_NEXT_RENDER,e):e()}static \u0275prov=k({token:n,providedIn:"root",factory:()=>new n})}return n})(),gh=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,r,i,o=null){this.impl=t,this.hooks=e,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Em(n,t){!t?.injector&&om(Em);let e=t?.injector??N(zt);return Rr("NgAfterNextRender"),wx(n,e,t,!0)}function bx(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function wx(n,t,e,r){let i=t.get(db);i.impl??=t.get(_x);let o=t.get(Yo,null,{optional:!0}),s=e?.phase??Ao.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(gm):null,l=new gh(i.impl,bx(n,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var Cx=()=>null;function Dm(n,t,e=!1){return Cx(n,t,e)}function fb(n,t){let e=n.contentQueries;if(e!==null){let r=we(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=n.data[s];fm(o),a.contentQueries(2,t[s],s)}}}finally{we(r)}}}function vh(n,t,e){fm(0);let r=we(null);try{t(n,e)}finally{we(r)}}function Sm(n,t,e){if(sm(t)){let r=we(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{we(r)}}}var ar=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ar||{}),_c;function pb(){if(_c===void 0&&(_c=null,Ir.trustedTypes))try{_c=Ir.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _c}function _u(n){return pb()?.createHTML(n)||n}function Ex(n){return pb()?.createScriptURL(n)||n}var bc;function hb(){if(bc===void 0&&(bc=null,Ir.trustedTypes))try{bc=Ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bc}function gy(n){return hb()?.createHTML(n)||n}function vy(n){return hb()?.createScriptURL(n)||n}var Hc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Uy})`}};function Zi(n){return n instanceof Hc?n.changingThisBreaksApplicationSecurity:n}function bu(n,t){let e=Dx(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Uy})`)}return e===t}function Dx(n){return n instanceof Hc&&n.getTypeName()||null}function Sx(n){let t=new _h(n);return Ix()?new yh(t):t}var yh=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(_u(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},_h=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=_u(t),e}};function Ix(){try{return!!new window.DOMParser().parseFromString(_u(""),"text/html")}catch{return!1}}var xx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Im(n){return n=String(n),n.match(xx)?n:"unsafe:"+n}function Or(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function va(...n){let t={};for(let e of n)for(let r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}var mb=Or("area,br,col,hr,img,wbr"),gb=Or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vb=Or("rp,rt"),Tx=va(vb,gb),Mx=va(gb,Or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ax=va(vb,Or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yy=va(mb,Mx,Ax,Tx),yb=Or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nx=Or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kx=Or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Fx=va(yb,Nx,kx),Rx=Or("script,style,template"),bh=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=Lx(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=Px(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(t){let e=_y(t).toLowerCase();if(!yy.hasOwnProperty(e))return this.sanitizedSomething=!0,!Rx.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!Fx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;yb[a]&&(l=Im(l)),this.buf.push(" ",s,'="',by(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=_y(t).toLowerCase();yy.hasOwnProperty(e)&&!mb.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(by(t))}};function Ox(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Px(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw _b(t);return t}function Lx(n){let t=n.firstChild;if(t&&Ox(n,t))throw _b(t);return t}function _y(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function _b(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Vx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jx=/([^\#-~ |!])/g;function by(n){return n.replace(/&/g,"&amp;").replace(Vx,function(t){let e=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(jx,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var wc;function bb(n,t){let e=null;try{wc=wc||Sx(n);let r=t?String(t):"";e=wc.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=wc.getInertBodyElement(r)}while(r!==o);let a=new bh().sanitizeChildren(wy(e)||e);return _u(a)}finally{if(e){let r=wy(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function wy(n){return"content"in n&&Bx(n)?n.content:null}function Bx(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var ya=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ya||{});function Jo(n){let t=Tm();return t?gy(t.sanitize(ya.HTML,n)||""):bu(n,"HTML")?gy(Zi(n)):bb(cb(),or(n))}function xm(n){let t=Tm();return t?t.sanitize(ya.URL,n)||"":bu(n,"URL")?Zi(n):Im(or(n))}function Ux(n){let t=Tm();if(t)return vy(t.sanitize(ya.RESOURCE_URL,n)||"");if(bu(n,"ResourceURL"))return vy(Zi(n));throw new $(904,!1)}function wb(n){return Ex(n[0])}function $x(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?Ux:xm}function Cb(n,t,e){return $x(t,e)(n)}function Tm(){let n=re();return n&&n[xr].sanitizer}var Hx=/^>|^->|<!--|-->|--!>|<!-$/g,Wx=/(<|>)/g,zx="\u200B$1\u200B";function qx(n){return n.replace(Hx,t=>t.replace(Wx,zx))}function Eb(n){return n instanceof Function?n():n}var fi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(fi||{}),Ar=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ar||{}),Gx;function Mm(n,t){return Gx(n,t)}function No(n,t,e,r,i){if(r!=null){let o,s=!1;kr(r)?o=r:ai(r)&&(s=!0,r=r[Nr]);let a=sr(r);n===0&&e!==null?i==null?Tb(t,e,a):Wc(t,e,a,i||null,!0):n===1&&e!==null?Wc(t,e,a,i||null,!0):n===2?aT(t,a,s):n===3&&t.destroyNode(a),o!=null&&cT(t,n,o,e,i)}}function Qx(n,t){return n.createText(t)}function Kx(n,t,e){n.setValue(t,e)}function Zx(n,t){return n.createComment(qx(t))}function Db(n,t,e){return n.createElement(t,e)}function Yx(n,t){Sb(n,t),t[Nr]=null,t[sn]=null}function Jx(n,t,e,r,i,o){r[Nr]=i,r[sn]=t,Eu(n,r,e,1,i,o)}function Sb(n,t){t[xr].changeDetectionScheduler?.notify(10),Eu(n,t,t[Xe],2,null,null)}function Xx(n){let t=n[aa];if(!t)return Vp(n[se],n);for(;t;){let e=null;if(ai(t))e=t[aa];else{let r=t[Rt];r&&(e=r)}if(!e){for(;t&&!t[Kn]&&t!==n;)ai(t)&&Vp(t[se],t),t=t[Ot];t===null&&(t=n),ai(t)&&Vp(t[se],t),e=t&&t[Kn]}t=e}}function eT(n,t,e,r){let i=Rt+r,o=e.length;r>0&&(e[i-1][Kn]=t),r<o-Rt?(t[Kn]=e[i],Xy(e,Rt+r,t)):(e.push(t),t[Kn]=null),t[Ot]=e;let s=t[Bi];s!==null&&e!==s&&Ib(s,t);let a=t[Tr];a!==null&&a.insertView(n),th(t),t[oe]|=128}function Ib(n,t){let e=n[jo],r=t[Ot];if(ai(r))n[oe]|=2;else{let i=r[Ot][rn];t[rn]!==i&&(n[oe]|=2)}e===null?n[jo]=[t]:e.push(t)}function Am(n,t){let e=n[jo],r=e.indexOf(t);e.splice(r,1)}function ca(n,t){if(n.length<=Rt)return;let e=Rt+t,r=n[e];if(r){let i=r[Bi];i!==null&&i!==n&&Am(i,r),t>0&&(n[e-1][Kn]=r[Kn]);let o=kc(n,Rt+t);Yx(r[se],r);let s=o[Tr];s!==null&&s.detachView(o[se]),r[Ot]=null,r[Kn]=null,r[oe]&=-129}return r}function wu(n,t){if(ma(t))return;let e=t[Xe];e.destroyNode&&Eu(n,t,e,3,null,null),Xx(t)}function Vp(n,t){if(ma(t))return;let e=we(null);try{t[oe]&=-129,t[oe]|=256,t[hn]&&sp(t[hn]),nT(n,t),tT(n,t),t[se].type===1&&t[Xe].destroy();let r=t[Bi];if(r!==null&&kr(t[Ot])){r!==t[Ot]&&Am(r,t);let i=t[Tr];i!==null&&i.detachView(n)}hh(t)}finally{we(e)}}function tT(n,t){let e=n.cleanup,r=t[Rc];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(t[Rc]=null);let i=t[si];if(i!==null){t[si]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Oc];if(o!==null){t[Oc]=null;for(let s of o)s.destroy()}}function nT(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=t[e[r]];if(!(i instanceof Wi)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];xn(4,a,l);try{l.call(a)}finally{xn(5,a,l)}}else{xn(4,i,o);try{o.call(i)}finally{xn(5,i,o)}}}}}function xb(n,t,e){return rT(n,t.parent,e)}function rT(n,t,e){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return e[Nr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===ar.None||o===ar.Emulated)return null}return Mn(r,e)}}function Wc(n,t,e,r,i){n.insertBefore(t,e,r,i)}function Tb(n,t,e){n.appendChild(t,e)}function Cy(n,t,e,r,i){r!==null?Wc(n,t,e,r,i):Tb(n,t,e)}function Mb(n,t){return n.parentNode(t)}function iT(n,t){return n.nextSibling(t)}function Ab(n,t,e){return sT(n,t,e)}function oT(n,t,e){return n.type&40?Mn(n,e):null}var sT=oT,Ey;function Cu(n,t,e,r){let i=xb(n,r,t),o=t[Xe],s=r.parent||t[sn],a=Ab(s,r,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Cy(o,i,e[l],a,!1);else Cy(o,i,e,a,!1);Ey!==void 0&&Ey(o,r,t,e,i)}function ra(n,t){if(t!==null){let e=t.type;if(e&3)return Mn(t,n);if(e&4)return wh(-1,n[t.index]);if(e&8){let r=t.child;if(r!==null)return ra(n,r);{let i=n[t.index];return kr(i)?wh(-1,i):sr(i)}}else{if(e&128)return ra(n,t.next);if(e&32)return Mm(t,n)()||sr(n[t.index]);{let r=Nb(n,t);if(r!==null){if(Array.isArray(r))return r[0];let i=$i(n[rn]);return ra(i,r)}else return ra(n,t.next)}}}return null}function Nb(n,t){if(t!==null){let r=n[rn][sn],i=t.projection;return r.projection[i]}return null}function wh(n,t){let e=Rt+n+1;if(e<t.length){let r=t[e],i=r[se].firstChild;if(i!==null)return ra(r,i)}return t[Ui]}function aT(n,t,e){n.removeChild(null,t,e)}function Nm(n,t,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&t===0&&(a&&di(sr(a),r),e.flags|=2),(e.flags&32)!==32)if(l&8)Nm(n,t,e.child,r,i,o,!1),No(t,n,i,a,o);else if(l&32){let c=Mm(e,r),f;for(;f=c();)No(t,n,i,f,o);No(t,n,i,a,o)}else l&16?kb(n,t,r,e,i,o):No(t,n,i,a,o);e=s?e.projectionNext:e.next}}function Eu(n,t,e,r,i,o){Nm(e,r,n.firstChild,t,i,o,!1)}function lT(n,t,e){let r=t[Xe],i=xb(n,e,t),o=e.parent||t[sn],s=Ab(o,e,t);kb(r,0,t,e,i,s)}function kb(n,t,e,r,i,o){let s=e[rn],l=s[sn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let f=l[c];No(t,n,i,f,o)}else{let c=l,f=s[Ot];nb(r)&&(c.flags|=128),Nm(n,t,c,f,i,o,!0)}}function cT(n,t,e,r,i){let o=e[Ui],s=sr(e);o!==s&&No(t,n,r,o,i);for(let a=Rt;a<e.length;a++){let l=e[a];Eu(l[se],l,n,t,r,o)}}function uT(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Ar.DashCase;i==null?n.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ar.Important),n.setStyle(e,r,i,o))}}function dT(n,t,e){n.setAttribute(t,"style",e)}function Fb(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Rb(n,t,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&ih(n,t,r),i!==null&&Fb(n,t,i),o!==null&&dT(n,t,o)}function fT(n,t,e){let r=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}var Ob="ng-template";function pT(n,t,e,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&fT(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(km(n))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function km(n){return n.type===4&&n.value!==Ob}function hT(n,t,e){let r=n.type===4&&!e?Ob:n.value;return t===r}function mT(n,t,e){let r=4,i=n.attrs,o=i!==null?yT(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Gn(r)&&!Gn(l))return!1;if(s&&Gn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!hT(n,l,e)||l===""&&t.length===1){if(Gn(r))return!1;s=!0}}else if(r&8){if(i===null||!pT(n,i,l,e)){if(Gn(r))return!1;s=!0}}else{let c=t[++a],f=gT(l,i,km(n),e);if(f===-1){if(Gn(r))return!1;s=!0;continue}if(c!==""){let h;if(f>o?h="":h=i[f+1].toLowerCase(),r&2&&c!==h){if(Gn(r))return!1;s=!0}}}}return Gn(r)||s}function Gn(n){return(n&1)===0}function gT(n,t,e,r){if(t===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _T(t,n)}function Pb(n,t,e=!1){for(let r=0;r<t.length;r++)if(mT(n,t[r],e))return!0;return!1}function vT(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function yT(n){for(let t=0;t<n.length;t++){let e=n[t];if(j_(e))return t}return n.length}function _T(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let r=n[e];if(typeof r=="number")return-1;if(r===t)return e;e++}return-1}function bT(n,t){e:for(let e=0;e<t.length;e++){let r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Dy(n,t){return n?":not("+t.trim()+")":t}function wT(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(r&2){let a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Gn(s)&&(t+=Dy(o,i),i=""),r=s,o=o||!Gn(r);e++}return i!==""&&(t+=Dy(o,i)),t}function CT(n){return n.map(wT).join(",")}function ET(n){let t=[],e=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&t.push(o,n[++r]):i===8&&e.push(o);else{if(!Gn(i))break;i=o}r++}return{attrs:t,classes:e}}var Pt={};function m(n=1){Lb(tt(),re(),cr()+n,!1)}function Lb(n,t,e,r){if(!r)if((t[oe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Sc(t,o,e)}else{let o=n.preOrderHooks;o!==null&&Ic(t,o,0,e)}Hi(e)}function b(n,t=ye.Default){let e=re();if(e===null)return O(n,t);let r=Tt();return q_(r,e,$t(n),t)}function Vb(){let n="invalid";throw new Error(n)}function jb(n,t,e,r,i,o){let s=we(null);try{let a=null;i&fi.SignalBased&&(a=t[r][fn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&fi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(t,o)),n.setInput!==null?n.setInput(t,a,o,e,r):p_(t,a,r,o)}finally{we(s)}}function Du(n,t,e,r,i,o,s,a,l,c,f){let h=t.blueprint.slice();return h[Nr]=i,h[oe]=r|4|128|8|64|1024,(c!==null||n&&n[oe]&2048)&&(h[oe]|=2048),b_(h),h[Ot]=h[Go]=n,h[It]=e,h[xr]=s||n&&n[xr],h[Xe]=a||n&&n[Xe],h[Vo]=l||n&&n[Vo]||null,h[sn]=o,h[lu]=fx(),h[Lo]=f,h[d_]=c,h[rn]=t.type==2?n[rn]:h,h}function Xo(n,t,e,r,i){let o=n.data[t];if(o===null)o=DT(n,t,e,r,i),xI()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=DI();o.injectorIndex=s===null?-1:s.injectorIndex}return Qi(o,!0),o}function DT(n,t,e,r,i){let o=I_(),s=um(),a=s?o:o&&o.parent,l=n.data[t]=MT(n,a,e,t,r,i);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Bb(n,t,e,r){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ub(n,t,e,r,i){let o=cr(),s=r&2;try{Hi(-1),s&&t.length>xt&&Lb(n,t,xt,!1),xn(s?2:0,i),e(r,i)}finally{Hi(o),xn(s?3:1,i)}}function Fm(n,t,e){D_()&&(OT(n,t,e,Mn(e,t)),(e.flags&64)===64&&Wb(n,t,e))}function Rm(n,t,e=Mn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(t,n):n[s];n[i++]=a}}}function $b(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Om(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Om(n,t,e,r,i,o,s,a,l,c,f){let h=xt+r,v=h+i,g=ST(h,v),E=typeof c=="function"?c():c;return g[se]={type:n,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1,ssrId:f}}function ST(n,t){let e=[];for(let r=0;r<t;r++)e.push(r<n?null:Pt);return e}function IT(n,t,e,r){let o=r.get(vx,ub)||e===ar.ShadowDom,s=n.selectRootElement(t,o);return xT(s),s}function xT(n){TT(n)}var TT=()=>null;function MT(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return S_()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Sy(n,t,e,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,l=fi.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}n===0?Iy(r,e,c,a,l):Iy(r,e,c,a)}return r}function Iy(n,t,e,r,i){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,r):o=n[e]=[t,r],i!==void 0&&o.push(i)}function AT(n,t,e){let r=t.directiveStart,i=t.directiveEnd,o=n.data,s=t.attrs,a=[],l=null,c=null;for(let f=r;f<i;f++){let h=o[f],v=e?e.get(h):null,g=v?v.inputs:null,E=v?v.outputs:null;l=Sy(0,h.inputs,f,l,g),c=Sy(1,h.outputs,f,c,E);let T=l!==null&&s!==null&&!km(t)?qT(l,f,s):null;a.push(T)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function NT(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Pm(n,t,e,r,i,o,s,a){let l=Mn(t,e),c=t.inputs,f;!a&&c!=null&&(f=c[r])?(Vm(n,e,f,r,i),cu(t)&&kT(e,t.index)):t.type&3?(r=NT(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)):t.type&12}function kT(n,t){let e=hi(t,n);e[oe]&16||(e[oe]|=64)}function Lm(n,t,e,r){if(D_()){let i=r===null?null:{"":-1},o=LT(n,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Hb(n,t,e,s,i,a),i&&VT(e,r,i)}e.mergedAttrs=la(e.mergedAttrs,e.attrs)}function Hb(n,t,e,r,i,o){for(let c=0;c<r.length;c++)ah(Bc(e,t),n,r[c].type);BT(e,n.data.length,r.length);for(let c=0;c<r.length;c++){let f=r[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Bb(n,t,r.length,null);for(let c=0;c<r.length;c++){let f=r[c];e.mergedAttrs=la(e.mergedAttrs,f.hostAttrs),UT(n,e,t,l,f),jT(l,f,i),f.contentQueries!==null&&(e.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(e.flags|=64);let h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}AT(n,e,o)}function FT(n,t,e,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;RT(s)!=a&&s.push(a),s.push(e,r,o)}}function RT(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function OT(n,t,e,r){let i=e.directiveStart,o=e.directiveEnd;cu(e)&&$T(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Bc(e,t),di(r,t);let s=e.initialInputs;for(let a=i;a<o;a++){let l=n.data[a],c=zi(t,n,a,e);if(di(c,t),s!==null&&zT(t,a-i,c,l,e,s),ci(l)){let f=hi(e.index,t);f[It]=zi(t,n,a,e)}}}function Wb(n,t,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=MI();try{Hi(o);for(let a=r;a<i;a++){let l=n.data[a],c=t[a];rh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&PT(l,c)}}finally{Hi(-1),rh(s)}}function PT(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function LT(n,t){let e=n.directiveRegistry,r=null,i=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(Pb(t,s.selectors,!1))if(r||(r=[]),ci(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Ch(n,t,l)}else r.unshift(s),Ch(n,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ch(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function VT(n,t,e){if(t){let r=n.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new $(-301,!1);r.push(t[i],o)}}}function jT(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;ci(t)&&(e[""]=n)}}function BT(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function UT(n,t,e,r,i){n.data[r]=i;let o=i.factory||(i.factory=ji(i.type,!0)),s=new Wi(o,ci(i),b);n.blueprint[r]=s,e[r]=s,FT(n,t,r,Bb(n,e,i.hostVars,Pt),i)}function zb(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function $T(n,t,e){let r=Mn(t,n),i=$b(e),o=n[xr].rendererFactory,s=Su(n,Du(n,i,null,zb(e),r,t,null,o.createRenderer(r,e),null,null,null));n[t.index]=s}function HT(n,t,e,r,i,o){let s=Mn(n,t);WT(t[Xe],s,o,n.value,e,r,i)}function WT(n,t,e,r,i,o,s){if(o==null)n.removeAttribute(t,i,e);else{let a=s==null?or(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}function zT(n,t,e,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],f=s[a++],h=s[a++];jb(r,e,l,c,f,h)}}function qT(n,t,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function qb(n,t,e,r){return[n,!0,0,t,null,r,null,e,null,null]}function Su(n,t){return n[aa]?n[ny][Kn]=t:n[aa]=t,n[ny]=t,t}function Gb(n,t){let e=n[Vo],r=e?e.get(Mr,null):null;r&&r.handleError(t)}function Vm(n,t,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=t[s],f=n.data[s];jb(f,c,r,a,l,i)}}function GT(n,t){let e=hi(t,n),r=e[se];QT(r,e);let i=e[Nr];i!==null&&e[Lo]===null&&(e[Lo]=Dm(i,e[Vo])),jm(r,e,e[It])}function QT(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function jm(n,t,e){pm(t);try{let r=n.viewQuery;r!==null&&vh(1,r,e);let i=n.template;i!==null&&Ub(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Tr]?.finishViewCreation(n),n.staticContentQueries&&fb(n,t),n.staticViewQueries&&vh(2,n.viewQuery,e);let o=n.components;o!==null&&KT(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[oe]&=-5,hm()}}function KT(n,t){for(let e=0;e<t.length;e++)GT(n,t[e])}function _a(n,t,e,r){let i=we(null);try{let o=t.tView,a=n[oe]&4096?4096:16,l=Du(n,o,e,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[t.index];l[Bi]=c;let f=n[Tr];return f!==null&&(l[Tr]=f.createEmbeddedView(o)),jm(o,l,e),l}finally{we(i)}}function Qb(n,t){let e=Rt+t;if(e<n.length)return n[e]}function Uo(n,t){return!t||t.firstChild===null||nb(n)}function ba(n,t,e,r=!0){let i=t[se];if(eT(i,t,n,e),r){let s=wh(e,n),a=t[Xe],l=Mb(a,n[Ui]);l!==null&&Jx(i,n[sn],a,t,l,s)}let o=t[Lo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kb(n,t){let e=ca(n,t);return e!==void 0&&wu(e[se],e),e}function zc(n,t,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&r.push(sr(o)),kr(o)&&ZT(o,r);let s=e.type;if(s&8)zc(n,t,e.child,r);else if(s&32){let a=Mm(e,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Nb(t,e);if(Array.isArray(a))r.push(...a);else{let l=$i(t[rn]);zc(l[se],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function ZT(n,t){for(let e=Rt;e<n.length;e++){let r=n[e],i=r[se].firstChild;i!==null&&zc(r[se],r,i,t)}n[Ui]!==n[Nr]&&t.push(n[Ui])}var Zb=[];function YT(n){return n[hn]??JT(n)}function JT(n){let t=Zb.pop()??Object.create(eM);return t.lView=n,t}function XT(n){n.lView[hn]!==n&&(n.lView=null,Zb.push(n))}var eM=ie(M({},Ys),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{fu(n.lView)},consumerOnSignalRead(){this.lView[hn]=this}});function tM(n){let t=n[hn]??Object.create(nM);return t.lView=n,t}var nM=ie(M({},Ys),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=$i(n.lView);for(;t&&!Yb(t[se]);)t=$i(t);t&&cm(t)},consumerOnSignalRead(){this.lView[hn]=this}});function Yb(n){return n.type!==2}function Jb(n){if(n[Oc]===null)return;let t=!0;for(;t;){let e=!1;for(let r of n[Oc])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=e&&!!(n[oe]&8192)}}var rM=100;function Xb(n,t=!0,e=0){let i=n[xr].rendererFactory,o=!1;o||i.begin?.();try{iM(n,e)}catch(s){throw t&&Gb(n,s),s}finally{o||i.end?.()}}function iM(n,t){let e=x_();try{iy(!0),Eh(n,t);let r=0;for(;du(n);){if(r===rM)throw new $(103,!1);r++,Eh(n,1)}}finally{iy(e)}}function oM(n,t,e,r){if(ma(t))return;let i=t[oe],o=!1,s=!1;pm(t);let a=!0,l=null,c=null;o||(Yb(n)?(c=YT(t),l=Bl(c)):sv()===null?(a=!1,c=tM(t),l=Bl(c)):t[hn]&&(sp(t[hn]),t[hn]=null));try{b_(t),II(n.bindingStartIndex),e!==null&&Ub(n,t,e,2,r);let f=(i&3)===3;if(!o)if(f){let g=n.preOrderCheckHooks;g!==null&&Sc(t,g,null)}else{let g=n.preOrderHooks;g!==null&&Ic(t,g,0,null),Op(t,0)}if(s||sM(t),Jb(t),ew(t,0),n.contentQueries!==null&&fb(n,t),!o)if(f){let g=n.contentCheckHooks;g!==null&&Sc(t,g)}else{let g=n.contentHooks;g!==null&&Ic(t,g,1),Op(t,1)}lM(n,t);let h=n.components;h!==null&&nw(t,h,0);let v=n.viewQuery;if(v!==null&&vh(2,v,r),!o)if(f){let g=n.viewCheckHooks;g!==null&&Sc(t,g)}else{let g=n.viewHooks;g!==null&&Ic(t,g,2),Op(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[Rp]){for(let g of t[Rp])g();t[Rp]=null}o||(t[oe]&=-73)}catch(f){throw o||fu(t),f}finally{c!==null&&(ip(c,l),a&&XT(c)),hm()}}function ew(n,t){for(let e=ob(n);e!==null;e=sb(e))for(let r=Rt;r<e.length;r++){let i=e[r];tw(i,t)}}function sM(n){for(let t=ob(n);t!==null;t=sb(t)){if(!(t[oe]&2))continue;let e=t[jo];for(let r=0;r<e.length;r++){let i=e[r];cm(i)}}}function aM(n,t,e){let r=hi(t,n);tw(r,e)}function tw(n,t){lm(n)&&Eh(n,t)}function Eh(n,t){let r=n[se],i=n[oe],o=n[hn],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&op(o)),s||=!1,o&&(o.dirty=!1),n[oe]&=-9217,s)oM(r,n,r.template,n[It]);else if(i&8192){Jb(n),ew(n,1);let a=r.components;a!==null&&nw(n,a,1)}}function nw(n,t,e){for(let r=0;r<t.length;r++)aM(n,t[r],e)}function lM(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Hi(~i);else{let o=i,s=e[++r],a=e[++r];TI(s,o);let l=t[o];xn(24,l),a(2,l),xn(25,l)}}}finally{Hi(-1)}}function Bm(n,t){let e=x_()?64:1088;for(n[xr].changeDetectionScheduler?.notify(t);n;){n[oe]|=e;let r=$i(n);if(Xp(n)&&!r)return n;n=r}return null}var qi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[se];return zc(e,t,e.firstChild,[])}constructor(t,e,r=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[It]}get dirty(){return!!(this._lView[oe]&9280)||!!this._lView[hn]?.dirty}set context(t){this._lView[It]=t}get destroyed(){return ma(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ot];if(kr(t)){let e=t[Pc],r=e?e.indexOf(this):-1;r>-1&&(ca(t,r),kc(e,r))}this._attachedToViewContainer=!1}wu(this._lView[se],this._lView)}onDestroy(t){w_(this._lView,t)}markForCheck(){Bm(this._cdRefInjectingView||this._lView,4)}markForRefresh(){cm(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){th(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,Xb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Xp(this._lView),e=this._lView[Bi];e!==null&&!t&&Am(e,this._lView),Sb(this._lView[se],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=t;let e=Xp(this._lView),r=this._lView[Bi];r!==null&&!e&&Ib(r,this._lView),th(this._lView)}},Ee=(()=>{class n{static __NG_ELEMENT_ID__=dM}return n})(),cM=Ee,uM=class extends cM{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){let i=_a(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:r});return new qi(i)}};function dM(){return Iu(Tt(),re())}function Iu(n,t){return n.type&4?new uM(t,n,Zo(n,t)):null}var CH=new RegExp(`^(\\d+)*(${gx}|${mx})*(.*)`);var fM=()=>null;function $o(n,t){return fM(n,t)}var Dh=class{},qc=class{},Sh=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Ht(t)}.`)}},Ho=class{static NULL=new Sh},Wo=class{},an=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>pM()}return n})();function pM(){let n=re(),t=Tt(),e=hi(t.index,n);return(ai(e)?e:n)[Xe]}var hM=(()=>{class n{static \u0275prov=k({token:n,providedIn:"root",factory:()=>null})}return n})();function Gc(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=qp(i,a);else if(o==2){let l=a,c=t[++s];r=qp(r,l+": "+c+";")}}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}var Qc=class extends Ho{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=li(t);return new zo(e,this.ngModule)}};function xy(n,t){let e=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:fi.None;t?e.push({propName:s,templateName:r,isSignal:(a&fi.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function mM(n){let t=n.toLowerCase();return t==="svg"?v_:t==="math"?pI:null}var zo=class extends qc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,e=t.inputTransforms,r=xy(t.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return xy(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=CT(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){let o=we(null);try{i=i||this.ngModule;let s=i instanceof Wt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new oh(t,s):t,l=a.get(Wo,null);if(l===null)throw new $(407,!1);let c=a.get(hM,null),f=a.get(Bo,null),h={rendererFactory:l,sanitizer:c,changeDetectionScheduler:f},v=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",E=r?IT(v,r,this.componentDef.encapsulation,a):Db(v,g,mM(g)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let A=null;E!==null&&(A=Dm(E,a,!0));let j=Om(0,null,null,1,0,null,null,null,null,null,null),de=Du(null,j,null,T,null,null,h,v,a,null,A);pm(de);let te,De,qe=null;try{let Ge=this.componentDef,Kr,Zf=null;Ge.findHostDirectiveDefs?(Kr=[],Zf=new Map,Ge.findHostDirectiveDefs(Ge,Kr,Zf),Kr.push(Ge)):Kr=[Ge];let BS=gM(de,E);qe=vM(BS,E,Ge,Kr,de,h,v),De=am(j,xt),E&&bM(v,Ge,E,r),e!==void 0&&wM(De,this.ngContentSelectors,e),te=_M(qe,Ge,Kr,Zf,de,[CM]),jm(j,de,null)}catch(Ge){throw qe!==null&&hh(qe),hh(de),Ge}finally{hm()}return new Ih(this.componentType,te,Zo(De,de),de,De)}finally{we(o)}}},Ih=class extends Dh{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new qi(i,void 0,!1),this.componentType=t}setInput(t,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;Vm(o[se],o,i,t,e),this.previousInputValues.set(t,e);let s=hi(this._tNode.index,o);Bm(s,1)}}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function gM(n,t){let e=n[se],r=xt;return n[r]=t,Xo(e,r,2,"#host",null)}function vM(n,t,e,r,i,o,s){let a=i[se];yM(r,n,t,s);let l=null;t!==null&&(l=Dm(t,i[Vo]));let c=o.rendererFactory.createRenderer(t,e),f=Du(i,$b(e),null,zb(e),i[n.index],n,o,c,null,null,l);return a.firstCreatePass&&Ch(a,n,r.length-1),Su(i,f),i[n.index]=f}function yM(n,t,e,r){for(let i of n)t.mergedAttrs=la(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Gc(t,t.mergedAttrs,!0),e!==null&&Rb(r,e,t))}function _M(n,t,e,r,i,o){let s=Tt(),a=i[se],l=Mn(s,i);Hb(a,i,s,e,null,r);for(let f=0;f<e.length;f++){let h=s.directiveStart+f,v=zi(i,a,h,s);di(v,i)}Wb(a,i,s),l&&di(l,i);let c=zi(i,a,s.directiveStart+s.componentOffset,s);if(n[It]=i[It]=c,o!==null)for(let f of o)f(c,t);return Sm(a,s,i),c}function bM(n,t,e,r){if(r)ih(n,e,["ng-version","19.1.1"]);else{let{attrs:i,classes:o}=ET(t.selectors[0]);i&&ih(n,e,i),o&&o.length>0&&Fb(n,e,o.join(" "))}}function wM(n,t,e){let r=n.projection=[];for(let i=0;i<t.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}function CM(){let n=Tt();vu(re()[se],n)}var Pr=(()=>{class n{static __NG_ELEMENT_ID__=EM}return n})();function EM(){let n=Tt();return iw(n,re())}var DM=Pr,rw=class extends DM{_lContainer;_hostTNode;_hostLView;constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){let t=mm(this._hostTNode,this._hostLView);if(B_(t)){let e=Vc(t,this._hostLView),r=Lc(t),i=e[se].data[r+8];return new Vi(i,e)}else return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Ty(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(t,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$o(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,Uo(this._hostTNode,s)),a}createComponent(t,e,r,i,o){let s=t&&!cI(t),a;if(s)a=e;else{let E=e||{};a=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}let l=s?t:new zo(li(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let T=(s?c:this.parentInjector).get(Wt,null);T&&(o=T)}let f=li(l.componentType??{}),h=$o(this._lContainer,f?.id??null),v=h?.firstChild??null,g=l.create(c,i,v,o);return this.insertImpl(g.hostView,a,Uo(this._hostTNode,h)),g}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,r){let i=t._lView;if(mI(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Ot],c=new rw(l,l[sn],l[Ot]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return ba(s,i,o,r),t.attachToViewContainerRef(),Xy(jp(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Ty(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),r=ca(this._lContainer,e);r&&(kc(jp(this._lContainer),e),wu(r[se],r))}detach(t){let e=this._adjustIndex(t,-1),r=ca(this._lContainer,e);return r&&kc(jp(this._lContainer),e)!=null?new qi(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function Ty(n){return n[Pc]}function jp(n){return n[Pc]||(n[Pc]=[])}function iw(n,t){let e,r=t[n.index];return kr(r)?e=r:(e=qb(r,t,null,n),t[n.index]=e,Su(t,e)),IM(e,t,n,r),new rw(e,n,t)}function SM(n,t){let e=n[Xe],r=e.createComment(""),i=Mn(t,n),o=Mb(e,i);return Wc(e,o,r,iT(e,i),!1),r}var IM=MM,xM=()=>!1;function TM(n,t,e){return xM(n,t,e)}function MM(n,t,e,r){if(n[Ui])return;let i;e.type&8?i=sr(r):i=SM(t,e),n[Ui]=i}var xh=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Th=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let r=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Um(t,e).matches!==null&&this.queries[e].setDirty()}},Kc=class{flags;read;predicate;constructor(t,e,r=null){this.flags=e,this.read=r,typeof t=="string"?this.predicate=LM(t):this.predicate=t}},Mh=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ah=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,e,AM(e,o)),this.matchTNodeWithReadOption(t,e,xc(e,t,o,!1,!1))}else r===Ee?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,xc(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===He||i===Pr||i===Ee&&e.type&4)this.addMatch(e.index,-2);else{let o=xc(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function AM(n,t){let e=n.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1]}return null}function NM(n,t){return n.type&11?Zo(n,t):n.type&4?Iu(n,t):null}function kM(n,t,e,r){return e===-1?NM(t,n):e===-2?FM(n,t,r):zi(n,n[se],e,t)}function FM(n,t,e){if(e===He)return Zo(t,n);if(e===Ee)return Iu(t,n);if(e===Pr)return iw(t,n)}function ow(n,t,e,r){let i=t[Tr].queries[r];if(i.matches===null){let o=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let f=o[c];a.push(kM(t,f,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function Nh(n,t,e,r){let i=n.queries.getByIndex(e),o=i.matches;if(o!==null){let s=ow(n,t,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],f=t[-l];for(let h=Rt;h<f.length;h++){let v=f[h];v[Bi]===v[Ot]&&Nh(v[se],v,c,r)}if(f[jo]!==null){let h=f[jo];for(let v=0;v<h.length;v++){let g=h[v];Nh(g[se],g,c,r)}}}}}return r}function RM(n,t){return n[Tr].queries[t].queryList}function sw(n,t,e){let r=new ph((e&4)===4);return yI(n,t,r,r.destroy),(t[Tr]??=new Th).queries.push(new xh(r))-1}function OM(n,t,e){let r=tt();return r.firstCreatePass&&(aw(r,new Kc(n,t,e),-1),(t&2)===2&&(r.staticViewQueries=!0)),sw(r,re(),t)}function PM(n,t,e,r){let i=tt();if(i.firstCreatePass){let o=Tt();aw(i,new Kc(t,e,r),o.index),VM(i,n),(e&2)===2&&(i.staticContentQueries=!0)}return sw(i,re(),e)}function LM(n){return n.split(",").map(t=>t.trim())}function aw(n,t,e){n.queries===null&&(n.queries=new Mh),n.queries.track(new Ah(t,e))}function VM(n,t){let e=n.contentQueries||(n.contentQueries=[]),r=e.length?e[e.length-1]:-1;t!==r&&e.push(n.queries.length-1,t)}function Um(n,t){return n.queries.getByIndex(t)}function jM(n,t){let e=n[se],r=Um(e,t);return r.crossesNgTemplate?Nh(e,n,t,[]):ow(e,n,r,t)}var pi=class{},ua=class{};var kh=class extends pi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Qc(this);constructor(t,e,r,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=n_(t);this._bootstrapComponents=Eb(o.bootstrap),this._r3Injector=K_(t,e,[{provide:pi,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver},...r],Ht(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Fh=class extends ua{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new kh(this.moduleType,t,[])}};var Zc=class extends pi{injector;componentFactoryResolver=new Qc(this);instance=null;constructor(t){super();let e=new sa([...t.providers,{provide:pi,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],t.parent||im(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function xu(n,t,e=null){return new Zc({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var BM=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=s_(!1,e.type),i=r.length>0?xu([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:n,providedIn:"environment",factory:()=>new n(O(Wt))})}return n})();function R(n){return pa(()=>{let t=lw(n),e=ie(M({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(BM).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ar.Emulated,styles:n.styles||nn,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Rr("NgStandalone"),cw(e);let r=n.dependencies;return e.directiveDefs=Ay(r,!1),e.pipeDefs=Ay(r,!0),e.id=HM(e),e})}function UM(n){return li(n)||r_(n)}function $M(n){return n!==null}function Gt(n){return pa(()=>({type:n.type,bootstrap:n.bootstrap||nn,declarations:n.declarations||nn,imports:n.imports||nn,exports:n.exports||nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function My(n,t){if(n==null)return Ro;let e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=fi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(e[o]=a!==fi.None?[r,a]:r,t[o]=s):e[o]=r}return e}function X(n){return pa(()=>{let t=lw(n);return cw(t),t})}function $m(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function lw(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Ro,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:My(n.inputs,t),outputs:My(n.outputs),debugInfo:null}}function cw(n){n.features?.forEach(t=>t(n))}function Ay(n,t){if(!n)return null;let e=t?i_:UM;return()=>(typeof n=="function"?n():n).map(r=>e(r)).filter($M)}function HM(n){let t=0,e=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function WM(n){return Object.getPrototypeOf(n.prototype).constructor}function dt(n){let t=WM(n.type),e=!0,r=[n];for(;t;){let i;if(ci(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);let s=n;s.inputs=Cc(n.inputs),s.inputTransforms=Cc(n.inputTransforms),s.declaredInputs=Cc(n.declaredInputs),s.outputs=Cc(n.outputs);let a=i.hostBindings;a&&KM(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&GM(n,l),c&&QM(n,c),zM(n,i),M1(n.outputs,i.outputs),ci(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===dt&&(e=!1)}}t=Object.getPrototypeOf(t)}qM(r)}function zM(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let r=t.inputs[e];if(r!==void 0&&(n.inputs[e]=r,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=t.inputTransforms[i]}}}function qM(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=la(i.hostAttrs,e=la(e,i.hostAttrs))}}function Cc(n){return n===Ro?{}:n===nn?[]:n}function GM(n,t){let e=n.viewQuery;e?n.viewQuery=(r,i)=>{t(r,i),e(r,i)}:n.viewQuery=t}function QM(n,t){let e=n.contentQueries;e?n.contentQueries=(r,i,o)=>{t(r,i,o),e(r,i,o)}:n.contentQueries=t}function KM(n,t){let e=n.hostBindings;e?n.hostBindings=(r,i)=>{t(r,i),e(r,i)}:n.hostBindings=t}function Yi(n){let t=n.inputConfig,e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}n.inputTransforms=e}function uw(n){return YM(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function ZM(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),r;for(;!(r=e.next()).done;)t(r.value)}}function YM(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function es(n,t,e){return n[t]=e}function dw(n,t){return n[t]}function mn(n,t,e){let r=n[t];return Object.is(r,e)?!1:(n[t]=e,!0)}function da(n,t,e,r){let i=mn(n,t,e);return mn(n,t+1,r)||i}function fw(n,t,e,r,i){let o=da(n,t,e,r);return mn(n,t+2,i)||o}function pw(n,t,e,r,i,o){let s=da(n,t,e,r);return da(n,t+2,i,o)||s}function JM(n){return(n.flags&32)===32}function XM(n,t,e,r,i,o,s,a,l){let c=t.consts,f=Xo(t,n,4,s||null,a||null);Lm(t,e,f,ui(c,l)),vu(t,f);let h=f.tView=Om(2,f,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}function Yc(n,t,e,r,i,o,s,a,l,c){let f=e+xt,h=t.firstCreatePass?XM(f,t,n,r,i,o,s,a,l):t.data[f];Qi(h,!1);let v=eA(t,n,h,e);mu()&&Cu(t,n,v,h),di(v,n);let g=qb(v,n,v,h);return n[f]=g,Su(n,g),TM(g,h,n),uu(h)&&Fm(t,n,h),l!=null&&Rm(n,h,c),h}function x(n,t,e,r,i,o,s,a){let l=re(),c=tt(),f=ui(c.consts,o);return Yc(l,c,n,t,e,r,i,f,s,a),x}var eA=tA;function tA(n,t,e,r){return gu(!0),t[Xe].createComment("")}var Hm=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var hw=new P("");function Ji(n){return!!n&&typeof n.then=="function"}function mw(n){return!!n&&typeof n.subscribe=="function"}var ts=new P("");var gw=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=N(ts,{optional:!0})??[];injector=N(zt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=on(this.injector,i);if(Ji(o))e.push(o);else if(mw(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nA=(()=>{class n{static \u0275prov=k({token:n,providedIn:"root",factory:()=>new Rh})}return n})(),Rh=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,r=this.queues.get(e);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},wa=new P("");function rA(){mv(()=>{throw new $(600,!1)})}function iA(n){return n.isBoundToModule}var oA=10;function sA(n,t,e){try{let r=e();return Ji(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}var Tn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(ix);afterRenderManager=N(db);zonelessEnabled=N(yu);rootEffectScheduler=N(nA);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ne;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(Fr).hasPendingTasks.pipe(z(e=>!e));constructor(){N(Yo,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=N(Wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof qc;if(!this._injector.get(gw).done){let v=!i&&o_(e),g=!1;throw new $(405,g)}let s;i?s=e:s=this._injector.get(Ho).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=iA(s)?void 0:this._injector.get(pi),l=r||s.selector,c=s.create(zt.NULL,[],l,a),f=c.location.nativeElement,h=c.injector.get(hw,null);return h?.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),Tc(this.components,c),h?.unregisterApplication(f)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Cm.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new $(101,!1);let e=we(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,we(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<oA;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)aA(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>du(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Tc(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(wa,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Tc(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new $(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tc(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function aA(n,t,e,r){if(!e&&!du(n))return;Xb(n,t,e&&!r?0:1)}function Mt(n,t,e,r){let i=re(),o=Qo();if(mn(i,o,t)){let s=tt(),a=hu();HT(a,i,n,t,e,r)}return Mt}function vw(n,t,e,r){return mn(n,Qo(),e)?t+or(e)+r:Pt}function lA(n,t,e,r,i,o){let s=T_(),a=da(n,s,e,i);return pu(2),a?t+or(e)+r+or(i)+o:Pt}function cA(n,t,e,r,i,o,s,a){let l=T_(),c=fw(n,l,e,i,s);return pu(3),c?t+or(e)+r+or(i)+o+or(s)+a:Pt}function Ec(n,t){return n<<17|t<<2}function Gi(n){return n>>17&32767}function uA(n){return(n&2)==2}function dA(n,t){return n&131071|t<<17}function Oh(n){return n|2}function qo(n){return(n&131068)>>2}function Bp(n,t){return n&-131069|t<<2}function fA(n){return(n&1)===1}function Ph(n){return n|1}function pA(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Gi(s),l=qo(s);n[r]=e;let c=!1,f;if(Array.isArray(e)){let h=e;f=h[1],(f===null||ha(h,f)>0)&&(c=!0)}else f=e;if(i)if(l!==0){let v=Gi(n[a+1]);n[r+1]=Ec(v,a),v!==0&&(n[v+1]=Bp(n[v+1],r)),n[a+1]=dA(n[a+1],r)}else n[r+1]=Ec(a,0),a!==0&&(n[a+1]=Bp(n[a+1],r)),a=r;else n[r+1]=Ec(l,0),a===0?a=r:n[l+1]=Bp(n[l+1],r),l=r;c&&(n[r+1]=Oh(n[r+1])),Ny(n,f,r,!0),Ny(n,f,r,!1),hA(t,f,n,r,o),s=Ec(a,l),o?t.classBindings=s:t.styleBindings=s}function hA(n,t,e,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&ha(o,t)>=0&&(e[r+1]=Ph(e[r+1]))}function Ny(n,t,e,r){let i=n[e+1],o=t===null,s=r?Gi(i):qo(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],c=n[s+1];mA(l,t)&&(a=!0,n[s+1]=r?Ph(c):Oh(c)),s=r?Gi(c):qo(c)}a&&(n[e+1]=r?Oh(i):Ph(i))}function mA(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?ha(n,t)>=0:!1}var Qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gA(n){return n.substring(Qn.key,Qn.keyEnd)}function vA(n){return yA(n),yw(n,_w(n,0,Qn.textEnd))}function yw(n,t){let e=Qn.textEnd;return e===t?-1:(t=Qn.keyEnd=_A(n,Qn.key=t,e),_w(n,t,e))}function yA(n){Qn.key=0,Qn.keyEnd=0,Qn.value=0,Qn.valueEnd=0,Qn.textEnd=n.length}function _w(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function _A(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function y(n,t,e){let r=re(),i=Qo();if(mn(r,i,t)){let o=tt(),s=hu();Pm(o,s,r,n,t,r[Xe],e,!1)}return y}function Lh(n,t,e,r,i){let o=t.inputs,s=i?"class":"style";Vm(n,e,o[s],s,r)}function ns(n,t,e){return bw(n,t,e,!1),ns}function q(n,t){return bw(n,t,null,!0),q}function Tu(n){wA(xA,bA,n,!0)}function bA(n,t){for(let e=vA(t);e>=0;e=yw(t,e))tm(n,gA(t),!0)}function bw(n,t,e,r){let i=re(),o=tt(),s=pu(2);if(o.firstUpdatePass&&Cw(o,n,s,r),t!==Pt&&mn(i,s,t)){let a=o.data[cr()];Ew(o,a,i,i[Xe],n,i[s+1]=MA(t,e),r,s)}}function wA(n,t,e,r){let i=tt(),o=pu(2);i.firstUpdatePass&&Cw(i,null,o,r);let s=re();if(e!==Pt&&mn(s,o,e)){let a=i.data[cr()];if(Dw(a,r)&&!ww(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=qp(l,e||"")),Lh(i,a,s,e,r)}else TA(i,a,s,s[Xe],s[o+1],s[o+1]=IA(n,t,e),r,o)}}function ww(n,t){return t>=n.expandoStartIndex}function Cw(n,t,e,r){let i=n.data;if(i[e+1]===null){let o=i[cr()],s=ww(n,e);Dw(o,r)&&t===null&&!s&&(t=!1),t=CA(i,o,t,r),pA(i,o,t,e,s,r)}}function CA(n,t,e,r){let i=AI(n),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(e=Up(null,n,t,e,r),e=fa(e,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=Up(i,n,t,e,r),o===null){let l=EA(n,t,r);l!==void 0&&Array.isArray(l)&&(l=Up(null,n,t,l[1],r),l=fa(l,t.attrs,r),DA(n,t,r,l))}else o=SA(n,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),e}function EA(n,t,e){let r=e?t.classBindings:t.styleBindings;if(qo(r)!==0)return n[Gi(r)]}function DA(n,t,e,r){let i=e?t.classBindings:t.styleBindings;n[Gi(i)]=r}function SA(n,t,e){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=fa(r,s,e)}return fa(r,t.attrs,e)}function Up(n,t,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],r=fa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),r}function fa(n,t,e){let r=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),tm(n,s,e?!0:t[++o]))}return n===void 0?null:n}function IA(n,t,e){if(e==null||e==="")return nn;let r=[],i=Zi(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function xA(n,t,e){let r=String(t);r!==""&&!r.includes(" ")&&tm(n,r,e)}function TA(n,t,e,r,i,o,s,a){i===Pt&&(i=nn);let l=0,c=0,f=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;f!==null||h!==null;){let v=l<i.length?i[l+1]:void 0,g=c<o.length?o[c+1]:void 0,E=null,T;f===h?(l+=2,c+=2,v!==g&&(E=h,T=g)):h===null||f!==null&&f<h?(l+=2,E=f):(c+=2,E=h,T=g),E!==null&&Ew(n,t,e,r,E,T,s,a),f=l<i.length?i[l]:null,h=c<o.length?o[c]:null}}function Ew(n,t,e,r,i,o,s,a){if(!(t.type&3))return;let l=n.data,c=l[a+1],f=fA(c)?ky(l,t,e,i,qo(c),s):void 0;if(!Jc(f)){Jc(o)||uA(c)&&(o=ky(l,null,e,i,a,s));let h=y_(cr(),e);uT(r,s,h,i,o)}}function ky(n,t,e,r,i,o){let s=t===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),f=c?l[1]:l,h=f===null,v=e[i+1];v===Pt&&(v=h?nn:void 0);let g=h?kp(v,r):f===r?v:void 0;if(c&&!Jc(g)&&(g=kp(l,r)),Jc(g)&&(a=g,s))return a;let E=n[i+1];i=s?Gi(E):qo(E)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=kp(l,r))}return a}function Jc(n){return n!==void 0}function MA(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Ht(Zi(n)))),n}function Dw(n,t){return(n.flags&(t?8:16))!==0}function Wm(){return re()[rn][It]}var Vh=class{destroy(t){}updateValue(t,e){}swap(t,e){let r=Math.min(t,e),i=Math.max(t,e),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,e){this.attach(e,this.detach(t))}};function $p(n,t,e,r,i){return n===e&&Object.is(t,r)?1:Object.is(i(n,t),i(e,r))?-1:0}function AA(n,t,e){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let c=n.at(o),f=t[o],h=$p(o,c,o,f,e);if(h!==0){h<0&&n.updateValue(o,f),o++;continue}let v=n.at(s),g=t[l],E=$p(s,v,l,g,e);if(E!==0){E<0&&n.updateValue(s,g),s--,l--;continue}let T=e(o,c),A=e(s,v),j=e(o,f);if(Object.is(j,A)){let de=e(l,g);Object.is(de,T)?(n.swap(o,s),n.updateValue(s,g),l--,s--):n.move(s,o),n.updateValue(o,f),o++;continue}if(r??=new Xc,i??=Ry(n,o,s,e),jh(n,r,o,j))n.updateValue(o,f),o++,s++;else if(i.has(j))r.set(T,n.detach(o)),s--;else{let de=n.create(o,t[o]);n.attach(o,de),o++,s++}}for(;o<=l;)Fy(n,r,e,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let f=n.at(o),h=c.value,v=$p(o,f,o,h,e);if(v!==0)v<0&&n.updateValue(o,h),o++,c=l.next();else{r??=new Xc,i??=Ry(n,o,s,e);let g=e(o,h);if(jh(n,r,o,g))n.updateValue(o,h),o++,s++,c=l.next();else if(!i.has(g))n.attach(o,n.create(o,h)),o++,s++,c=l.next();else{let E=e(o,f);r.set(E,n.detach(o)),s--}}}for(;!c.done;)Fy(n,r,e,n.length,c.value),c=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function jh(n,t,e,r){return t!==void 0&&t.has(r)?(n.attach(e,t.get(r)),t.delete(r),!0):!1}function Fy(n,t,e,r,i){if(jh(n,t,r,e(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Ry(n,t,e,r){let i=new Set;for(let o=t;o<=e;o++)i.add(r(o,n.at(o)));return i}var Xc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,r]of this.kvMap)if(t(r,e),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,e)}}};function Qt(n,t){Rr("NgControlFlow");let e=re(),r=Qo(),i=e[r]!==Pt?e[r]:-1,o=i!==-1?eu(e,xt+i):void 0,s=0;if(mn(e,r,n)){let a=we(null);try{if(o!==void 0&&Kb(o,s),n!==-1){let l=xt+n,c=eu(e,l),f=Hh(e[se],l),h=$o(c,f.tView.ssrId),v=_a(e,f,t,{dehydratedView:h});ba(c,v,s,Uo(f,h))}}finally{we(a)}}else if(o!==void 0){let a=Qb(o,s);a!==void 0&&(a[It]=t)}}var Bh=class{lContainer;$implicit;$index;constructor(t,e,r){this.lContainer=t,this.$implicit=e,this.$index=r}get $count(){return this.lContainer.length-Rt}};var Uh=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,r){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=r}};function zm(n,t,e,r,i,o,s,a,l,c,f,h,v){Rr("NgControlFlow");let g=re(),E=tt(),T=l!==void 0,A=re(),j=a?s.bind(A[rn][It]):s,de=new Uh(T,j);A[xt+n]=de,Yc(g,E,n+1,t,e,r,i,ui(E.consts,o)),T&&Yc(g,E,n+2,l,c,f,h,ui(E.consts,v))}var $h=class extends Vh{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,r){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=r}get length(){return this.lContainer.length-Rt}at(t){return this.getLView(t)[It].$implicit}attach(t,e){let r=e[Lo];this.needsIndexUpdate||=t!==this.length,ba(this.lContainer,e,t,Uo(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,NA(this.lContainer,t)}create(t,e){let r=$o(this.lContainer,this.templateTNode.tView.ssrId),i=_a(this.hostLView,this.templateTNode,new Bh(this.lContainer,e,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){wu(t[se],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[It].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[It].$index=t}getLView(t){return kA(this.lContainer,t)}};function qm(n){let t=we(null),e=cr();try{let r=re(),i=r[se],o=r[e],s=e+1,a=eu(r,s);if(o.liveCollection===void 0){let c=Hh(i,s);o.liveCollection=new $h(a,r,c)}else o.liveCollection.reset();let l=o.liveCollection;if(AA(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Qo(),f=l.length===0;if(mn(r,c,f)){let h=e+2,v=eu(r,h);if(f){let g=Hh(i,h),E=$o(v,g.tView.ssrId),T=_a(r,g,void 0,{dehydratedView:E});ba(v,T,0,Uo(g,E))}else Kb(v,0)}}}finally{we(t)}}function eu(n,t){return n[t]}function NA(n,t){return ca(n,t)}function kA(n,t){return Qb(n,t)}function Hh(n,t){return am(n,t)}function FA(n,t,e,r,i,o){let s=t.consts,a=ui(s,i),l=Xo(t,n,2,r,a);return Lm(t,e,l,ui(s,o)),l.attrs!==null&&Gc(l,l.attrs,!1),l.mergedAttrs!==null&&Gc(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function d(n,t,e,r){let i=re(),o=tt(),s=xt+n,a=i[Xe],l=o.firstCreatePass?FA(s,o,i,t,e,r):o.data[s],c=RA(o,i,l,a,t,n);i[s]=c;let f=uu(l);return Qi(l,!0),Rb(a,c,l),!JM(l)&&mu()&&Cu(o,i,c,l),_I()===0&&di(c,i),bI(),f&&(Fm(o,i,l),Sm(o,l,i)),r!==null&&Rm(i,l),d}function u(){let n=Tt();um()?dm():(n=n.parent,Qi(n,!1));let t=n;CI(t)&&EI(),wI();let e=tt();return e.firstCreatePass&&(vu(e,n),sm(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&VI(t)&&Lh(e,t,re(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&jI(t)&&Lh(e,t,re(),t.stylesWithoutHost,!1),u}function I(n,t,e,r){return d(n,t,e,r),u(),I}var RA=(n,t,e,r,i,o)=>(gu(!0),Db(r,i,RI()));function OA(n,t,e,r,i){let o=t.consts,s=ui(o,r),a=Xo(t,n,8,"ng-container",s);s!==null&&Gc(a,s,!0);let l=ui(o,i);return Lm(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function at(n,t,e){let r=re(),i=tt(),o=n+xt,s=i.firstCreatePass?OA(o,i,r,t,e):i.data[o];Qi(s,!0);let a=PA(i,r,s,n);return r[o]=a,mu()&&Cu(i,r,a,s),di(a,r),uu(s)&&(Fm(i,r,s),Sm(i,s,r)),e!=null&&Rm(r,s),at}function lt(){let n=Tt(),t=tt();return um()?dm():(n=n.parent,Qi(n,!1)),t.firstCreatePass&&(vu(t,n),sm(n)&&t.queries.elementEnd(n)),lt}function Ca(n,t,e){return at(n,t,e),lt(),Ca}var PA=(n,t,e,r)=>(gu(!0),Zx(t[Xe],""));function V(){return re()}var Li=void 0;function LA(n){let t=n,e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var VA=["en",[["a","p"],["AM","PM"],Li],[["AM","PM"],Li,Li],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Li,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Li,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Li,"{1} 'at' {0}",Li],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",LA],Hp={};function yn(n){let t=jA(n),e=Oy(t);if(e)return e;let r=t.split("-")[0];if(e=Oy(r),e)return e;if(r==="en")return VA;throw new $(701,!1)}function Oy(n){return n in Hp||(Hp[n]=Ir.ng&&Ir.ng.common&&Ir.ng.common.locales&&Ir.ng.common.locales[n]),Hp[n]}var ct=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ct||{});function jA(n){return n.toLowerCase().replace(/_/g,"-")}var tu="en-US";var BA=tu;function UA(n){typeof n=="string"&&(BA=n.toLowerCase().replace(/_/g,"-"))}var $A=(n,t,e)=>{};function C(n,t,e,r){let i=re(),o=tt(),s=Tt();return Sw(o,i,i[Xe],s,n,t,r),C}function HA(n,t,e,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=t[Rc],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Sw(n,t,e,r,i,o,s){let a=uu(r),c=n.firstCreatePass&&E_(n),f=t[It],h=C_(t),v=!0;if(r.type&3||s){let T=Mn(r,t),A=s?s(T):T,j=h.length,de=s?De=>s(sr(De[r.index])):r.index,te=null;if(!s&&a&&(te=HA(n,t,i,r.index)),te!==null){let De=te.__ngLastListenerFn__||te;De.__ngNextListenerFn__=o,te.__ngLastListenerFn__=o,v=!1}else{o=Ly(r,t,f,o),$A(T,i,o);let De=e.listen(A,i,o);h.push(o,De),c&&c.push(i,de,j,j+1)}}else o=Ly(r,t,f,o);let g=r.outputs,E;if(v&&g!==null&&(E=g[i])){let T=E.length;if(T)for(let A=0;A<T;A+=2){let j=E[A],de=E[A+1],qe=t[j][de].subscribe(o),Ge=h.length;h.push(o,qe),c&&c.push(i,r.index,Ge,-(Ge+1))}}}function Py(n,t,e,r){let i=we(null);try{return xn(6,t,e),e(r)!==!1}catch(o){return Gb(n,o),!1}finally{xn(7,t,e),we(i)}}function Ly(n,t,e,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?hi(n.index,t):t;Bm(s,5);let a=Py(t,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Py(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function w(n=1){return kI(n)}function WA(n,t){let e=null,r=vT(n);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){e=i;continue}if(r===null?Pb(n,o,!0):bT(r,o))return i}return e}function Ea(n){let t=re()[rn][sn];if(!t.projection){let e=n?n.length:1,r=t.projection=Z1(e,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=n?WA(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function rs(n,t=0,e,r,i,o){let s=re(),a=tt(),l=r?n+1:null;l!==null&&Yc(s,a,l,r,i,o,null,e);let c=Xo(a,xt+n,16,null,e||null);c.projection===null&&(c.projection=t),dm();let h=!s[Lo]||S_();s[rn][sn].projection[c.projection]===null&&l!==null?zA(s,a,l):h&&(c.flags&32)!==32&&lT(a,s,c)}function zA(n,t,e){let r=xt+e,i=t.data[r],o=n[r],s=$o(o,i.tView.ssrId),a=_a(n,i,void 0,{dehydratedView:s});ba(o,a,0,Uo(i,s))}function Gm(n,t,e){return Iw(n,"",t,"",e),Gm}function Iw(n,t,e,r,i){let o=re(),s=vw(o,t,e,r);if(s!==Pt){let a=tt(),l=hu();Pm(a,l,o,n,s,o[Xe],i,!1)}return Iw}function wt(n,t,e,r){PM(n,t,e,r)}function Be(n,t,e){OM(n,t,e)}function le(n){let t=re(),e=tt(),r=M_();fm(r+1);let i=Um(e,r);if(n.dirty&&hI(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=jM(t,r);n.reset(o,ax),n.notifyOnChanges()}return!0}return!1}function ce(){return RM(re(),M_())}function qA(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}function Fe(n){let t=SI();return __(t,xt+n)}function p(n,t=""){let e=re(),r=tt(),i=n+xt,o=r.firstCreatePass?Xo(r,i,1,t,null):r.data[i],s=GA(r,e,o,t,n);e[i]=s,mu()&&Cu(r,e,s,o),Qi(o,!1)}var GA=(n,t,e,r,i)=>(gu(!0),Qx(t[Xe],r));function ne(n){return F("",n,""),ne}function F(n,t,e){let r=re(),i=vw(r,n,t,e);return i!==Pt&&Qm(r,cr(),i),F}function We(n,t,e,r,i){let o=re(),s=lA(o,n,t,e,r,i);return s!==Pt&&Qm(o,cr(),s),We}function ur(n,t,e,r,i,o,s){let a=re(),l=cA(a,n,t,e,r,i,o,s);return l!==Pt&&Qm(a,cr(),l),ur}function Qm(n,t,e){let r=y_(t,n);Kx(n[Xe],r,e)}function K(n,t,e){tb(t)&&(t=t());let r=re(),i=Qo();if(mn(r,i,t)){let o=tt(),s=hu();Pm(o,s,r,n,t,r[Xe],e,!1)}return K}function ee(n,t){let e=tb(n);return e&&n.set(t),e}function Z(n,t){let e=re(),r=tt(),i=Tt();return Sw(r,e,e[Xe],i,n,t),Z}function QA(n,t,e){let r=tt();if(r.firstCreatePass){let i=ci(n);Wh(e,r.data,r.blueprint,i,!0),Wh(t,r.data,r.blueprint,i,!1)}}function Wh(n,t,e,r,i){if(n=$t(n),Array.isArray(n))for(let o=0;o<n.length;o++)Wh(n[o],t,e,r,i);else{let o=tt(),s=re(),a=Tt(),l=Po(n)?n:$t(n.provide),c=c_(n),f=a.providerIndexes&1048575,h=a.directiveStart,v=a.providerIndexes>>20;if(Po(n)||!n.multi){let g=new Wi(c,i,b),E=zp(l,t,i?f:f+v,h);E===-1?(ah(Bc(a,s),o,l),Wp(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[E]=g,s[E]=g)}else{let g=zp(l,t,f+v,h),E=zp(l,t,f,f+v),T=g>=0&&e[g],A=E>=0&&e[E];if(i&&!A||!i&&!T){ah(Bc(a,s),o,l);let j=YA(i?ZA:KA,e.length,i,r,c);!i&&A&&(e[E].providerFactory=j),Wp(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(j),s.push(j)}else{let j=xw(e[i?E:g],c,!i&&r);Wp(o,n,g>-1?g:E,j)}!i&&r&&A&&e[E].componentProviders++}}}function Wp(n,t,e,r){let i=Po(t),o=nI(t);if(i||o){let l=(o?$t(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let f=c.indexOf(e);f===-1?c.push(e,[r,l]):c[f+1].push(r,l)}else c.push(e,l)}}}function xw(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function zp(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function KA(n,t,e,r){return zh(this.multi,[])}function ZA(n,t,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=zi(e,e[se],this.providerFactory.index,r);o=a.slice(0,s),zh(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],zh(i,o);return o}function zh(n,t){for(let e=0;e<n.length;e++){let r=n[e];t.push(r())}return t}function YA(n,t,e,r,i){let o=new Wi(n,e,b);return o.multi=[],o.index=t,o.componentProviders=0,xw(o,i,r&&!e),o}function me(n,t=[]){return e=>{e.providersResolver=(r,i)=>QA(r,i?i(n):n,t)}}function Tw(n,t,e){let r=Ki()+n,i=re();return i[r]===Pt?es(i,r,e?t.call(e):t()):dw(i,r)}function Kt(n,t,e,r){return JA(re(),Ki(),n,t,e,r)}function is(n,t,e,r,i){return Nw(re(),Ki(),n,t,e,r,i)}function Mu(n,t,e,r,i,o){return XA(re(),Ki(),n,t,e,r,i,o)}function Mw(n,t,e,r,i,o,s){return eN(re(),Ki(),n,t,e,r,i,o,s)}function Aw(n,t,e,r,i,o,s,a){let l=Ki()+n,c=re(),f=pw(c,l,e,r,i,o);return mn(c,l+4,s)||f?es(c,l+5,a?t.call(a,e,r,i,o,s):t(e,r,i,o,s)):dw(c,l+5)}function Au(n,t){let e=n[t];return e===Pt?void 0:e}function JA(n,t,e,r,i,o){let s=t+e;return mn(n,s,i)?es(n,s+1,o?r.call(o,i):r(i)):Au(n,s+1)}function Nw(n,t,e,r,i,o,s){let a=t+e;return da(n,a,i,o)?es(n,a+2,s?r.call(s,i,o):r(i,o)):Au(n,a+2)}function XA(n,t,e,r,i,o,s,a){let l=t+e;return fw(n,l,i,o,s)?es(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):Au(n,l+3)}function eN(n,t,e,r,i,o,s,a,l){let c=t+e;return pw(n,c,i,o,s,a)?es(n,c+4,l?r.call(l,i,o,s,a):r(i,o,s,a)):Au(n,c+4)}function Y(n,t){let e=tt(),r,i=n+xt;e.firstCreatePass?(r=tN(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=ji(r.type,!0)),s,a=tn(b);try{let l=jc(!1),c=o();return jc(l),qA(e,re(),i,c),c}finally{tn(a)}}function tN(n,t){if(t)for(let e=t.length-1;e>=0;e--){let r=t[e];if(n===r.name)return r}}function J(n,t,e,r){let i=n+xt,o=re(),s=__(o,i);return nN(o,i)?Nw(o,Ki(),t,s.transform,e,r,s):s.transform(e,r)}function nN(n,t){return n[se].data[t].pure}function Zn(n,t){return Iu(n,t)}var qh=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},Nu=(()=>{class n{compileModuleSync(e){return new Fh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=n_(e),o=Eb(i.declarations).reduce((s,a)=>{let l=li(a);return l&&s.push(new zo(l)),s},[]);return new qh(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rN=(()=>{class n{zone=N(Oe);changeDetectionScheduler=N(Bo);applicationRef=N(Tn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iN=new P("",{factory:()=>!1});function kw({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Oe(ie(M({},Rw()),{scheduleInRootZone:e})),[{provide:Oe,useFactory:n},{provide:Oo,multi:!0,useFactory:()=>{let r=N(rN,{optional:!0});return()=>r.initialize()}},{provide:Oo,multi:!0,useFactory:()=>{let r=N(oN);return()=>{r.initialize()}}},t===!0?{provide:Y_,useValue:!0}:[],{provide:J_,useValue:e??Z_}]}function Fw(n){let t=n?.ignoreChangesOutsideZone,e=n?.scheduleInRootZone,r=kw({ngZoneFactory:()=>{let i=Rw(n);return i.scheduleInRootZone=e,i.shouldCoalesceEventChangeDetection&&Rr("NgZone_CoalesceEvent"),new Oe(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:e});return lr([{provide:iN,useValue:!0},{provide:yu,useValue:!1},r])}function Rw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var oN=(()=>{class n{subscription=new Qe;initialized=!1;zone=N(Oe);pendingTasks=N(Fr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sN=(()=>{class n{appRef=N(Tn);taskService=N(Fr);ngZone=N(Oe);zonelessEnabled=N(yu);tracing=N(Yo,{optional:!0});disableScheduling=N(Y_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($c):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(J_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fh||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?uy:X_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($c+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aN(){return typeof $localize<"u"&&$localize.locale||tu}var Da=new P("",{providedIn:"root",factory:()=>N(Da,ye.Optional|ye.SkipSelf)||aN()});var Gh=new P(""),lN=new P("");function ta(n){return!n.moduleRef}function cN(n){let t=ta(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Oe);return e.run(()=>{ta(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=t.get(Mr,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),ta(n)){let o=()=>t.destroy(),s=n.platformInjector.get(Gh);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Gh);s.add(o),n.moduleRef.onDestroy(()=>{Tc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return sA(r,e,()=>{let o=t.get(gw);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Da,tu);if(UA(s||tu),!t.get(lN,!0))return ta(n)?t.get(Tn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ta(n)){let l=t.get(Tn);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return uN(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function uN(n,t){let e=n.injector.get(Tn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new $(-403,!1);t.push(n)}var Mc=null;function dN(n=[],t){return zt.create({name:t,providers:[{provide:au,useValue:"platform"},{provide:Gh,useValue:new Set([()=>Mc=null])},...n]})}function fN(n=[]){if(Mc)return Mc;let t=dN(n);return Mc=t,rA(),pN(t),t}function pN(n){let t=n.get(bm,null);on(n,()=>{t?.forEach(e=>e())})}function ku(){return!1}var Lr=(()=>{class n{static __NG_ELEMENT_ID__=hN}return n})();function hN(n){return mN(Tt(),re(),(n&16)===16)}function mN(n,t,e){if(cu(n)&&!e){let r=hi(n.index,t);return new qi(r,r)}else if(n.type&175){let r=t[rn];return new qi(r,t)}return null}var Qh=class{constructor(){}supports(t){return uw(t)}create(t){return new Kh(t)}},gN=(n,t)=>t,Kh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||gN}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Vy(r,i,o)?e:r,a=Vy(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,f=l-i;if(c!=f){for(let v=0;v<c;v++){let g=v<o.length?o[v]:o[v]=0,E=g+v;f<=E&&E<c&&(o[v]=g+1)}let h=s.previousIndex;o[h]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!uw(t))throw new $(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,ZM(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Zh(e,r),o,i)),t}_verifyReinsertion(t,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new nu),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,r=t._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Zh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Yh=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let e=t._prevDup,r=t._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},nu=class{map=new Map;put(t){let e=t.trackById,r=this.map.get(e);r||(r=new Yh,this.map.set(e,r)),r.add(t)}get(t,e){let r=t,i=this.map.get(r);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Vy(n,t,e){let r=n.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function jy(){return new Km([new Qh])}var Km=(()=>{class n{factories;static \u0275prov=k({token:n,providedIn:"root",factory:jy});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||jy()),deps:[[n,new Xh,new su]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new $(901,!1)}}return n})();function Ow(n){try{let{rootComponent:t,appProviders:e,platformProviders:r}=n,i=fN(r),o=[kw({}),{provide:Bo,useExisting:sN},...e||[]],s=new Zc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return cN({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function Pe(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function os(n,t=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):t}function Lt(n,t){Rr("NgSignals");let e=fv(n);return t?.equal&&(e[fn].equal=t.equal),e}function dr(n){let t=we(null);try{return n()}finally{we(t)}}var By=class{[fn];constructor(t){this[fn]=t}destroy(){this[fn].destroy()}};function Pw(n){let t=li(n);if(!t)return null;let e=new zo(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Ww=null;function Ur(){return Ww}function zw(n){Ww??=n}var Uu=class{};var pt=new P(""),sg=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>N(vN),providedIn:"platform"})}return n})(),qw=new P(""),vN=(()=>{class n extends sg{_location;_history;_doc=N(pt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ur().getBaseHref(this._doc)}onPopState(e){let r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ag(n,t){if(n.length==0)return t;if(t.length==0)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?n+t.substring(1):e==1?n+t:n+"/"+t}function Lw(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,r=e-(n[e-1]==="/"?1:0);return n.slice(0,r)+n.slice(e)}function jr(n){return n&&n[0]!=="?"?"?"+n:n}var $r=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>N(lg),providedIn:"root"})}return n})(),Gw=new P(""),lg=(()=>{class n extends $r{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ag(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+jr(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+jr(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(O(sg),O(Gw,8))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qw=(()=>{class n extends $r{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=ag(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+jr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+jr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(O(sg),O(Gw,8))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),as=(()=>{class n{_subject=new Ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=bN(Lw(Vw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+jr(r))}normalize(e){return n.stripTrailingSlash(_N(this._basePath,Vw(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+jr(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+jr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=jr;static joinWithSlash=ag;static stripTrailingSlash=Lw;static \u0275fac=function(r){return new(r||n)(O($r))};static \u0275prov=k({token:n,factory:()=>yN(),providedIn:"root"})}return n})();function yN(){return new as(O($r))}function _N(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Vw(n){return n.replace(/\/index.html$/,"")}function bN(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Kw=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Kw||{});var Zt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Zt||{}),Ve=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ve||{}),_n=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(_n||{}),bn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function wN(n){return yn(n)[ct.LocaleId]}function CN(n,t,e){let r=yn(n),i=[r[ct.DayPeriodsFormat],r[ct.DayPeriodsStandalone]],o=An(i,t);return An(o,e)}function EN(n,t,e){let r=yn(n),i=[r[ct.DaysFormat],r[ct.DaysStandalone]],o=An(i,t);return An(o,e)}function DN(n,t,e){let r=yn(n),i=[r[ct.MonthsFormat],r[ct.MonthsStandalone]],o=An(i,t);return An(o,e)}function SN(n,t){let r=yn(n)[ct.Eras];return An(r,t)}function Fu(n,t){let e=yn(n);return An(e[ct.DateFormat],t)}function Ru(n,t){let e=yn(n);return An(e[ct.TimeFormat],t)}function Ou(n,t){let r=yn(n)[ct.DateTimeFormat];return An(r,t)}function Br(n,t){let e=yn(n),r=e[ct.NumberSymbols][t];if(typeof r>"u"){if(t===bn.CurrencyDecimal)return e[ct.NumberSymbols][bn.Decimal];if(t===bn.CurrencyGroup)return e[ct.NumberSymbols][bn.Group]}return r}function IN(n,t){return yn(n)[ct.NumberFormats][t]}function Zw(n){if(!n[ct.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ct.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xN(n){let t=yn(n);return Zw(t),(t[ct.ExtraData][2]||[]).map(r=>typeof r=="string"?Zm(r):[Zm(r[0]),Zm(r[1])])}function TN(n,t,e){let r=yn(n);Zw(r);let i=[r[ct.ExtraData][0],r[ct.ExtraData][1]],o=An(i,t)||[];return An(o,e)||[]}function An(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Zm(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var MN=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pu={},AN=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function NN(n,t,e,r){let i=BN(n);t=Vr(e,t)||t;let s=[],a;for(;t;)if(a=AN.exec(t),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;t=f}else{s.push(t);break}let l=i.getTimezoneOffset();r&&(l=Jw(r,l),i=jN(i,r,!0));let c="";return s.forEach(f=>{let h=LN(f);c+=h?h(i,e,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function $u(n,t,e){let r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Vr(n,t){let e=wN(n);if(Pu[e]??={},Pu[e][t])return Pu[e][t];let r="";switch(t){case"shortDate":r=Fu(n,_n.Short);break;case"mediumDate":r=Fu(n,_n.Medium);break;case"longDate":r=Fu(n,_n.Long);break;case"fullDate":r=Fu(n,_n.Full);break;case"shortTime":r=Ru(n,_n.Short);break;case"mediumTime":r=Ru(n,_n.Medium);break;case"longTime":r=Ru(n,_n.Long);break;case"fullTime":r=Ru(n,_n.Full);break;case"short":let i=Vr(n,"shortTime"),o=Vr(n,"shortDate");r=Lu(Ou(n,_n.Short),[i,o]);break;case"medium":let s=Vr(n,"mediumTime"),a=Vr(n,"mediumDate");r=Lu(Ou(n,_n.Medium),[s,a]);break;case"long":let l=Vr(n,"longTime"),c=Vr(n,"longDate");r=Lu(Ou(n,_n.Long),[l,c]);break;case"full":let f=Vr(n,"fullTime"),h=Vr(n,"fullDate");r=Lu(Ou(n,_n.Full),[f,h]);break}return r&&(Pu[e][t]=r),r}function Lu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return t!=null&&r in t?t[r]:e})),n}function Yn(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function kN(n,t){return Yn(n,3).substring(0,t)}function ft(n,t,e=0,r=!1,i=!1){return function(o,s){let a=FN(n,o);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return kN(a,t);let l=Br(s,bn.MinusSign);return Yn(a,t,l,r,i)}}function FN(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ue(n,t,e=Zt.Format,r=!1){return function(i,o){return RN(i,o,n,t,e,r)}}function RN(n,t,e,r,i,o){switch(e){case 2:return DN(t,i,r)[n.getMonth()];case 1:return EN(t,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let c=xN(t),f=TN(t,i,r),h=c.findIndex(v=>{if(Array.isArray(v)){let[g,E]=v,T=s>=g.hours&&a>=g.minutes,A=s<E.hours||s===E.hours&&a<E.minutes;if(g.hours<E.hours){if(T&&A)return!0}else if(T||A)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(h!==-1)return f[h]}return CN(t,i,r)[s<12?0:1];case 3:return SN(t,r)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function Vu(n){return function(t,e,r){let i=-1*r,o=Br(e,bn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Yn(s,2,o)+Yn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Yn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Yn(s,2,o)+":"+Yn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Yn(s,2,o)+":"+Yn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var ON=0,Bu=4;function PN(n){let t=$u(n,ON,1).getDay();return $u(n,0,1+(t<=Bu?Bu:Bu+7)-t)}function Yw(n){let t=n.getDay(),e=t===0?-3:Bu-t;return $u(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Ym(n,t=!1){return function(e,r){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=Yw(e),s=PN(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Yn(i,n,Br(r,bn.MinusSign))}}function ju(n,t=!1){return function(e,r){let o=Yw(e).getFullYear();return Yn(o,n,Br(r,bn.MinusSign),t)}}var Jm={};function LN(n){if(Jm[n])return Jm[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ue(3,Ve.Abbreviated);break;case"GGGG":t=Ue(3,Ve.Wide);break;case"GGGGG":t=Ue(3,Ve.Narrow);break;case"y":t=ft(0,1,0,!1,!0);break;case"yy":t=ft(0,2,0,!0,!0);break;case"yyy":t=ft(0,3,0,!1,!0);break;case"yyyy":t=ft(0,4,0,!1,!0);break;case"Y":t=ju(1);break;case"YY":t=ju(2,!0);break;case"YYY":t=ju(3);break;case"YYYY":t=ju(4);break;case"M":case"L":t=ft(1,1,1);break;case"MM":case"LL":t=ft(1,2,1);break;case"MMM":t=Ue(2,Ve.Abbreviated);break;case"MMMM":t=Ue(2,Ve.Wide);break;case"MMMMM":t=Ue(2,Ve.Narrow);break;case"LLL":t=Ue(2,Ve.Abbreviated,Zt.Standalone);break;case"LLLL":t=Ue(2,Ve.Wide,Zt.Standalone);break;case"LLLLL":t=Ue(2,Ve.Narrow,Zt.Standalone);break;case"w":t=Ym(1);break;case"ww":t=Ym(2);break;case"W":t=Ym(1,!0);break;case"d":t=ft(2,1);break;case"dd":t=ft(2,2);break;case"c":case"cc":t=ft(7,1);break;case"ccc":t=Ue(1,Ve.Abbreviated,Zt.Standalone);break;case"cccc":t=Ue(1,Ve.Wide,Zt.Standalone);break;case"ccccc":t=Ue(1,Ve.Narrow,Zt.Standalone);break;case"cccccc":t=Ue(1,Ve.Short,Zt.Standalone);break;case"E":case"EE":case"EEE":t=Ue(1,Ve.Abbreviated);break;case"EEEE":t=Ue(1,Ve.Wide);break;case"EEEEE":t=Ue(1,Ve.Narrow);break;case"EEEEEE":t=Ue(1,Ve.Short);break;case"a":case"aa":case"aaa":t=Ue(0,Ve.Abbreviated);break;case"aaaa":t=Ue(0,Ve.Wide);break;case"aaaaa":t=Ue(0,Ve.Narrow);break;case"b":case"bb":case"bbb":t=Ue(0,Ve.Abbreviated,Zt.Standalone,!0);break;case"bbbb":t=Ue(0,Ve.Wide,Zt.Standalone,!0);break;case"bbbbb":t=Ue(0,Ve.Narrow,Zt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ue(0,Ve.Abbreviated,Zt.Format,!0);break;case"BBBB":t=Ue(0,Ve.Wide,Zt.Format,!0);break;case"BBBBB":t=Ue(0,Ve.Narrow,Zt.Format,!0);break;case"h":t=ft(3,1,-12);break;case"hh":t=ft(3,2,-12);break;case"H":t=ft(3,1);break;case"HH":t=ft(3,2);break;case"m":t=ft(4,1);break;case"mm":t=ft(4,2);break;case"s":t=ft(5,1);break;case"ss":t=ft(5,2);break;case"S":t=ft(6,1);break;case"SS":t=ft(6,2);break;case"SSS":t=ft(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Vu(0);break;case"ZZZZZ":t=Vu(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Vu(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Vu(2);break;default:return null}return Jm[n]=t,t}function Jw(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function VN(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function jN(n,t,e){let r=e?-1:1,i=n.getTimezoneOffset(),o=Jw(t,i);return VN(n,r*(o-i))}function BN(n){if(jw(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return $u(i,o-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(MN))return UN(r)}let t=new Date(n);if(!jw(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function UN(n){let t=new Date(0),e=0,r=0,i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(t,s,a,l,c),t}function jw(n){return n instanceof Date&&!isNaN(n.valueOf())}var $N=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Bw=22,Hu=".",Sa="0",HN=";",WN=",",Xm="#";function zN(n,t,e,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=Br(e,bn.Infinity);else{let c=KN(n);s&&(c=QN(c));let f=t.minInt,h=t.minFrac,v=t.maxFrac;if(o){let de=o.match($N);if(de===null)throw new Error(`${o} is not a valid digit info`);let te=de[1],De=de[3],qe=de[5];te!=null&&(f=eg(te)),De!=null&&(h=eg(De)),qe!=null?v=eg(qe):De!=null&&h>v&&(v=h)}ZN(c,h,v);let g=c.digits,E=c.integerLen,T=c.exponent,A=[];for(l=g.every(de=>!de);E<f;E++)g.unshift(0);for(;E<0;E++)g.unshift(0);E>0?A=g.splice(E,g.length):(A=g,g=[0]);let j=[];for(g.length>=t.lgSize&&j.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)j.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&j.unshift(g.join("")),a=j.join(Br(e,r)),A.length&&(a+=Br(e,i)+A.join("")),T&&(a+=Br(e,bn.Exponential)+"+"+T)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function qN(n,t,e){let r=IN(t,Kw.Decimal),i=GN(r,Br(t,bn.MinusSign));return zN(n,i,t,bn.Group,bn.Decimal,e)}function GN(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(HN),i=r[0],o=r[1],s=i.indexOf(Hu)!==-1?i.split(Hu):[i.substring(0,i.lastIndexOf(Sa)+1),i.substring(i.lastIndexOf(Sa)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(Xm));for(let f=0;f<l.length;f++){let h=l.charAt(f);h===Sa?e.minFrac=e.maxFrac=f+1:h===Xm?e.maxFrac=f+1:e.posSuf+=h}let c=a.split(WN);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let f=i.length-e.posPre.length-e.posSuf.length,h=o.indexOf(Xm);e.negPre=o.substring(0,h).replace(/'/g,""),e.negSuf=o.slice(h+f).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function QN(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function KN(n){let t=Math.abs(n)+"",e=0,r,i,o,s,a;for((i=t.indexOf(Hu))>-1&&(t=t.replace(Hu,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===Sa;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===Sa;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>Bw&&(r=r.splice(0,Bw-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function ZN(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(t,i),e),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=t+n.integerLen,f=r.reduceRight(function(h,v,g,E){return v=v+h,E[g]=v<10?v:v-10,l&&(E[g]===0&&g>=c?E.pop():l=!1),v>=10?1:0},0);f&&(r.unshift(f),n.integerLen++)}function eg(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Wu(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var tg=/\s+/,Uw=[],Ct=(()=>{class n{_ngEl;_renderer;initialClasses=Uw;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(tg):Uw}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(tg):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(tg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(b(He),b(an))};static \u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var ng=class{$implicit;ngForOf;index;count;constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ve=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ng(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),$w(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);$w(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(b(Pr),b(Ee),b(Km))};static \u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function $w(n,t){n.context.$implicit=t.item}var W=(()=>{class n{_viewContainer;_context=new rg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Hw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Hw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(b(Pr),b(Ee))};static \u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),rg=class{$implicit=null;ngIf=null};function Hw(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Ht(t)}'.`)}var Xw=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let r=e===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let r of this._defaultViews)r.enforceState(e)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})();var cg=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(b(Pr))};static \u0275dir=X({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[et]})}return n})();function eC(n,t){return new $(2100,!1)}var YN="mediumDate",JN=new P(""),XN=new P(""),ls=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??YN,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return NN(e,s,o||this.locale,a)}catch(s){throw eC(n,s.message)}}static \u0275fac=function(r){return new(r||n)(b(Da,16),b(JN,24),b(XN,24))};static \u0275pipe=$m({name:"date",type:n,pure:!0})}return n})();var ln=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!ek(e))return null;i||=this._locale;try{let o=tk(e);return qN(o,i,r)}catch(o){throw eC(n,o.message)}}static \u0275fac=function(r){return new(r||n)(b(Da,16))};static \u0275pipe=$m({name:"number",type:n,pure:!0})}return n})();function ek(n){return!(n==null||n===""||n!==n)}function tk(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var L=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=qt({})}return n})(),ug="browser",nk="server";function Ia(n){return n===ug}function dg(n){return n===nk}var tC=(()=>{class n{static \u0275prov=k({token:n,providedIn:"root",factory:()=>new ig(N(pt),window)})}return n})(),ig=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=rk(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function rk(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var ss=class{};var Ta=class{},qu=class{},Xi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var pg=class{encodeKey(t){return nC(t)}encodeValue(t){return nC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function ik(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var ok=/%(\d[a-f0-9])/gi,sk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nC(n){return encodeURIComponent(n).replace(ok,(t,e)=>sk[e]??t)}function zu(n){return`${n}`}var fr=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new pg,t.fromString){if(t.fromObject)throw new $(2805,!1);this.map=ik(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(zu):[zu(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(zu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(zu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var hg=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function ak(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function iC(n){return typeof Blob<"u"&&n instanceof Blob}function oC(n){return typeof FormData<"u"&&n instanceof FormData}function lk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var sC="Content-Type",uC="X-Request-URL",dC="text/plain",fC="application/json",ck=`${fC}, ${dC}, */*`,xa=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let o;if(ak(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Xi,this.context??=new hg,!this.params)this.params=new fr,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rC(this.body)||iC(this.body)||oC(this.body)||lk(this.body)?this.body:this.body instanceof fr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||oC(this.body)?null:iC(this.body)?this.body.type||null:rC(this.body)?null:typeof this.body=="string"?dC:this.body instanceof fr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?fC:null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,f=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((v,g)=>v.set(g,t.setHeaders[g]),c)),t.setParams&&(f=Object.keys(t.setParams).reduce((v,g)=>v.set(g,t.setParams[g]),f)),new n(e,r,s,{params:f,headers:c,context:h,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},cs=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(cs||{}),Ma=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new Xi,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},mg=class n extends Ma{constructor(t={}){super(t)}type=cs.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Gu=class n extends Ma{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=cs.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Qu=class extends Ma{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},uk=200,dk=204;function fg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var eo=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof xa)o=e;else{let l;i.headers instanceof Xi?l=i.headers:l=new Xi(i.headers);let c;i.params&&(i.params instanceof fr?c=i.params:c=new fr({fromObject:i.params})),o=new xa(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Q(o).pipe(Dr(l=>this.handler.handle(l)));if(e instanceof xa||i.observe==="events")return s;let a=s.pipe(Ye(l=>l instanceof Gu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(z(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(z(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(z(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(z(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new fr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,fg(i,r))}post(e,r,i={}){return this.request("POST",e,fg(i,r))}put(e,r,i={}){return this.request("PUT",e,fg(i,r))}static \u0275fac=function(r){return new(r||n)(O(Ta))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var fk=new P("");function pC(n,t){return t(n)}function pk(n,t){return(e,r)=>t.intercept(e,{handle:i=>n(i,r)})}function hk(n,t,e){return(r,i)=>on(e,()=>t(r,o=>n(o,i)))}var mk=new P(""),gg=new P(""),gk=new P(""),hC=new P("",{providedIn:"root",factory:()=>!0});function vk(){let n=null;return(t,e)=>{n===null&&(n=(N(mk,{optional:!0})??[]).reduceRight(pk,pC));let r=N(Fr);if(N(hC)){let o=r.add();return n(t,e).pipe(nr(()=>r.remove(o)))}else return n(t,e)}}var aC=(()=>{class n extends Ta{backend;injector;chain=null;pendingTasks=N(Fr);contributeToStability=N(hC);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(gg),...this.injector.get(gk,[])]));this.chain=r.reduceRight((i,o)=>hk(i,o,this.injector),pC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(nr(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(O(qu),O(Wt))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var yk=/^\)\]\}',?\n/,_k=RegExp(`^${uC}:`,"m");function bk(n){return"responseURL"in n&&n.responseURL?n.responseURL:_k.test(n.getAllResponseHeaders())?n.getResponseHeader(uC):null}var lC=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?xe(r.\u0275loadImpl()):Q(null)).pipe(vt(()=>new U(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((T,A)=>s.setRequestHeader(T,A.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept",ck),!e.headers.has(sC)){let T=e.detectContentTypeHeader();T!==null&&s.setRequestHeader(sC,T)}if(e.responseType){let T=e.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let T=s.statusText||"OK",A=new Xi(s.getAllResponseHeaders()),j=bk(s)||e.url;return l=new mg({headers:A,status:s.status,statusText:T,url:j}),l},f=()=>{let{headers:T,status:A,statusText:j,url:de}=c(),te=null;A!==dk&&(te=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=te?uk:0);let De=A>=200&&A<300;if(e.responseType==="json"&&typeof te=="string"){let qe=te;te=te.replace(yk,"");try{te=te!==""?JSON.parse(te):null}catch(Ge){te=qe,De&&(De=!1,te={error:Ge,text:te})}}De?(o.next(new Gu({body:te,headers:T,status:A,statusText:j,url:de||void 0})),o.complete()):o.error(new Qu({error:te,headers:T,status:A,statusText:j,url:de||void 0}))},h=T=>{let{url:A}=c(),j=new Qu({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(j)},v=!1,g=T=>{v||(o.next(c()),v=!0);let A={type:cs.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(A.total=T.total),e.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},E=T=>{let A={type:cs.UploadProgress,loaded:T.loaded};T.lengthComputable&&(A.total=T.total),o.next(A)};return s.addEventListener("load",f),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",E)),s.send(a),o.next({type:cs.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",f),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(O(ss))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),mC=new P(""),wk="XSRF-TOKEN",Ck=new P("",{providedIn:"root",factory:()=>wk}),Ek="X-XSRF-TOKEN",Dk=new P("",{providedIn:"root",factory:()=>Ek}),Ku=class{},Sk=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wu(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(O(pt),O(vn),O(Ck))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function Ik(n,t){let e=n.url.toLowerCase();if(!N(mC)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=N(Ku).getToken(),i=N(Dk);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var gC=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(gC||{});function xk(n,t){return{\u0275kind:n,\u0275providers:t}}function vg(...n){let t=[eo,lC,aC,{provide:Ta,useExisting:aC},{provide:qu,useFactory:()=>N(fk,{optional:!0})??N(lC)},{provide:gg,useValue:Ik,multi:!0},{provide:mC,useValue:!0},{provide:Ku,useClass:Sk}];for(let e of n)t.push(...e.\u0275providers);return lr(t)}var cC=new P("");function Tk(){return xk(gC.LegacyInterceptors,[{provide:cC,useFactory:vk},{provide:gg,useExisting:cC,multi:!0}])}var Zu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=qt({providers:[vg(Tk())]})}return n})();var bg=class extends Uu{supportsDOMEvents=!0},wg=class n extends bg{static makeCurrent(){zw(new n)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Mk();return e==null?null:Ak(e)}resetBaseElement(){Aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Wu(document.cookie,t)}},Aa=null;function Mk(){return Aa=Aa||document.querySelector("base"),Aa?Aa.getAttribute("href"):null}function Ak(n){return new URL(n,document.baseURI).pathname}var Nk=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Cg=new P(""),CC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(O(Cg),O(Oe))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Ju=class{_doc;constructor(t){this._doc=t}manager},Yu="ng-app-id";function vC(n){for(let t of n)t.remove()}function yC(n,t){let e=t.createElement("style");return e.textContent=n,e}function kk(n,t,e,r){let i=n.head?.querySelectorAll(`style[${Yu}="${t}"],link[${Yu}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Yu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Eg(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var EC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=dg(o),kk(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,yC);r?.forEach(i=>this.addUsage(i,this.external,Eg))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(vC(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])vC(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,yC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Eg(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Yu,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(O(pt),O(_m),O(wm,8),O(vn))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),_g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sg=/%COMP%/g,DC="%COMP%",Fk=`_nghost-${DC}`,Rk=`_ngcontent-${DC}`,Ok=!0,Pk=new P("",{providedIn:"root",factory:()=>Ok});function Lk(n){return Rk.replace(Sg,n)}function Vk(n){return Fk.replace(Sg,n)}function SC(n,t){return t.map(e=>e.replace(Sg,n))}var _C=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null,f=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=f,this.platformIsServer=dg(a),this.defaultRenderer=new Na(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ar.ShadowDom&&(r=ie(M({},r),{encapsulation:ar.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Xu?i.applyToHost(e):i instanceof ka&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case ar.Emulated:o=new Xu(l,c,r,this.appId,f,s,a,h,this.tracingService);break;case ar.ShadowDom:return new Dg(l,c,e,r,s,a,this.nonce,h,this.tracingService);default:o=new ka(l,c,r,f,s,a,h,this.tracingService);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(O(CC),O(EC),O(_m),O(Pk),O(pt),O(vn),O(Oe),O(wm),O(Yo,8))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Na=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(_g[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(bC(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(bC(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new $(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let o=_g[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=_g[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Ar.DashCase|Ar.Important)?t.style.setProperty(e,r,i&Ar.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Ar.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if(typeof t=="string"&&(t=Ur().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function bC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Dg=class extends Na{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=SC(i.id,i.styles);for(let v of f){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=v,this.shadowRoot.appendChild(g)}let h=i.getExternalStyles?.();if(h)for(let v of h){let g=Eg(v,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ka=class extends Na{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=c?SC(c,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xu=class extends ka{contentAttr;hostAttr;constructor(t,e,r,i,o,s,a,l,c){let f=i+"-"+r.id;super(t,e,r,o,s,a,l,c,f),this.contentAttr=Lk(f),this.hostAttr=Vk(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},jk=(()=>{class n extends Ju{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(O(pt))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),wC=["alt","control","meta","shift"],Bk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},$k=(()=>{class n extends Ju{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),wC.forEach(c=>{let f=r.indexOf(c);f>-1&&(r.splice(f,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=Bk[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),wC.forEach(s=>{if(s!==i){let a=Uk[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(O(pt))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function IC(n,t){return Ow(M({rootComponent:n},Hk(t)))}function Hk(n){return{appProviders:[...Qk,...n?.providers??[]],platformProviders:Gk}}function Wk(){wg.makeCurrent()}function zk(){return new Mr}function qk(){return lb(document),document}var Gk=[{provide:vn,useValue:ug},{provide:bm,useValue:Wk,multi:!0},{provide:pt,useFactory:qk,deps:[]}];var Qk=[{provide:au,useValue:"root"},{provide:Mr,useFactory:zk,deps:[]},{provide:Cg,useClass:jk,multi:!0,deps:[pt,Oe,vn]},{provide:Cg,useClass:$k,multi:!0,deps:[pt]},_C,EC,CC,{provide:Wo,useExisting:_C},{provide:ss,useClass:Nk,deps:[]},[]];var xC=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(O(pt))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ge="primary",qa=Symbol("RouteTitle"),Ag=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ms(n){return new Ag(n)}function Zk(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yk(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!pr(n[e],t[e]))return!1;return!0}function pr(n,t){let e=n?Ng(n):void 0,r=t?Ng(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!VC(n[i],t[i]))return!1;return!0}function Ng(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function VC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}else return n===t}function jC(n){return n.length>0?n[n.length-1]:null}function gi(n){return Ep(n)?n:Ji(n)?xe(Promise.resolve(n)):Q(n)}var Jk={exact:UC,subset:$C},BC={exact:Xk,subset:eF,ignored:()=>!0};function TC(n,t,e){return Jk[e.paths](n.root,t.root,e.matrixParams)&&BC[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function Xk(n,t){return pr(n,t)}function UC(n,t,e){if(!no(n.segments,t.segments)||!nd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!UC(n.children[r],t.children[r],e))return!1;return!0}function eF(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>VC(n[e],t[e]))}function $C(n,t,e){return HC(n,t,t.segments,e)}function HC(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!no(i,e)||t.hasChildren()||!nd(i,e,r))}else if(n.segments.length===e.length){if(!no(n.segments,e)||!nd(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!$C(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!no(n.segments,i)||!nd(n.segments,i,r)||!n.children[ge]?!1:HC(n.children[ge],t,o,r)}}function nd(n,t,e){return t.every((r,i)=>BC[e](n[i].parameters,r.parameters))}var Wr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Re([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ms(this.queryParams),this._queryParamMap}toString(){return rF.serialize(this)}},Re=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rd(this)}},to=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ms(this.parameters),this._parameterMap}toString(){return zC(this)}};function tF(n,t){return no(n,t)&&n.every((e,r)=>pr(e.parameters,t[r].parameters))}function no(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function nF(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===ge&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ge&&(e=e.concat(t(i,r)))}),e}var Ga=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>new gs,providedIn:"root"})}return n})(),gs=class{parse(t){let e=new Fg(t);return new Wr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Fa(t.root,!0)}`,r=sF(t.queryParams),i=typeof t.fragment=="string"?`#${iF(t.fragment)}`:"";return`${e}${r}${i}`}},rF=new gs;function rd(n){return n.segments.map(t=>zC(t)).join("/")}function Fa(n,t){if(!n.hasChildren())return rd(n);if(t){let e=n.children[ge]?Fa(n.children[ge],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${Fa(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=nF(n,(r,i)=>i===ge?[Fa(n.children[ge],!1)]:[`${i}:${Fa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ge]!=null?`${rd(n)}/${e[0]}`:`${rd(n)}/(${e.join("//")})`}}function WC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ed(n){return WC(n).replace(/%3B/gi,";")}function iF(n){return encodeURI(n)}function kg(n){return WC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function id(n){return decodeURIComponent(n)}function MC(n){return id(n.replace(/\+/g,"%20"))}function zC(n){return`${kg(n.path)}${oF(n.parameters)}`}function oF(n){return Object.entries(n).map(([t,e])=>`;${kg(t)}=${kg(e)}`).join("")}function sF(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${ed(e)}=${ed(i)}`).join("&"):`${ed(e)}=${ed(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var aF=/^[^\/()?;#]+/;function Ig(n){let t=n.match(aF);return t?t[0]:""}var lF=/^[^\/()?;=#]+/;function cF(n){let t=n.match(lF);return t?t[0]:""}var uF=/^[^=?&#]+/;function dF(n){let t=n.match(uF);return t?t[0]:""}var fF=/^[^&#]+/;function pF(n){let t=n.match(fF);return t?t[0]:""}var Fg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[ge]=new Re(t,e)),r}parseSegment(){let t=Ig(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(t),new to(id(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=cF(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Ig(this.remaining);i&&(r=i,this.capture(r))}t[id(e)]=id(r)}parseQueryParam(t){let e=dF(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=pF(this.remaining);s&&(r=s,this.capture(r))}let i=MC(e),o=MC(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ig(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ge);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[ge]:new Re([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new $(4011,!1)}};function qC(n){return n.segments.length>0?new Re([],{[ge]:n}):n}function GC(n){let t={};for(let[r,i]of Object.entries(n.children)){let o=GC(i);if(r===ge&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new Re(n.segments,t);return hF(e)}function hF(n){if(n.numberOfChildren===1&&n.children[ge]){let t=n.children[ge];return new Re(n.segments.concat(t.segments),t.children)}return n}function ro(n){return n instanceof Wr}function mF(n,t,e=null,r=null){let i=QC(n);return KC(i,t,e,r)}function QC(n){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new Re(o.url,s);return o===n&&(t=a),a}let r=e(n.root),i=qC(r);return t??i}function KC(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return xg(i,i,i,e,r);let o=gF(t);if(o.toRoot())return xg(i,i,new Re([],{}),e,r);let s=vF(o,i,n),a=s.processChildren?Oa(s.segmentGroup,s.index,o.commands):YC(s.segmentGroup,s.index,o.commands);return xg(i,s.segmentGroup,a,e,r)}function od(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Va(n){return typeof n=="object"&&n!=null&&n.outlets}function xg(n,t,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`});let s;n===t?s=e:s=ZC(n,t,e);let a=qC(GC(s));return new Wr(a,o,i)}function ZC(n,t,e){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===t?r[i]=e:r[i]=ZC(o,t,e)}),new Re(n.segments,r)}var sd=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&od(r[0]))throw new $(4003,!1);let i=r.find(Va);if(i&&i!==jC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new sd(!0,0,n);let t=0,e=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new sd(e,t,r)}var fs=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function vF(n,t,e){if(n.isAbsolute)return new fs(t,!0,0);if(!e)return new fs(t,!1,NaN);if(e.parent===null)return new fs(e,!0,0);let r=od(n.commands[0])?0:1,i=e.segments.length-1+r;return yF(e,i,n.numberOfDoubleDots)}function yF(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new fs(r,!1,i-o)}function _F(n){return Va(n[0])?n[0].outlets:{[ge]:n}}function YC(n,t,e){if(n??=new Re([],{}),n.segments.length===0&&n.hasChildren())return Oa(n,t,e);let r=bF(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Re(n.segments.slice(0,r.pathIndex),{});return o.children[ge]=new Re(n.segments.slice(r.pathIndex),n.children),Oa(o,0,i)}else return r.match&&i.length===0?new Re(n.segments,{}):r.match&&!n.hasChildren()?Rg(n,t,e):r.match?Oa(n,0,i):Rg(n,t,e)}function Oa(n,t,e){if(e.length===0)return new Re(n.segments,{});{let r=_F(e),i={};if(Object.keys(r).some(o=>o!==ge)&&n.children[ge]&&n.numberOfChildren===1&&n.children[ge].segments.length===0){let o=Oa(n.children[ge],t,e);return new Re(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=YC(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(n.segments,i)}}function bF(n,t,e){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;let s=n.segments[i],a=e[r];if(Va(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!NC(l,c,s))return o;r+=2}else{if(!NC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Rg(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(Va(o)){let l=wF(o.outlets);return new Re(r,l)}if(i===0&&od(e[0])){let l=n.segments[t];r.push(new to(l.path,AC(e[0]))),i++;continue}let s=Va(o)?o.outlets[ge]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&od(a)?(r.push(new to(s,AC(a))),i+=2):(r.push(new to(s,{})),i++)}return new Re(r,{})}function wF(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=Rg(new Re([],{}),0,r))}),t}function AC(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function NC(n,t,e){return n==e.path&&pr(t,e.parameters)}var Pa="imperative",Et=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Et||{}),Nn=class{id;url;constructor(t,e){this.id=t,this.url=e}},vs=class extends Nn{type=Et.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends Nn{urlAfterRedirects;type=Et.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Cn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Cn||{}),ad=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ad||{}),Hr=class extends Nn{reason;code;type=Et.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends Nn{reason;code;type=Et.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},ja=class extends Nn{error;target;type=Et.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ld=class extends Nn{urlAfterRedirects;state;type=Et.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends Nn{urlAfterRedirects;state;type=Et.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pg=class extends Nn{urlAfterRedirects;state;shouldActivate;type=Et.GuardsCheckEnd;constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lg=class extends Nn{urlAfterRedirects;state;type=Et.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vg=class extends Nn{urlAfterRedirects;state;type=Et.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jg=class{route;type=Et.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bg=class{route;type=Et.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ug=class{snapshot;type=Et.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$g=class{snapshot;type=Et.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hg=class{snapshot;type=Et.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wg=class{snapshot;type=Et.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cd=class{routerEvent;position;anchor;type=Et.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ba=class{},ys=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function CF(n,t){return n.providers&&!n._injector&&(n._injector=xu(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Jn(n){return n.outlet||ge}function EF(n,t){let e=n.filter(r=>Jn(r)===t);return e.push(...n.filter(r=>Jn(r)!==t)),e}function Qa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var zg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Qa(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ka(this.rootInjector)}},Ka=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new zg(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(O(Wt))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ud=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=qg(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=qg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Gg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Gg(t,this._root).map(e=>e.value)}};function qg(n,t){if(n===t.value)return t;for(let e of t.children){let r=qg(n,e);if(r)return r}return null}function Gg(n,t){if(n===t.value)return[t];for(let e of t.children){let r=Gg(n,e);if(r.length)return r.unshift(t),r}return[]}var wn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ds(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var dd=class extends ud{snapshot;constructor(t,e){super(t),this.snapshot=e,n0(this,t)}toString(){return this.snapshot.toString()}};function JC(n){let t=DF(n),e=new St([new to("",{})]),r=new St({}),i=new St({}),o=new St({}),s=new St(""),a=new cn(e,r,o,s,i,ge,n,t.root);return a.snapshot=t.root,new dd(new wn(a,[]),t)}function DF(n){let t={},e={},r={},i="",o=new ps([],t,r,i,e,ge,n,null,{});return new pd("",new wn(o,[]))}var cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(z(c=>c[qa]))??Q(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(t=>ms(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(t=>ms(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fd(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:M(M({},t.params),n.params),data:M(M({},t.data),n.data),resolve:M(M(M(M({},n.data),t.data),i?.data),n._resolvedData)}:r={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},i&&eE(i)&&(r.resolve[qa]=i.title),r}var ps=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[qa]}constructor(t,e,r,i,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ms(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},pd=class extends ud{url;constructor(t,e){super(e),this.url=t,n0(this,e)}toString(){return XC(this._root)}};function n0(n,t){t.value._routerState=n,t.children.forEach(e=>n0(n,e))}function XC(n){let t=n.children.length>0?` { ${n.children.map(XC).join(", ")} } `:"";return`${n.value}${t}`}function Tg(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,pr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),pr(t.params,e.params)||n.paramsSubject.next(e.params),Yk(t.url,e.url)||n.urlSubject.next(e.url),pr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Qg(n,t){let e=pr(n.params,t.params)&&tF(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Qg(n.parent,t.parent))}function eE(n){return typeof n.title=="string"||n.title===null}var SF=new P(""),Za=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ge;activateEvents=new H;deactivateEvents=new H;attachEvents=new H;detachEvents=new H;routerOutletData=ga(void 0);parentContexts=N(Ka);location=N(Pr);changeDetector=N(Lr);inputBinder=N(vd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Kg(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[et]})}return n})(),Kg=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===cn?this.route:t===Ka?this.childContexts:t===SF?this.outletData:this.parent.get(t,e)}},vd=new P(""),kC=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=Ri([r.queryParams,r.params,r.data]).pipe(vt(([o,s,a],l)=>(a=M(M(M({},o),s),a),l===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=Pw(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function IF(n,t,e){let r=Ua(n,t._root,e?e._root:void 0);return new dd(r,t)}function Ua(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=xF(n,t,e);return new wn(r,i)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ua(n,a)),s}}let r=TF(t.value),i=t.children.map(o=>Ua(n,o));return new wn(r,i)}}function xF(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ua(n,r,i);return Ua(n,r)})}function TF(n){return new cn(new St(n.url),new St(n.params),new St(n.queryParams),new St(n.fragment),new St(n.data),n.outlet,n.component,n)}var $a=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},tE="ngNavigationCancelingError";function hd(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=ro(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=nE(!1,Cn.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function nE(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[tE]=!0,e.cancellationCode=t,e}function MF(n){return rE(n)&&ro(n.url)}function rE(n){return!!n&&n[tE]}var AF=(n,t,e,r)=>z(i=>(new Zg(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Zg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Tg(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=ds(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=ds(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=ds(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=ds(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wg(o.value.snapshot))}),t.children.length&&this.forwardEvent(new $g(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,o=e?e.value:null;if(Tg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tg(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},md=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},hs=class{component;route;constructor(t,e){this.component=t,this.route=e}};function NF(n,t,e){let r=n._root,i=t?t._root:null;return Ra(r,i,e,[r.value])}function kF(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function bs(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!qy(n)?n:t.get(n):r}function Ra(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ds(t);return n.children.forEach(s=>{FF(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>La(a,e.getContext(s),i)),i}function FF(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=RF(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new md(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ra(n,t,a?a.children:null,r,i):Ra(n,t,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hs(a.outlet.component,s))}else s&&La(t,a,i),i.canActivateChecks.push(new md(r)),o.component?Ra(n,null,a?a.children:null,r,i):Ra(n,null,e,r,i);return i}function RF(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!no(n.url,t.url);case"pathParamsOrQueryParamsChange":return!no(n.url,t.url)||!pr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qg(n,t)||!pr(n.queryParams,t.queryParams);case"paramsChange":default:return!Qg(n,t)}}function La(n,t,e){let r=ds(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?t?La(s,t.children.getContext(o),e):La(s,null,e):La(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new hs(t.outlet.component,i)):e.canDeactivateChecks.push(new hs(null,i)):e.canDeactivateChecks.push(new hs(null,i))}function Ya(n){return typeof n=="function"}function OF(n){return typeof n=="boolean"}function PF(n){return n&&Ya(n.canLoad)}function LF(n){return n&&Ya(n.canActivate)}function VF(n){return n&&Ya(n.canActivateChild)}function jF(n){return n&&Ya(n.canDeactivate)}function BF(n){return n&&Ya(n.canMatch)}function iE(n){return n instanceof Wn||n?.name==="EmptyError"}var td=Symbol("INITIAL_VALUE");function _s(){return vt(n=>Ri(n.map(t=>t.pipe(ot(1),ea(td)))).pipe(z(t=>{for(let e of t)if(e!==!0){if(e===td)return td;if(e===!1||UF(e))return e}return!0}),Ye(t=>t!==td),ot(1)))}function UF(n){return ro(n)||n instanceof $a}function $F(n,t){return Ze(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?Q(ie(M({},e),{guardsResult:!0})):HF(s,r,i,n).pipe(Ze(a=>a&&OF(a)?WF(r,o,n,t):Q(a)),z(a=>ie(M({},e),{guardsResult:a})))})}function HF(n,t,e,r){return xe(n).pipe(Ze(i=>KF(i.component,i.route,e,t,r)),Sr(i=>i!==!0,!0))}function WF(n,t,e,r){return xe(t).pipe(Dr(i=>tr(qF(i.route.parent,r),zF(i.route,r),QF(n,i.path,e),GF(n,i.route,e))),Sr(i=>i!==!0,!0))}function zF(n,t){return n!==null&&t&&t(new Hg(n)),Q(!0)}function qF(n,t){return n!==null&&t&&t(new Ug(n)),Q(!0)}function GF(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Oi(()=>{let s=Qa(t)??e,a=bs(o,s),l=LF(a)?a.canActivate(t,n):on(s,()=>a(t,n));return gi(l).pipe(Sr())}));return Q(i).pipe(_s())}function QF(n,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>kF(s)).filter(s=>s!==null).map(s=>Oi(()=>{let a=s.guards.map(l=>{let c=Qa(s.node)??e,f=bs(l,c),h=VF(f)?f.canActivateChild(r,n):on(c,()=>f(r,n));return gi(h).pipe(Sr())});return Q(a).pipe(_s())}));return Q(o).pipe(_s())}function KF(n,t,e,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let l=Qa(t)??i,c=bs(a,l),f=jF(c)?c.canDeactivate(n,t,e,r):on(l,()=>c(n,t,e,r));return gi(f).pipe(Sr())});return Q(s).pipe(_s())}function ZF(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=bs(s,n),l=PF(a)?a.canLoad(t,e):on(n,()=>a(t,e));return gi(l)});return Q(o).pipe(_s(),oE(r))}function oE(n){return pp(st(t=>{if(typeof t!="boolean")throw hd(n,t)}),z(t=>t===!0))}function YF(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=bs(s,n),l=BF(a)?a.canMatch(t,e):on(n,()=>a(t,e));return gi(l)});return Q(o).pipe(_s(),oE(r))}var Ha=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Wa=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function us(n){return ei(new Ha(n))}function JF(n){return ei(new $(4e3,!1))}function XF(n){return ei(nE(!1,Cn.GuardRejected))}var Yg=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ge])return JF(`${t.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(t,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:f,url:h,outlet:v,params:g,data:E,title:T}=i,A=on(o,()=>a({params:g,data:E,queryParams:l,fragment:c,routeConfig:f,url:h,outlet:v,title:T}));if(A instanceof Wr)throw new Wa(A);e=A}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new Wa(s);return s}applyRedirectCreateUrlTree(t,e,r,i){let o=this.createSegmentGroup(t,e.root,r,i);return new Wr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){let o=this.createSegments(t,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Re(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},Jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eR(n,t,e,r,i){let o=sE(n,t,e);return o.matched?(r=CF(t,r),YF(r,t,e,i).pipe(z(s=>s===!0?o:M({},Jg)))):Q(o)}function sE(n,t,e){if(t.path==="**")return tR(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?M({},Jg):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Zk)(e,n,t);if(!i)return M({},Jg);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function tR(n){return{matched:!0,parameters:n.length>0?jC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function FC(n,t,e,r){return e.length>0&&iR(n,e,r)?{segmentGroup:new Re(t,rR(r,new Re(e,n.children))),slicedSegments:[]}:e.length===0&&oR(n,e,r)?{segmentGroup:new Re(n.segments,nR(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Re(n.segments,n.children),slicedSegments:e}}function nR(n,t,e,r){let i={};for(let o of e)if(yd(n,t,o)&&!r[Jn(o)]){let s=new Re([],{});i[Jn(o)]=s}return M(M({},r),i)}function rR(n,t){let e={};e[ge]=t;for(let r of n)if(r.path===""&&Jn(r)!==ge){let i=new Re([],{});e[Jn(r)]=i}return e}function iR(n,t,e){return e.some(r=>yd(n,t,r)&&Jn(r)!==ge)}function oR(n,t,e){return e.some(r=>yd(n,t,r))}function yd(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function sR(n,t,e){return t.length===0&&!n.children[e]}var Xg=class{};function aR(n,t,e,r,i,o,s="emptyOnly"){return new e0(n,t,e,r,i,s,o).recognize()}var lR=31,e0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Yg(this.urlSerializer,this.urlTree)}noMatchError(t){return new $(4002,`'${t.segmentGroup}'`)}recognize(){let t=FC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(z(({children:e,rootSnapshot:r})=>{let i=new wn(r,e),o=new pd("",i),s=mF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new ps([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ge,e).pipe(z(r=>({children:r,rootSnapshot:e})),ri(r=>{if(r instanceof Wa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ha?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,i,!0,o).pipe(z(s=>s instanceof wn?[s]:[]))}processChildren(t,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(Dr(s=>{let a=r.children[s],l=EF(e,s);return this.processSegmentGroup(t,l,a,s,i)}),Np((s,a)=>(s.push(...a),s)),ii(null),Mp(),Ze(s=>{if(s===null)return us(r);let a=aE(s);return cR(a),Q(a)}))}processSegment(t,e,r,i,o,s,a){return xe(e).pipe(Dr(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,r,i,o,s,a).pipe(ri(c=>{if(c instanceof Ha)return Q(null);throw c}))),Sr(l=>!!l),ri(l=>{if(iE(l))return sR(r,i,o)?Q(new Xg):us(r);throw l}))}processSegmentAgainstRoute(t,e,r,i,o,s,a,l){return Jn(r)!==s&&(s===ge||!yd(i,o,r))?us(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s,l):us(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:f,positionalParamSegments:h,remainingSegments:v}=sE(e,i,o);if(!l)return us(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lR&&(this.allowRedirects=!1));let g=new ps(o,c,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,RC(i),Jn(i),i.component??i._loadedComponent??null,i,OC(i)),E=fd(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(E.params),g.data=Object.freeze(E.data);let T=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,h,g,t);return this.applyRedirects.lineralizeSegments(i,T).pipe(Ze(A=>this.processSegment(t,r,e,A.concat(v),s,!1,a)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a=eR(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(vt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(vt(({routes:c})=>{let f=r._loadedInjector??t,{parameters:h,consumedSegments:v,remainingSegments:g}=l,E=new ps(v,h,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,RC(r),Jn(r),r.component??r._loadedComponent??null,r,OC(r)),T=fd(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data);let{segmentGroup:A,slicedSegments:j}=FC(e,v,g,c);if(j.length===0&&A.hasChildren())return this.processChildren(f,c,A,E).pipe(z(te=>new wn(E,te)));if(c.length===0&&j.length===0)return Q(new wn(E,[]));let de=Jn(r)===o;return this.processSegment(f,c,A,j,de?ge:o,!0,E).pipe(z(te=>new wn(E,te instanceof wn?[te]:[])))}))):us(e)))}getChildConfig(t,e,r){return e.children?Q({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Q({routes:e._loadedRoutes,injector:e._loadedInjector}):ZF(t,e,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(t,e).pipe(st(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):XF(e))):Q({routes:[],injector:t})}};function cR(n){n.sort((t,e)=>t.value.outlet===ge?-1:e.value.outlet===ge?1:t.value.outlet.localeCompare(e.value.outlet))}function uR(n){let t=n.value.routeConfig;return t&&t.path===""}function aE(n){let t=[],e=new Set;for(let r of n){if(!uR(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=aE(r.children);t.push(new wn(r.value,i))}return t.filter(r=>!e.has(r))}function RC(n){return n.data||{}}function OC(n){return n.resolve||{}}function dR(n,t,e,r,i,o){return Ze(s=>aR(n,t,e,r,s.extractedUrl,i,o).pipe(z(({state:a,tree:l})=>ie(M({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function fR(n,t){return Ze(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Q(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of lE(l))s.add(c);let a=0;return xe(s).pipe(Dr(l=>o.has(l)?pR(l,r,n,t):(l.data=fd(l,l.parent,n).resolve,Q(void 0))),st(()=>a++),xo(1),Ze(l=>a===s.size?Q(e):Ut))})}function lE(n){let t=n.children.map(e=>lE(e)).flat();return[n,...t]}function pR(n,t,e,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!eE(i)&&(o[qa]=i.title),hR(o,n,t,r).pipe(z(s=>(n._resolvedData=s,n.data=fd(n,n.parent,e).resolve,null)))}function hR(n,t,e,r){let i=Ng(n);if(i.length===0)return Q({});let o={};return xe(i).pipe(Ze(s=>mR(n[s],t,e,r).pipe(Sr(),st(a=>{if(a instanceof $a)throw hd(new gs,a);o[s]=a}))),xo(1),z(()=>o),ri(s=>iE(s)?Ut:ei(s)))}function mR(n,t,e,r){let i=Qa(t)??r,o=bs(n,i),s=o.resolve?o.resolve(t,e):on(i,()=>o(t,e));return gi(s)}function Mg(n){return vt(t=>{let e=n(t);return e?xe(e).pipe(z(()=>t)):Q(t)})}var cE=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(e){return e.data[qa]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>N(gR),providedIn:"root"})}return n})(),gR=(()=>{class n extends cE{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(O(xC))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ja=new P("",{providedIn:"root",factory:()=>({})}),vR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=R({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&I(0,"router-outlet")},dependencies:[Za],encapsulation:2})}return n})();function r0(n){let t=n.children&&n.children.map(r0),e=t?ie(M({},n),{children:t}):M({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ge&&(e.component=vR),e}var za=new P(""),i0=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Nu);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Q(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=gi(e.loadComponent()).pipe(z(uE),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),nr(()=>{this.componentLoaders.delete(e)})),i=new Yr(r,()=>new Ne).pipe(Co());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=yR(r,this.compiler,e,this.onLoadEndListener).pipe(nr(()=>{this.childrenLoaders.delete(r)})),s=new Yr(o,()=>new Ne).pipe(Co());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yR(n,t,e,r){return gi(n.loadChildren()).pipe(z(uE),Ze(i=>i instanceof ua||Array.isArray(i)?Q(i):xe(t.compileModuleAsync(i))),z(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(za,[],{optional:!0,self:!0}).flat()),{routes:s.map(r0),injector:o}}))}function _R(n){return n&&typeof n=="object"&&"default"in n}function uE(n){return _R(n)?n.default:n}var o0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>N(bR),providedIn:"root"})}return n})(),bR=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dE=new P(""),fE=new P("");function wR(n,t,e){let r=n.get(fE),i=n.get(pt);return n.get(Oe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),CR(n))),{onViewTransitionCreated:l}=r;return l&&on(n,()=>l({transition:a,from:t,to:e})),s})}function CR(n){return new Promise(t=>{Em({read:()=>setTimeout(t)},{injector:n})})}var pE=new P(""),s0=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ne;transitionAbortSubject=new Ne;configLoader=N(i0);environmentInjector=N(Wt);urlSerializer=N(Ga);rootContexts=N(Ka);location=N(as);inputBindingEnabled=N(vd,{optional:!0})!==null;titleStrategy=N(cE);options=N(Ja,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(o0);createViewTransition=N(dE,{optional:!0});navigationErrorHandler=N(pE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;constructor(){let e=i=>this.events.next(new jg(i)),r=i=>this.events.next(new Bg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(ie(M(M({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new St({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Pa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ye(o=>o.id!==0),z(o=>ie(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vt(o=>{let s=!1,a=!1;return Q(o).pipe(vt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Cn.SupersededByNewNavigation),Ut;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ie(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&f!=="reload"){let h="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.rawUrl),h,ad.IgnoredSameUrlNavigation)),l.resolve(!1),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(vt(h=>{let v=this.transitions?.getValue();return this.events.next(new vs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),v!==this.transitions?.getValue()?Ut:Promise.resolve(h)}),dR(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),st(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ie(M({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let v=new ld(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:v,source:g,restoredState:E,extras:T}=l,A=new vs(h,this.urlSerializer.serialize(v),g,E);this.events.next(A);let j=JC(this.rootComponentType).snapshot;return this.currentTransition=o=ie(M({},l),{targetSnapshot:j,urlAfterRedirects:v,extras:ie(M({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Q(o)}else{let h="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.extractedUrl),h,ad.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ut}}),st(l=>{let c=new Og(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),z(l=>(this.currentTransition=o=ie(M({},l),{guards:NF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),$F(this.environmentInjector,l=>this.events.next(l)),st(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw hd(this.urlSerializer,l.guardsResult);let c=new Pg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ye(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Cn.GuardRejected),!1)),Mg(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(st(c=>{let f=new Lg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),vt(c=>{let f=!1;return Q(c).pipe(fR(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(c,"",Cn.NoDataFromResolver)}}))}),st(c=>{let f=new Vg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}))}),Mg(l=>{let c=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(st(v=>{f.component=v}),z(()=>{})));for(let v of f.children)h.push(...c(v));return h};return Ri(c(l.targetSnapshot.root)).pipe(ii(null),ot(1))}),Mg(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return f?xe(f).pipe(z(()=>o)):Q(o)}),z(l=>{let c=IF(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ie(M({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),st(()=>{this.events.next(new Ba)}),AF(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ot(1),st({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),rr(this.transitionAbortSubject.pipe(st(l=>{throw l}))),nr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Cn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ri(l=>{if(a=!0,rE(l))this.events.next(new Hr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),MF(l)?this.events.next(new ys(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new ja(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let f=on(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(f instanceof $a){let{message:h,cancellationCode:v}=hd(this.urlSerializer,f);this.events.next(new Hr(o.id,this.urlSerializer.serialize(o.extractedUrl),h,v)),this.events.next(new ys(f.redirectTo,f.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Ut}))}))}cancelNavigationTransition(e,r,i){let o=new Hr(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ER(n){return n!==Pa}var DR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>N(SR),providedIn:"root"})}return n})(),t0=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},SR=(()=>{class n extends t0{static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>N(IR),providedIn:"root"})}return n})(),IR=(()=>{class n extends hE{location=N(as);urlSerializer=N(Ga);options=N(Ja,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=N(o0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Wr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=JC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof vs)this.stateMemento=this.createStateMemento();else if(e instanceof mi)this.rawUrlTree=r.initialUrl;else if(e instanceof ld){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof Ba?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Hr&&(e.code===Cn.GuardRejected||e.code===Cn.NoDataFromResolver)?this.restoreHistory(r):e instanceof ja?this.restoreHistory(r,!0):e instanceof kn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof Wr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=M(M({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mE(n,t){n.events.pipe(Ye(e=>e instanceof kn||e instanceof Hr||e instanceof ja||e instanceof mi),z(e=>e instanceof kn||e instanceof mi?0:(e instanceof Hr?e.code===Cn.Redirect||e.code===Cn.SupersededByNewNavigation:!1)?2:1),Ye(e=>e!==2),ot(1)).subscribe(()=>{t()})}var xR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ie=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Hm);stateManager=N(hE);options=N(Ja,{optional:!0})||{};pendingTasks=N(Fr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(s0);urlSerializer=N(Ga);location=N(as);urlHandlingStrategy=N(o0);_events=new Ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(DR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(za,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(vd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qe;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Hr&&r.code!==Cn.Redirect&&r.code!==Cn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof kn)this.navigated=!0;else if(r instanceof ys){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ER(i.source)},s);this.scheduleNavigation(a,Pa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}AR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=M({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(r0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let v=i?i.snapshot:this.routerState.snapshot.root;h=QC(v)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return KC(h,e,f,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=ro(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Pa,null,r)}navigate(e,r={skipLocationChange:!1}){return MR(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=M({},xR):r===!1?i=M({},TR):i=r,ro(e))return TC(this.currentUrlTree,e,i);let o=this.parseUrl(e);return TC(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,v)=>{a=h,l=v});let f=this.pendingTasks.add();return mE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MR(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new $(4008,!1)}function AR(n){return!(n instanceof Ba)&&!(n instanceof ys)}var gE=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ne;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof kn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ro(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:Cb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:ro(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(b(Ie),b(cn),Ko("tabindex"),b(an),b(He),b($r))};static \u0275dir=X({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&C("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Mt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pe],replaceUrl:[2,"replaceUrl","replaceUrl",Pe],routerLink:"routerLink"},features:[Yi,et]})}return n})();var gd=class{};var NR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ye(e=>e instanceof kn),Dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=xu(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return xe(i).pipe(ti())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=Q(null);let o=i.pipe(Ze(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return xe([o,s]).pipe(ti())}else return o})}static \u0275fac=function(r){return new(r||n)(O(Ie),O(Nu),O(Wt),O(gd),O(i0))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vE=new P(""),kR=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof kn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof mi&&e.code===ad.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof cd&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cd(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Vb()};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function yE(n,...t){return lr([{provide:za,multi:!0,useValue:n},[],{provide:cn,useFactory:_E,deps:[Ie]},{provide:wa,multi:!0,useFactory:bE},t.map(e=>e.\u0275providers)])}function _E(n){return n.routerState.root}function Xa(n,t){return{\u0275kind:n,\u0275providers:t}}function bE(){let n=N(zt);return t=>{let e=n.get(Tn);if(t!==e.components[0])return;let r=n.get(Ie),i=n.get(wE);n.get(a0)===1&&r.initialNavigation(),n.get(CE,null,ye.Optional)?.setUpPreloading(),n.get(vE,null,ye.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wE=new P("",{factory:()=>new Ne}),a0=new P("",{providedIn:"root",factory:()=>1});function FR(){return Xa(2,[{provide:a0,useValue:0},{provide:ts,multi:!0,deps:[zt],useFactory:t=>{let e=t.get(qw,Promise.resolve());return()=>e.then(()=>new Promise(r=>{let i=t.get(Ie),o=t.get(wE);mE(i,()=>{r(!0)}),t.get(s0).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}])}function RR(){return Xa(3,[{provide:ts,multi:!0,useFactory:()=>{let t=N(Ie);return()=>{t.setUpLocationChangeListener()}}},{provide:a0,useValue:2}])}var CE=new P("");function OR(n){return Xa(0,[{provide:CE,useExisting:NR},{provide:gd,useExisting:n}])}function PR(){return Xa(8,[kC,{provide:vd,useExisting:kC}])}function LR(n){let t=[{provide:dE,useValue:wR},{provide:fE,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return Xa(9,t)}var PC=new P("ROUTER_FORROOT_GUARD"),VR=[as,{provide:Ga,useClass:gs},Ie,Ka,{provide:cn,useFactory:_E,deps:[Ie]},i0,[]],Dt=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[VR,[],{provide:za,multi:!0,useValue:e},{provide:PC,useFactory:$R,deps:[[Ie,new su,new Xh]]},r?.errorHandler?{provide:pE,useValue:r.errorHandler}:[],{provide:Ja,useValue:r||{}},r?.useHash?BR():UR(),jR(),r?.preloadingStrategy?OR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?HR(r):[],r?.bindToComponentInputs?PR().\u0275providers:[],r?.enableViewTransitions?LR().\u0275providers:[],WR()]}}static forChild(e){return{ngModule:n,providers:[{provide:za,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)(O(PC,8))};static \u0275mod=Gt({type:n});static \u0275inj=qt({})}return n})();function jR(){return{provide:vE,useFactory:()=>{let n=N(tC),t=N(Oe),e=N(Ja),r=N(s0),i=N(Ga);return e.scrollOffset&&n.setOffset(e.scrollOffset),new kR(i,r,n,t,e)}}}function BR(){return{provide:$r,useClass:Qw}}function UR(){return{provide:$r,useClass:lg}}function $R(n){return"guarded"}function HR(n){return[n.initialNavigation==="disabled"?RR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?FR().\u0275providers:[]]}var LC=new P("");function WR(){return[{provide:LC,useFactory:bE},{provide:wa,multi:!0,useExisting:LC}]}var EE=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};var el=class extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}},_d=class extends el{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},bd=class extends el{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},wd=class extends el{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},l0=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(l0||{});var zR=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(h){s(h)}}function l(f){try{c(r.throw(f))}catch(h){s(h)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},tl=class{constructor(t,{headers:e={},customFetch:r,region:i=l0.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=EE(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return zR(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let f=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(E=>{throw new _d(E)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new bd(f);if(!f.ok)throw new wd(f);let v=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return v==="application/json"?g=yield f.json():v==="application/octet-stream"?g=yield f.blob():v==="text/event-stream"?g=f:v==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}};var PE=US(OE(),1),{PostgrestClient:LE,PostgrestQueryBuilder:d7,PostgrestFilterBuilder:f7,PostgrestTransformBuilder:p7,PostgrestBuilder:h7,PostgrestError:rO}=PE.default;var VE="2.11.2";var jE={"X-Client-Info":`realtime-js/${VE}`},BE="1.0.0",Sd=1e4,UE=1e3,Cs=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Cs||{}),En=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(En||{}),Rn=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(Rn||{}),b0=function(n){return n.websocket="websocket",n}(b0||{}),io=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(io||{});var Id=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+i));s=s+i;let l=r.decode(t.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Es=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ze=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(ze||{}),C0=(n,t,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=iO(s,n,t,i),o),{})},iO=(n,t,e,r)=>{let i=t.find(a=>a.name===n),o=i?.type,s=e[n];return o&&!r.includes(o)?$E(o,s):w0(s)},$E=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return lO(t,e)}switch(n){case ze.bool:return oO(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return sO(t);case ze.json:case ze.jsonb:return aO(t);case ze.timestamp:return cO(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return w0(t);default:return w0(t)}},w0=n=>n,oO=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},sO=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},aO=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},lO=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let o,s=n.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>$E(t,a))}return n},cO=n=>typeof n=="string"?n.replace(" ","T"):n,xd=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var Ds=class{constructor(t,e,r={},i=Sd){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var ll=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=n.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,i){let o=this.cloneDeep(t),s=this.transformState(e),a={},l={};return this.map(o,(c,f)=>{s[c]||(l[c]=f)}),this.map(s,(c,f)=>{let h=o[c];if(h){let v=f.map(A=>A.presence_ref),g=h.map(A=>A.presence_ref),E=f.filter(A=>g.indexOf(A.presence_ref)<0),T=h.filter(A=>v.indexOf(A.presence_ref)<0);E.length>0&&(a[c]=E),T.length>0&&(l[c]=T)}else a[c]=f}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let f=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),f.length>0){let h=t[a].map(g=>g.presence_ref),v=f.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...v)}r(a,f,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;let f=l.map(h=>h.presence_ref);c=c.filter(h=>f.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{let i=t[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var zr=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(zr||{});var cl=class n{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=En.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Ds(this,Rn.join,this.params,this.timeout),this.rejoinTimer=new Es(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=En.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=En.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rn.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new ll(this),this.broadcastEndpointURL=xd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(f=>t?.(zr.CHANNEL_ERROR,f)),this._onClose(()=>t?.(zr.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",h=>_(this,[h],function*({postgres_changes:f}){var v;if(this.socket.setAuth(),f===void 0){t?.(zr.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,E=(v=g?.length)!==null&&v!==void 0?v:0,T=[];for(let A=0;A<E;A++){let j=g[A],{filter:{event:de,schema:te,table:De,filter:qe}}=j,Ge=f&&f[A];if(Ge&&Ge.event===de&&Ge.schema===te&&Ge.table===De&&Ge.filter===qe)T.push(Object.assign(Object.assign({},j),{id:Ge.id}));else{this.unsubscribe(),t?.(zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(zr.SUBSCRIBED);return}})).receive("error",f=>{t?.(zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return _(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return _(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,r){return this._on(t,e,r)}send(r){return _(this,arguments,function*(t,e={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let f=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=f.body)===null||o===void 0?void 0:o.cancel(),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let f=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=En.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new Ds(this,Rn.leave,{},t);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(t,e,r){return _(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ds(this,t,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var i,o;let s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:f}=Rn;if(r&&[a,l,c,f].indexOf(s)>=0&&r!==this._joinRef())return;let v=this._onMessage(s,e,r);if(e&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var E,T,A;return((E=g.filter)===null||E===void 0?void 0:E.event)==="*"||((A=(T=g.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===s}).map(g=>g.callback(v,r)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var E,T,A,j,de,te;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){let De=g.id,qe=(E=g.filter)===null||E===void 0?void 0:E.event;return De&&((T=e.ids)===null||T===void 0?void 0:T.includes(De))&&(qe==="*"||qe?.toLocaleLowerCase()===((A=e.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{let De=(de=(j=g?.filter)===null||j===void 0?void 0:j.event)===null||de===void 0?void 0:de.toLocaleLowerCase();return De==="*"||De===((te=e?.event)===null||te===void 0?void 0:te.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof v=="object"&&"ids"in v){let E=v.data,{schema:T,table:A,commit_timestamp:j,type:de,errors:te}=E;v=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:j,eventType:de,new:{},old:{},errors:te}),this._getPayloadRecords(E))}g.callback(v,r)})}_isClosed(){return this.state===En.closed}_isJoined(){return this.state===En.joined}_isJoining(){return this.state===En.joining}_isLeaving(){return this.state===En.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){let i=t.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,e){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&n.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rn.close,{},t)}_onError(t){this._on(Rn.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=En.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=C0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=C0(t.columns,t.old_record)),e}};var dO=()=>{},fO=typeof WebSocket<"u",pO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ul=class{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jE,this.params={},this.timeout=Sd,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=dO,this.conn=null,this.sendBuffer=[],this.serializer=new Id,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-NPJLHOA5.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${b0.websocket}`,this.httpEndpoint=xd(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Es(()=>_(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(fO){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new E0(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-GFTZZNGD.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BE}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return _(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return _(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t})}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cs.connecting:return io.Connecting;case Cs.open:return io.Open;case Cs.closing:return io.Closing;default:return io.Closed}}isConnected(){return this.connectionState()===io.Open}channel(t,e={config:{}}){let r=new cl(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){let{topic:e,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return _(this,null,function*(){let e=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(Rn.access_token,{access_token:e})})}})}sendHeartbeat(){return _(this,null,function*(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(UE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){return _(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rn.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${r}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let r=new Blob([pO],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var E0=class{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Cs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var Ss=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ht(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Td=class extends Ss{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},oo=class extends Ss{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var hO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(h){s(h)}}function l(f){try{c(r.throw(f))}catch(h){s(h)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},Ad=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},HE=()=>hO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),Md=n=>{if(Array.isArray(n))return n.map(e=>Md(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Md(r)}),t};var so=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(h){s(h)}}function l(f){try{c(r.throw(f))}catch(h){s(h)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},D0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),mO=(n,t,e)=>so(void 0,void 0,void 0,function*(){let r=yield HE();n instanceof r&&!e?.noResolveJson?n.json().then(i=>{t(new Td(D0(i),n.status||500))}).catch(i=>{t(new oo(D0(i),i))}):t(new oo(D0(n),n))}),gO=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function dl(n,t,e,r,i,o){return so(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(e,gO(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>mO(l,a,r))})})}function Is(n,t,e,r){return so(this,void 0,void 0,function*(){return dl(n,"GET",t,e,r)})}function hr(n,t,e,r,i){return so(this,void 0,void 0,function*(){return dl(n,"POST",t,r,i,e)})}function WE(n,t,e,r,i){return so(this,void 0,void 0,function*(){return dl(n,"PUT",t,r,i,e)})}function zE(n,t,e,r){return so(this,void 0,void 0,function*(){return dl(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Nd(n,t,e,r,i){return so(this,void 0,void 0,function*(){return dl(n,"DELETE",t,r,i,e)})}var un=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(h){s(h)}}function l(f){try{c(r.throw(f))}catch(h){s(h)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},vO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},kd=class{constructor(t,e={},r,i){this.url=t,this.headers=e,this.bucketId=r,this.fetch=Ad(i)}uploadOrUpdate(t,e,r,i){return un(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},qE),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),f=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),v=yield h.json();return h.ok?{data:{path:c,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(ht(o))return{data:null,error:o};throw o}})}upload(t,e,r){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,i){return un(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:qE.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);let h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:f}),v=yield h.json();return h.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(ht(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return un(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield hr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Ss("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}update(t,e,r){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return un(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}copy(t,e,r){return un(this,void 0,void 0,function*(){try{return{data:{path:(yield hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,r){return un(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield hr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,r){return un(this,void 0,void 0,function*(){try{let i=yield hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}download(t,e){return un(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield Is(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}info(t){return un(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let r=yield Is(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Md(r),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}exists(t){return un(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield zE(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ht(r)&&r instanceof oo){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){let r=this._getFinalPath(t),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return un(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(ht(e))return{data:null,error:e};throw e}})}list(t,e,r){return un(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},vO),e),{prefix:t||""});return{data:yield hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var GE="2.7.1";var QE={"X-Client-Info":`storage-js/${GE}`};var xs=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(h){s(h)}}function l(f){try{c(r.throw(f))}catch(h){s(h)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},Fd=class{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},QE),e),this.fetch=Ad(r)}listBuckets(){return xs(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ht(t))return{data:null,error:t};throw t}})}getBucket(t){return xs(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(ht(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return xs(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return xs(this,void 0,void 0,function*(){try{return{data:yield WE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}emptyBucket(t){return xs(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(ht(e))return{data:null,error:e};throw e}})}deleteBucket(t){return xs(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(ht(e))return{data:null,error:e};throw e}})}};var fl=class extends Fd{constructor(t,e={},r){super(t,e,r)}from(t){return new kd(this.url,this.headers,t,this.fetch)}};var KE="2.49.5";var pl="";typeof Deno<"u"?pl="deno":typeof document<"u"?pl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pl="react-native":pl="node";var yO={"X-Client-Info":`supabase-js-${pl}/${KE}`},ZE={headers:yO},YE={schema:"public"},JE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XE={};ov();var _O=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(h){s(h)}}function l(f){try{c(r.throw(f))}catch(h){s(h)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},bO=n=>{let t;return n?t=n:typeof fetch>"u"?t=rv:t=fetch,(...e)=>t(...e)},wO=()=>typeof Headers>"u"?iv:Headers,eD=(n,t,e)=>{let r=bO(e),i=wO();return(o,s)=>_O(void 0,void 0,void 0,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var CO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(h){s(h)}}function l(f){try{c(r.throw(f))}catch(h){s(h)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,t||[])).next())})};function tD(n){return n.replace(/\/$/,"")}function nD(n,t){var e,r;let{db:i,auth:o,realtime:s,global:a}=n,{db:l,auth:c,realtime:f,global:h}=t,v={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},f),s),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(e=h?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>CO(this,void 0,void 0,function*(){return""})};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}var Rd="2.69.1";var ao=30*1e3,Od=3,Pd=Od*ao,rD="http://localhost:9999",iD="supabase.auth.token";var oD={"X-Client-Info":`gotrue-js/${Rd}`};var hl="X-Supabase-Api-Version",S0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aD=6e5;var ml=class extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function ue(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Ld=class extends ml{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function lD(n){return ue(n)&&n.name==="AuthApiError"}var Ts=class extends ml{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},mr=class extends ml{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}},On=class extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function cD(n){return ue(n)&&n.name==="AuthSessionMissingError"}var Ms=class extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},lo=class extends mr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},co=class extends mr{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function uD(n){return ue(n)&&n.name==="AuthImplicitGrantRedirectError"}var gl=class extends mr{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},As=class extends mr{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function Vd(n){return ue(n)&&n.name==="AuthRetryableFetchError"}var vl=class extends mr{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var qr=class extends mr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var dD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fD=` 	
\r=`.split(""),EO=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<fD.length;t+=1)n[fD[t].charCodeAt(0)]=-2;for(let t=0;t<dD.length;t+=1)n[dD[t].charCodeAt(0)]=t;return n})();function pD(n,t,e){let r=EO[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function I0(n){let t=[],e=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{IO(s,r,e)};for(let s=0;s<n.length;s+=1)pD(n.charCodeAt(s),i,o);return t.join("")}function DO(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function SO(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}DO(r,t)}}function IO(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function hD(n){let t=[],e={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)pD(n.charCodeAt(i),e,r);return new Uint8Array(t)}function mD(n){let t=[];return SO(n,e=>t.push(e)),new Uint8Array(t)}function gD(n){return Math.round(Date.now()/1e3)+n}function vD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var Xn=()=>typeof window<"u"&&typeof document<"u",uo={tested:!1,writable:!1},vi=()=>{if(!Xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(uo.tested)return uo.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),uo.tested=!0,uo.writable=!0}catch{uo.tested=!0,uo.writable=!1}return uo.writable};function yD(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{t[i]=r}),t}var jd=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},_D=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",x0=(n,t,e)=>_(void 0,null,function*(){yield n.setItem(t,JSON.stringify(e))}),_l=(n,t)=>_(void 0,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),bl=(n,t)=>_(void 0,null,function*(){yield n.removeItem(t)}),yl=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};yl.promiseConstructor=Promise;function Bd(n){let t=n.split(".");if(t.length!==3)throw new qr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!sD.test(t[r]))throw new qr("JWT not in base64url format");return{header:JSON.parse(I0(t[0])),payload:JSON.parse(I0(t[1])),signature:hD(t[2]),raw:{header:t[0],payload:t[1]}}}function bD(n){return _(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function wD(n,t){return new Promise((r,i)=>{_(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield n(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})})}function xO(n){return("0"+n.toString(16)).substr(-2)}function TO(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,xO).join("")}function MO(n){return _(this,null,function*(){let e=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function AO(n){return _(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield MO(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function fo(n,t,e=!1){return _(this,null,function*(){let r=TO(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield x0(n,`${t}-code-verifier`,i);let o=yield AO(r);return[o,r===o?"plain":"s256"]})}var NO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CD(n){let t=n.headers.get(hl);if(!t||!t.match(NO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ED(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function DD(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var kO=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},po=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),FO=[502,503,504];function SD(n){return _(this,null,function*(){var t;if(!_D(n))throw new As(po(n),0);if(FO.includes(n.status))throw new As(po(n),n.status);let e;try{e=yield n.json()}catch(o){throw new Ts(po(o),o)}let r,i=CD(n);if(i&&i.getTime()>=S0["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new vl(po(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new On}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new vl(po(e),n.status,e.weak_password.reasons);throw new Ld(po(e),n.status||500,r)})}var RO=(n,t,e,r)=>{let i={method:n,headers:t?.headers||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function be(n,t,e,r){return _(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[hl]||(o[hl]=S0["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield OO(n,t,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function OO(n,t,e,r,i,o){return _(this,null,function*(){let s=RO(t,r,i,o),a;try{a=yield n(e,Object.assign({},s))}catch(l){throw console.error(l),new As(po(l),0)}if(a.ok||(yield SD(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield SD(l)}})}function Gr(n){var t;let e=null;PO(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=gD(n.expires_in)));let r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function T0(n){let t=Gr(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function gr(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function ID(n){return{data:n,error:null}}function xD(n){let{action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=n,s=kO(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function TD(n){return n}function PO(n){return n.access_token&&n.refresh_token&&n.expires_in}var LO=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Ns=class{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=jd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,e="global"){return _(this,null,function*(){try{return yield be(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return _(this,arguments,function*(t,e={}){try{return yield be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:gr})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return _(this,null,function*(){try{let{options:e}=t,r=LO(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xD,redirectTo:e?.redirectTo})}catch(e){if(ue(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return _(this,null,function*(){try{return yield be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gr})}catch(e){if(ue(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return _(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},f=yield be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:TD});if(f.error)throw f.error;let h=yield f.json(),v=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(E=>{let T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(E.split(";")[1].split("=")[1]);c[`${A}Page`]=T}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ue(c))return{data:{users:[]},error:c};throw c}})}getUserById(t){return _(this,null,function*(){try{return yield be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gr})}catch(e){if(ue(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return _(this,null,function*(){try{return yield be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:gr})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,e=!1){return _(this,null,function*(){try{return yield be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:gr})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return _(this,null,function*(){try{let{data:e,error:r}=yield be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(ue(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return _(this,null,function*(){try{return{data:yield be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(ue(e))return{data:null,error:e};throw e}})}};var MD={getItem:n=>vi()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{vi()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{vi()&&globalThis.localStorage.removeItem(n)}};function M0(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function AD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var ho={debug:!!(globalThis&&vi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},wl=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Ud=class extends wl{};function A0(n,t,e){return _(this,null,function*(){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>_(this,null,function*(){if(i){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return yield e()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Ud(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ho.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}AD();var VO={url:rD,storageKey:iD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function ND(n,t,e){return _(this,null,function*(){return yield e()})}var N0=(()=>{class n{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&Xn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},VO),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ns({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=jd(o.fetch),this.lock=o.lock||ND,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Xn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=A0:this.lock=ND,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:vi()?this.storage=MD:(this.memoryStorage={},this.storage=M0(this.memoryStorage)):(this.memoryStorage={},this.storage=M0(this.memoryStorage)),Xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>_(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rd}) ${new Date().toISOString()}`,...e),this}initialize(){return _(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=_(this,null,function*(){return yield this._acquireLock(-1,()=>_(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return _(this,null,function*(){var e;try{let r=yD(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Xn()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),uD(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>_(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?{error:r}:{error:new Ts("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return _(this,null,function*(){var r,i,o;try{let s=yield be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Gr}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,f=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return _(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:h,password:v,options:g}=e,E=null,T=null;this.flowType==="pkce"&&([E,T]=yield fo(this.storage,this.storageKey)),s=yield be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:v,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:E,code_challenge_method:T},xform:Gr})}else if("phone"in e){let{phone:h,password:v,options:g}=e;s=yield be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:v,data:(i=g?.data)!==null&&i!==void 0?i:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Gr})}else throw new lo("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,f=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return _(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:T0})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:T0})}else throw new lo("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Ms}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return _(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return _(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>_(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return _(this,null,function*(){let r=yield _l(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Gr});if(yield bl(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ms}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(ue(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return _(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Gr}),{data:c,error:f}=l;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ms}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return _(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,f=null,h=null;this.flowType==="pkce"&&([f,h]=yield fo(this.storage,this.storageKey));let{error:v}=yield be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){let{phone:l,options:c}=e,{data:f,error:h}=yield be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:f?.message_id},error:h}}throw new lo("You must provide either an email or phone number.")}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return _(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Gr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,f=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return _(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield fo(this.storage,this.storageKey)),yield be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:ID})}catch(s){if(ue(s))return{data:null,error:s};throw s}})}reauthenticate(){return _(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>_(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return _(this,null,function*(){try{return yield this._useSession(e=>_(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new On;let{error:o}=yield be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if(ue(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return _(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield be(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield be(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new lo("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return _(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>_(this,null,function*(){return this._useSession(r=>_(this,null,function*(){return r}))}))})}_acquireLock(e,r){return _(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=_(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(_(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>_(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(_(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return _(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return _(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield _l(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<Pd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,f,h)=>(!a&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:e},error:null}}let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return _(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>_(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return _(this,null,function*(){try{return e?yield be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gr}):yield this._useSession(r=>_(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:yield be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:gr})}))}catch(r){if(ue(r))return cD(r)&&(yield this._removeSession(),yield bl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return _(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>_(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return _(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>_(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new On;let l=s.session,c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=yield fo(this.storage,this.storageKey));let{data:h,error:v}=yield be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:gr});if(v)throw v;return l.user=h.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}})}setSession(e){return _(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>_(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return _(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new On;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Bd(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(ue(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return _(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>_(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return _(this,null,function*(){try{return yield this._useSession(r=>_(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new On;let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return _(this,null,function*(){try{if(!Xn())throw new co("No browser detected.");if(e.error||e.error_description||e.error_code)throw new co(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new co("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gl("No code detected.");let{data:te,error:De}=yield this._exchangeCodeForSession(e.code);if(De)throw De;let qe=new URL(window.location.href);return qe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",qe.toString()),{data:{session:te.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:f}=e;if(!s||!l||!a||!f)throw new co("No session defined in URL");let h=Math.round(Date.now()/1e3),v=parseInt(l),g=h+v;c&&(g=parseInt(c));let E=g-h;E*1e3<=ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${v}s`);let T=g-v;h-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,g,h):h-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,g,h);let{data:A,error:j}=yield this._getUser(s);if(j)throw j;let de={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:v,expires_at:g,refresh_token:a,token_type:f,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:de,redirectType:e.type},error:null}}catch(i){if(ue(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return _(this,null,function*(){let r=yield _l(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return _(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>_(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return _(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>_(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(lD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield bl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=vD(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),_(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>_(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return _(this,null,function*(){return yield this._useSession(r=>_(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return _(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield fo(this.storage,this.storageKey,!0));try{return yield be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ue(a))return{data:null,error:a};throw a}})}getUserIdentities(){return _(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}linkIdentity(e){return _(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>_(this,null,function*(){var a,l,c,f,h;let{data:v,error:g}=s;if(g)throw g;let E=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield be(this.fetch,"GET",E,{headers:this.headers,jwt:(h=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})}));if(o)throw o;return Xn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(ue(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return _(this,null,function*(){try{return yield this._useSession(r=>_(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(ue(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return _(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield wD(o=>_(this,null,function*(){return o>0&&(yield bD(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gr})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Vd(s)&&Date.now()+a-i<ao})}catch(i){if(this._debug(r,"error",i),ue(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return _(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),Xn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return _(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield _l(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Pd;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Pd}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),Vd(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return _(this,null,function*(){var r,i;if(!e)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new yl;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new On;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),ue(s)){let a={session:null,error:s};return Vd(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return _(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>_(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return _(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield x0(this.storage,this.storageKey,e)})}_removeSession(){return _(this,null,function*(){this._debug("#_removeSession()"),yield bl(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return _(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),ao);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>_(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return _(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return _(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return _(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return _(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>_(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>_(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ao}ms, refresh threshold is ${Od} ticks`),o<=Od&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof wl)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return _(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Xn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>_(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return _(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>_(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return _(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield fo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return _(this,null,function*(){try{return yield this._useSession(r=>_(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(ue(r))return{data:null,error:r};throw r}})}_enroll(e){return _(this,null,function*(){try{return yield this._useSession(r=>_(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:f}=yield be(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(ue(r))return{data:null,error:r};throw r}})}_verify(e){return _(this,null,function*(){return this._acquireLock(-1,()=>_(this,null,function*(){try{return yield this._useSession(r=>_(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(ue(r))return{data:null,error:r};throw r}}))})}_challenge(e){return _(this,null,function*(){return this._acquireLock(-1,()=>_(this,null,function*(){try{return yield this._useSession(r=>_(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(ue(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return _(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return _(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return _(this,null,function*(){return this._acquireLock(-1,()=>_(this,null,function*(){return yield this._useSession(e=>_(this,null,function*(){var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Bd(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}))})}fetchJwk(i){return _(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(l=>l.kid===e);if(o||(o=this.jwks.keys.find(l=>l.kid===e),o&&this.jwks_cached_at+aD>Date.now()))return o;let{data:s,error:a}=yield be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new qr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),o=s.keys.find(l=>l.kid===e),!o)throw new qr("No matching signing key found in JWKS");return o})}getClaims(i){return _(this,arguments,function*(e,r={keys:[]}){try{let o=e;if(!o){let{data:T,error:A}=yield this.getSession();if(A||!T.session)return{data:null,error:A};o=T.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:f}}=Bd(o);if(ED(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:T}=yield this.getUser(o);if(T)throw T;return{data:{claims:a,header:s,signature:l},error:null}}let h=DD(s.alg),v=yield this.fetchJwk(s.kid,r),g=yield crypto.subtle.importKey("jwk",v,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,g,l,mD(`${c}.${f}`))))throw new qr("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(ue(o))return{data:null,error:o};throw o}})}}return n.nextInstanceID=0,n})();var jO=N0,k0=jO;var $d=class extends k0{constructor(t){super(t)}};var BO=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{c(r.next(f))}catch(h){s(h)}}function l(f){try{c(r.throw(f))}catch(h){s(h)}}function c(f){f.done?o(f.value):i(f.value).then(a,l)}c((r=r.apply(n,t||[])).next())})},Dn=class{constructor(t,e,r){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=tD(t),l=new URL(a);this.realtimeUrl=new URL("/realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",l),this.storageUrl=new URL("/storage/v1",l),this.functionsUrl=new URL("/functions/v1",l);let c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:YE,realtime:XE,auth:Object.assign(Object.assign({},JE),{storageKey:c}),global:ZE},h=nD(r??{},f);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=eD(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new LE(`${a}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new tl(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fl(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return BO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,f){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $d({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ul(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var kD=(n,t,e)=>new Dn(n,t,e);var Ce=class n{constructor(){}saveData(t,e){try{let r=JSON.stringify(e,null,2);localStorage.setItem(t,r),console.log(`Dados salvos com sucesso na chave: ${t}`)}catch(r){console.error("Erro ao salvar dados:",r)}}loadData(t){try{let e=localStorage.getItem(t);return e?JSON.parse(e):(console.warn(`Nenhum dado encontrado para a chave: ${t}`),null)}catch(e){return console.error("Erro ao carregar dados:",e),null}}deleteData(t){try{localStorage.removeItem(t),console.log(`Dados removidos com sucesso para a chave: ${t}`)}catch(e){console.error("Erro ao remover dados:",e)}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var HD=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(b(an),b(He))};static \u0275dir=X({type:n})}return n})(),Ps=(()=>{class n extends HD{static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275dir=X({type:n,features:[dt]})}return n})(),vr=new P(""),UO={provide:vr,useExisting:yt(()=>V0),multi:!0},V0=(()=>{class n extends Ps{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&C("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[me([UO]),dt]})}return n})(),$O={provide:vr,useExisting:yt(()=>Te),multi:!0};function HO(){let n=Ur()?Ur().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var WO=new P(""),Te=(()=>{class n extends HD{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!HO())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(b(an),b(He),b(WO,8))};static \u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&C("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[me([$O]),dt]})}return n})();function _i(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function WD(n){return n!=null&&typeof n.length=="number"}var wi=new P(""),Ls=new P(""),zO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Nt=class{static min(t){return zD(t)}static max(t){return qO(t)}static required(t){return qD(t)}static requiredTrue(t){return GO(t)}static email(t){return QO(t)}static minLength(t){return KO(t)}static maxLength(t){return ZO(t)}static pattern(t){return YO(t)}static nullValidator(t){return Wd(t)}static compose(t){return JD(t)}static composeAsync(t){return XD(t)}};function zD(n){return t=>{if(_i(t.value)||_i(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function qO(n){return t=>{if(_i(t.value)||_i(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function qD(n){return _i(n.value)?{required:!0}:null}function GO(n){return n.value===!0?null:{required:!0}}function QO(n){return _i(n.value)||zO.test(n.value)?null:{email:!0}}function KO(n){return t=>_i(t.value)||!WD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function ZO(n){return t=>WD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function YO(n){if(!n)return Wd;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(_i(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function Wd(n){return null}function GD(n){return n!=null}function QD(n){return Ji(n)?xe(n):n}function KD(n){let t={};return n.forEach(e=>{t=e!=null?M(M({},t),e):t}),Object.keys(t).length===0?null:t}function ZD(n,t){return t.map(e=>e(n))}function JO(n){return!n.validate}function YD(n){return n.map(t=>JO(t)?t:e=>t.validate(e))}function JD(n){if(!n)return null;let t=n.filter(GD);return t.length==0?null:function(e){return KD(ZD(e,t))}}function j0(n){return n!=null?JD(YD(n)):null}function XD(n){if(!n)return null;let t=n.filter(GD);return t.length==0?null:function(e){let r=ZD(e,t).map(QD);return Dp(r).pipe(z(KD))}}function B0(n){return n!=null?XD(YD(n)):null}function RD(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function eS(n){return n._rawValidators}function tS(n){return n._rawAsyncValidators}function F0(n){return n?Array.isArray(n)?n:[n]:[]}function zd(n,t){return Array.isArray(n)?n.includes(t):n===t}function OD(n,t){let e=F0(t);return F0(n).forEach(i=>{zd(e,i)||e.push(i)}),e}function PD(n,t){return F0(t).filter(e=>!zd(n,e))}var qd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=j0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=B0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Yt=class extends qd{name;get formDirective(){return null}get path(){return null}},mo=class extends qd{_parent=null;name=null;valueAccessor=null},Gd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},XO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Z9=ie(M({},XO),{"[class.ng-submitted]":"isSubmitted"}),Me=(()=>{class n extends Gd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(b(mo,2))};static \u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&q("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[dt]})}return n})(),Pn=(()=>{class n extends Gd{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(b(Yt,10))};static \u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&q("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[dt]})}return n})();var Cl="VALID",Hd="INVALID",ks="PENDING",El="DISABLED",bi=class{},Qd=class extends bi{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Sl=class extends bi{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Il=class extends bi{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Fs=class extends bi{status;source;constructor(t,e){super(),this.status=t,this.source=e}},R0=class extends bi{source;constructor(t){super(),this.source=t}},O0=class extends bi{source;constructor(t){super(),this.source=t}};function U0(n){return(Jd(n)?n.validators:n)||null}function e2(n){return Array.isArray(n)?j0(n):n||null}function $0(n,t){return(Jd(t)?t.asyncValidators:n)||null}function t2(n){return Array.isArray(n)?B0(n):n||null}function Jd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nS(n,t,e){let r=n.controls;if(!(t?Object.keys(r):r).length)throw new $(1e3,"");if(!r[e])throw new $(1001,"")}function rS(n,t,e){n._forEachChild((r,i)=>{if(e[i]===void 0)throw new $(1002,"")})}var Rs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return dr(this.statusReactive)}set status(t){dr(()=>this.statusReactive.set(t))}_status=Lt(()=>this.statusReactive());statusReactive=Je(void 0);get valid(){return this.status===Cl}get invalid(){return this.status===Hd}get pending(){return this.status==ks}get disabled(){return this.status===El}get enabled(){return this.status!==El}errors;get pristine(){return dr(this.pristineReactive)}set pristine(t){dr(()=>this.pristineReactive.set(t))}_pristine=Lt(()=>this.pristineReactive());pristineReactive=Je(!0);get dirty(){return!this.pristine}get touched(){return dr(this.touchedReactive)}set touched(t){dr(()=>this.touchedReactive.set(t))}_touched=Lt(()=>this.touchedReactive());touchedReactive=Je(!1);get untouched(){return!this.touched}_events=new Ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(OD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(OD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(PD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(PD(t,this._rawAsyncValidators))}hasValidator(t){return zd(this._rawValidators,t)}hasAsyncValidator(t){return zd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ie(M({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Il(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new Il(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ie(M({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Sl(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new Sl(!0,r))}markAsPending(t={}){this.status=ks;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Fs(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ie(M({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=El,this.errors=null,this._forEachChild(i=>{i.disable(ie(M({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Qd(this.value,r)),this._events.next(new Fs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(M({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Cl,this._forEachChild(r=>{r.enable(ie(M({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ie(M({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cl||this.status===ks)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Qd(this.value,e)),this._events.next(new Fs(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ie(M({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?El:Cl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=QD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Fs(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new H,this.statusChanges=new H}_calculateStatus(){return this._allControlsDisabled()?El:this.errors?Hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(Hd)?Hd:Cl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new Sl(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Il(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=e2(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=t2(this._rawAsyncValidators)}},Os=class extends Rs{constructor(t,e,r){super(U0(e),$0(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){rS(this,!0,t),Object.keys(t).forEach(r=>{nS(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var P0=class extends Os{};var Tl=new P("",{providedIn:"root",factory:()=>Xd}),Xd="always";function ef(n,t){return[...t.path,n]}function Kd(n,t,e=Xd){H0(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),r2(n,t),o2(n,t),i2(n,t),n2(n,t)}function LD(n,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Yd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Zd(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function n2(n,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function H0(n,t){let e=eS(n);t.validator!==null?n.setValidators(RD(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let r=tS(n);t.asyncValidator!==null?n.setAsyncValidators(RD(r,t.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Zd(t._rawValidators,i),Zd(t._rawAsyncValidators,i)}function Yd(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=eS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let i=tS(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Zd(t._rawValidators,r),Zd(t._rawAsyncValidators,r),e}function r2(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&iS(n,t)})}function i2(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&iS(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function iS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function o2(n,t){let e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function oS(n,t){n==null,H0(n,t)}function s2(n,t){return Yd(n,t)}function sS(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function a2(n){return Object.getPrototypeOf(n.constructor)===Ps}function aS(n,t){n._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lS(n,t){if(!t)return null;Array.isArray(t);let e,r,i;return t.forEach(o=>{o.constructor===Te?e=o:a2(o)?r=o:i=o}),i||r||e||null}function l2(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var c2={provide:Yt,useExisting:yt(()=>go)},Dl=Promise.resolve(),go=(()=>{class n extends Yt{callSetDisabledState;get submitted(){return dr(this.submittedReactive)}_submitted=Lt(()=>this.submittedReactive());submittedReactive=Je(!1);_directives=new Set;form;ngSubmit=new H;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new Os({},j0(e),B0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Dl.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Kd(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Dl.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Dl.then(()=>{let r=this._findContainer(e.path),i=new Os({});oS(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Dl.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Dl.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),aS(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)(b(wi,10),b(Ls,10),b(Tl,8))};static \u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&C("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[me([c2]),dt]})}return n})();function VD(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function jD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var xl=class extends Rs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(U0(e),$0(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(jD(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){VD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){VD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){jD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var u2=n=>n instanceof xl,d2=(()=>{class n extends Yt{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ef(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275dir=X({type:n,standalone:!1,features:[dt]})}return n})();var f2={provide:mo,useExisting:yt(()=>je)},BD=Promise.resolve(),je=(()=>{class n extends mo{_changeDetectorRef;callSetDisabledState;control=new xl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new H;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lS(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),sS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){BD.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&Pe(r);BD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ef(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(b(Yt,9),b(wi,10),b(Ls,10),b(vr,10),b(Lr,8),b(Tl,8))};static \u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[me([f2]),dt,et]})}return n})(),Ln=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),p2={provide:vr,useExisting:yt(()=>kt),multi:!0},kt=(()=>{class n extends Ps{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&C("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[me([p2]),dt]})}return n})();var h2={provide:vr,useExisting:yt(()=>Ml),multi:!0},Ml=(()=>{class n extends Ps{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&C("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[me([h2]),dt]})}return n})(),cS=new P("");var m2={provide:Yt,useExisting:yt(()=>Ci)},Ci=(()=>{class n extends Yt{callSetDisabledState;get submitted(){return dr(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Lt(()=>this._submittedReactive());_submittedReactive=Je(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new H;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Kd(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){LD(e.control||null,e,!1),l2(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),aS(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new R0(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new O0(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(LD(r||null,e),u2(i)&&(Kd(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);oS(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&s2(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){H0(this.form,this),this._oldForm&&Yd(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(b(wi,10),b(Ls,10),b(Tl,8))};static \u0275dir=X({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&C("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[me([m2]),dt,et]})}return n})(),g2={provide:Yt,useExisting:yt(()=>tf)},tf=(()=>{class n extends d2{name=null;constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){uS(this._parent)}static \u0275fac=function(r){return new(r||n)(b(Yt,13),b(wi,10),b(Ls,10))};static \u0275dir=X({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[me([g2]),dt]})}return n})(),v2={provide:Yt,useExisting:yt(()=>nf)},nf=(()=>{class n extends Yt{_parent;name=null;constructor(e,r,i){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ef(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){uS(this._parent)}static \u0275fac=function(r){return new(r||n)(b(Yt,13),b(wi,10),b(Ls,10))};static \u0275dir=X({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[me([v2]),dt]})}return n})();function uS(n){return!(n instanceof tf)&&!(n instanceof Ci)&&!(n instanceof nf)}var y2={provide:mo,useExisting:yt(()=>vo)},vo=(()=>{class n extends mo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new H;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=lS(this,o)}ngOnChanges(e){this._added||this._setUpControl(),sS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ef(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(b(Yt,13),b(wi,10),b(Ls,10),b(vr,10),b(cS,8))};static \u0275dir=X({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[me([y2]),dt,et]})}return n})(),_2={provide:vr,useExisting:yt(()=>dn),multi:!0};function dS(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function b2(n){return n.split(":")[0]}var dn=(()=>{class n extends Ps{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=dS(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=b2(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&C("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[me([_2]),dt]})}return n})(),Vn=(()=>{class n{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(dS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(b(He),b(an),b(dn,9))};static \u0275dir=X({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),w2={provide:vr,useExisting:yt(()=>fS),multi:!0};function UD(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function C2(n){return n.split(":")[0]}var fS=(()=>{class n extends Ps{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=C2(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&C("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[me([w2]),dt]})}return n})(),jn=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(UD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(UD(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(b(He),b(an),b(fS,9))};static \u0275dir=X({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function E2(n){return typeof n=="number"?n:parseFloat(n)}var pS=(()=>{class n{_validator=Wd;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Wd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=X({type:n,features:[et]})}return n})();var D2={provide:wi,useExisting:yt(()=>Al),multi:!0},Al=(()=>{class n extends pS{min;inputName="min";normalizeInput=e=>E2(e);createValidator=e=>zD(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Mt("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[me([D2]),dt]})}return n})(),S2={provide:wi,useExisting:yt(()=>Qr),multi:!0};var Qr=(()=>{class n extends pS{required;inputName="required";normalizeInput=Pe;createValidator=e=>qD;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=gn(n)))(i||n)}})();static \u0275dir=X({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Mt("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[me([S2]),dt]})}return n})();var hS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=qt({})}return n})(),L0=class extends Rs{constructor(t,e,r){super(U0(e),$0(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){rS(this,!1,t),t.forEach((r,i)=>{nS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function $D(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Vs=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return $D(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Os(i,o)}record(e,r=null){let i=this._reduceControls(e);return new P0(i,r)}control(e,r,i){let o={};return this.useNonNullable?($D(r)?o=r:(o.validators=r,o.asyncValidators=i),new xl(e,ie(M({},o),{nonNullable:!0}))):new xl(e,r,i)}array(e,r,i){let o=e.map(s=>this._createControl(s));return new L0(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof xl)return e;if(e instanceof Rs)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var he=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Tl,useValue:e.callSetDisabledState??Xd}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=qt({imports:[hS]})}return n})(),Ei=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:cS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Tl,useValue:e.callSetDisabledState??Xd}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=qt({imports:[hS]})}return n})();var I2=n=>({"fw-bold":n}),x2=(n,t,e)=>({"bg-light":!0,"border border-light-subtle":n,"bg-success bg-opacity-10":t,"bg-warning bg-opacity-25":e}),T2=(n,t)=>({"bg-success":n,"bg-primary":t});function M2(n,t){if(n&1){let e=V();d(0,"div",4),C("click",function(){let i=D(e).$implicit,o=w();return S(o.onDateClicked(i))}),d(1,"div",5),p(2),Y(3,"date"),u(),d(4,"div",6),I(5,"div",7),d(6,"div",8),p(7),u()()()}if(n&2){let e=t.$implicit,r=w();m(),y("ngClass",Kt(11,I2,e===r.selectedDate)),m(),F(" ",J(3,8,e,"dd/MM")," "),m(2),y("ngClass",Mu(13,x2,e===r.selectedDate,r.dailyTotals[e]>=r.waterGoal,e===r.todayStr())),m(),ns("width",r.getBarWidth(e)),y("ngClass",is(17,T2,r.dailyTotals[e]>=r.waterGoal,r.waterGoal>r.dailyTotals[e])),Mt("aria-label",r.dailyTotals[e]+" ml de \xE1gua ingerida"),m(2),F(" ",r.dailyTotals[e]," ml ")}}var rf=class n{selectedDate=new Date().toISOString().split("T")[0];waterEntries=[];waterGoal=2e3;dateSelected=new H;viewMode="week";displayDays=[];dailyTotals={};ngOnChanges(t){(t.waterEntries||t.selectedDate)&&this.updateChart()}changeViewMode(t){this.viewMode=t,this.updateChart()}onDateClicked(t){console.log("date clicked"),this.dateSelected.emit(t)}updateChart(){console.log("update");let[t,e,r]=this.selectedDate.split("-").map(Number),i=new Date(t,e-1,r),o;if(this.viewMode==="week"){let l=(i.getDay()+6)%7;o=new Date(i),o.setDate(i.getDate()-l)}else o=new Date(i.getFullYear(),i.getMonth(),1);console.log("Claculated Date",o);let s=this.viewMode==="week"?7:30;this.dailyTotals={};for(let a=0;a<s;a++){let l=new Date(o);l.setDate(o.getDate()+a);let c=this.toLocalDateString(l);this.dailyTotals[c]=0}for(let a of this.waterEntries)this.dailyTotals.hasOwnProperty(a.date)&&(this.dailyTotals[a.date]+=a.amount);this.displayDays=Object.keys(this.dailyTotals)}getBarWidth(t){let e=this.dailyTotals[t]||0;return Math.min(e/this.waterGoal*100,100)+"%"}todayStr(){return new Date().toISOString().split("T")[0]}toLocalDateString(t){let e=t.getFullYear(),r=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0");return`${e}-${r}-${i}`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=R({type:n,selectors:[["app-water-intake-chart"]],inputs:{selectedDate:"selectedDate",waterEntries:"waterEntries",waterGoal:"waterGoal"},outputs:{dateSelected:"dateSelected"},features:[me([Ce]),et],decls:7,vars:5,consts:[["role","group","aria-label","View mode switch",1,"btn-group","mb-3"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"water-chart"],["class","d-flex align-items-center mb-2 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mb-2","cursor-pointer",3,"click"],[2,"font-size","0.9rem","min-width","45px",3,"ngClass"],[1,"bar-container","flex-grow-1","position-relative","rounded",2,"height","24px",3,"ngClass"],[1,"bar-fill","rounded","h-100",3,"ngClass"],[1,"bar-value","position-absolute","top-50","end-0","translate-middle-y","pe-2",2,"font-size","0.85rem"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"button",1),C("click",function(){return r.changeViewMode("week")}),p(2," Semana "),u(),d(3,"button",1),C("click",function(){return r.changeViewMode("month")}),p(4," M\xEAs "),u()(),d(5,"div",2),x(6,M2,8,20,"div",3),u()),e&2&&(m(),q("active",r.viewMode==="week"),m(2),q("active",r.viewMode==="month"),m(3),y("ngForOf",r.displayDays))},dependencies:[Dt,he,L,Ct,ve,ls],styles:[".water-chart[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.bar-container[_ngcontent-%COMP%]{min-width:120px;position:relative}.bar-fill[_ngcontent-%COMP%]{transition:width .5s ease}.bar-value[_ngcontent-%COMP%]{white-space:nowrap;color:#000;font-weight:600}"]})};var of=class{constructor(t,e,r){this.amount=t;this.time=e;this.date=r}},Di=class{constructor(t,e,r){this.quantity=t;this.unit=e;this.food=r}},Sn=class{constructor(t,e,r=[]){this.name=t;this.time=e;this.foods=r}},Si=class{constructor(t,e=[]){this.day=t;this.meals=e}},In=class{constructor(t,e,r,i,o){this.calories=t;this.protein=e;this.carbs=r;this.fat=i;this.fiber=o}},sf=(o=>(o.Calories="Calories",o.Carb="Carb",o.Protein="Protein",o.Fat="Fat",o.Fiber="Fiber",o))(sf||{});var mt=function(n){return n.readonly="readonly",n.readwrite="readwrite",n}(mt||{}),mS=new P(null),gS=new P("Indexed DB"),A2=new P("Server Indexed DB");function N2(n,t){return n.objectStoreNames.contains(t)}function Jt(n,t,e){if(!n){e("You need to use the openDatabase function to create a database before you query it!");return}N2(n,t)||e(`objectStore does not exists: ${t}`)}function _t(n,t){let e=n.transaction(t.storeName,t.dbMode);return e.onerror=t.error,e.onabort=t.abort,e}function bt(n,t,e,r){return{storeName:t,dbMode:n,error:i=>{e(i)},abort:i=>{e(i)}}}var z0=[];function nt(n,t,e,r){return new Promise((i,o)=>{n||o("IndexedDB not available");let s=n.open(t,e),a;s.onsuccess=()=>{a=s.result,z0.push(a),i(a)},s.onerror=()=>{o(`IndexedDB error: ${s.error}`)},typeof r=="function"&&(s.onupgradeneeded=l=>{r(l,a)})})}function W0(n,t,e,r,i){return _(this,null,function*(){return new Promise((o,s)=>{if(!n)return;let a=n.open(t,e);a.onupgradeneeded=l=>_(this,null,function*(){let c=l.target.result,f=r.map(v=>_(this,null,function*(){if(!c.objectStoreNames.contains(v.store)){let g=c.createObjectStore(v.store,v.storeConfig);for(let E of v.storeSchema)g.createIndex(E.name,E.keypath,E.options)}}));yield Promise.all(f);let h=i&&i();if(h){let v=Object.keys(h).map(g=>parseInt(g,10)).filter(g=>g>l.oldVersion).sort((g,E)=>g-E);for(let g of v)h[g](c,a.transaction)}c.close(),o()}),a.onsuccess=l=>{l.target.result.close(),o()},a.onerror=l=>{s(l)}})})}function k2(n,t,e){if(!n||!t||!e)throw Error('Params: "dbName", "version", "storeName" are mandatory.');return new U(r=>{try{let i=t+1,o=indexedDB.open(n,i);o.onupgradeneeded=s=>{let a=s.target.result;a.deleteObjectStore(e),a.close(),console.log("onupgradeneeded"),r.next(),r.complete()},o.onerror=s=>r.error(s)}catch(i){r.error(i)}})}function F2(n){return new Promise((t,e)=>{if(!n){e(new Error("No database to close"));return}try{n.close(),t()}catch(r){e(`Error closing database: ${r}`)}})}function rt(){return function(n,t,e){let r=e.value;return e.value=function(...i){let o=r.apply(this,i);return o instanceof U?o.pipe(nr(()=>_(this,null,function*(){let s=z0.map(a=>_(this,null,function*(){yield F2(a)}));yield Promise.all(s),z0.length=0}))):o},e}}var G0=(()=>{class n{constructor(e,r){this.dbConfigs=e,this.indexedDB=r,this.defaultDatabaseName=null,Object.values(this.dbConfigs).forEach((i,o,s)=>this.instanciateConfig(i,s.length===1))}instanciateConfig(e,r){return _(this,null,function*(){if(!e.name)throw new Error("NgxIndexedDB: Please, provide the dbName in the configuration");if((e.isDefault??!1)&&this.defaultDatabaseName)throw new Error("NgxIndexedDB: Only one database can be set as default");((e.isDefault??!1)&&!this.defaultDatabaseName||r)&&(this.defaultDatabaseName=e.name,this.selectedDb=e.name),yield W0(this.indexedDB,e.name,e.version,e.objectStoresMeta,e.migrationFactory),nt(this.indexedDB,e.name).then(i=>{i.version!==e.version&&(ku()&&(console.warn(`
            Your DB Config doesn't match the most recent version of the DB with name ${e.name}, please update it
            DB current version: ${i.version};
            Your configuration: ${e.version};
            `),console.warn(`Using latest version ${i.version}`)),this.dbConfigs[e.name].version=i.version),i.close()})})}get dbConfig(){return this.dbConfigs[this.selectedDb]}getDatabaseVersion(){return new U(e=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(r=>{e.next(r.version),e.complete()}).catch(r=>e.error(`error during get version of database => ${r} `))})}selectDb(e){if(e=e??this.defaultDatabaseName,!e)throw new Error("No database name specified and no default database set.");if(!Object.keys(this.dbConfigs).includes(e))throw new Error(`NgxIndexedDB: Database ${e} is not initialized.`);this.selectedDb=e}createObjectStore(e,r){return _(this,null,function*(){let i=[e];yield W0(this.indexedDB,this.dbConfig.name,++this.dbConfig.version,i,r)})}createDynamicObjectStore(e,r){return _(this,null,function*(){let i=[e];yield W0(this.indexedDB,this.dbConfig.name,this.dbConfig.version,i,r)})}add(e,r,i){return new U(o=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(s=>{let l=_t(s,bt(mt.readwrite,e,h=>o.error(h))).objectStore(e),f=!!i?l.add(r,i):l.add(r);f.onsuccess=h=>_(this,null,function*(){let v=h.target.result,g=l.get(v);g.onsuccess=E=>{o.next(E.target.result),o.complete()},g.onerror=E=>{o.error(E)}}),f.onerror=h=>{o.error(h)}}).catch(s=>o.error(s))})}bulkAdd(e,r){let i=new Promise((o,s)=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(a=>{let c=_t(a,bt(mt.readwrite,e,o,s)).objectStore(e),f=r.map(h=>new Promise(v=>{let g=h.key;delete h.key;let T=!!g?c.add(h,g):c.add(h);T.onsuccess=A=>{let j=A.target.result;v(j)}}));o(Promise.all(f))}).catch(a=>s(a))});return xe(i)}bulkDelete(e,r){let i=r.map(o=>new Promise((s,a)=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(l=>{let c=_t(l,bt(mt.readwrite,e,a,s));c.objectStore(e).delete(o),c.oncomplete=()=>{this.getAll(e).pipe(ot(1)).subscribe(h=>{s(h)})}}).catch(l=>a(l))}));return xe(Promise.all(i))}getByKey(e,r){return new U(i=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{let l=_t(o,bt(mt.readonly,e,i.error)).objectStore(e).get(r);l.onsuccess=c=>{i.next(c.target.result),i.complete()},l.onerror=c=>{i.error(c)}}).catch(o=>i.error(o))})}bulkGet(e,r){let i=r.map(o=>this.getByKey(e,o));return new U(o=>{Ri(i).subscribe(s=>{o.next(s),o.complete()})})}getByID(e,r){return new U(i=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{Jt(o,e,c=>i.error(c));let l=_t(o,bt(mt.readonly,e,i.error,i.next)).objectStore(e).get(r);l.onsuccess=c=>{i.next(c.target.result),i.complete()}}).catch(o=>i.error(o))})}getByIndex(e,r,i){return new U(o=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(s=>{Jt(s,e,h=>o.error(h));let f=_t(s,bt(mt.readonly,e,o.error)).objectStore(e).index(r).get(i);f.onsuccess=h=>{o.next(h.target.result),o.complete()}}).catch(s=>o.error(s))})}getAll(e){return new U(r=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(i=>{Jt(i,e,l=>r.error(l));let a=_t(i,bt(mt.readonly,e,r.error,r.next)).objectStore(e).getAll();a.onerror=l=>{r.error(l)},a.onsuccess=({target:{result:l}})=>{r.next(l),r.complete()}}).catch(i=>r.error(i))})}update(e,r){return new U(i=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{Jt(o,e,c=>i.error(c));let a=_t(o,bt(mt.readwrite,e,c=>i.error(c))).objectStore(e),l=a.put(r);l.onsuccess=c=>_(this,null,function*(){let f=c.target.result,h=a.get(f);h.onsuccess=v=>{i.next(v.target.result),i.complete()}})}).catch(o=>i.error(o))})}bulkPut(e,r){let i;return new U(o=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(s=>{Jt(s,e,l=>o.error(l)),i=_t(s,bt(mt.readwrite,e,l=>o.error(l)));let a=i.objectStore(e);r.forEach((l,c)=>{let f=a.put(l);c===r.length-1&&(f.onsuccess=h=>{i.commit(),o.next(h.target.result),o.complete()}),f.onerror=h=>{i.abort(),o.error(h)}})}).catch(s=>{i?.abort(),o.error(s)})})}delete(e,r){return new U(i=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{Jt(o,e,l=>i.error(l));let s=_t(o,bt(mt.readwrite,e,l=>i.error(l)));s.objectStore(e).delete(r),s.onerror=l=>i.error(l),s.oncomplete=()=>{this.getAll(e).pipe(ot(1)).subscribe({next:l=>{i.next(l)},error:l=>i.error(l),complete:()=>i.complete()})}}).catch(o=>i.error(o))})}deleteByKey(e,r){return new U(i=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{Jt(o,e,l=>i.error(l));let s=_t(o,bt(mt.readwrite,e,l=>i.error(l)));s.objectStore(e).delete(r),s.onerror=l=>i.error(l),s.oncomplete=()=>{i.next(),i.complete()}}).catch(o=>i.error(o))})}deleteAllByIndex(e,r,i,o){return new U(s=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(a=>{Jt(a,e,v=>s.error(v));let h=_t(a,bt(mt.readwrite,e,s.error)).objectStore(e).index(r).openCursor(i,o);h.onerror=v=>s.error(v),h.onsuccess=v=>{let g=v.target.result;g?(g.delete(),g.continue()):(s.next(),s.complete())}}).catch(a=>s.error(a))})}clear(e){return new U(r=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(i=>{Jt(i,e,a=>r.error(a));let o=_t(i,bt(mt.readwrite,e,a=>r.error(a)));o.objectStore(e).clear(),o.onerror=a=>r.error(a),o.oncomplete=()=>{r.next(),r.complete()}}).catch(i=>r.error(i))})}deleteDatabase(){return new U(e=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(r=>_(this,null,function*(){r.close();let i=this.indexedDB.deleteDatabase(this.dbConfig.name);i.onsuccess=()=>{e.next(),e.complete()},i.onerror=o=>e.error(o),i.onblocked=()=>{console.warn("Delete blocked: Ensure all tabs, instances, or connections are closed. Database name:",this.dbConfig.name),e.error(new Error("Unable to delete database because it's blocked"))}})).catch(r=>e.error(r))})}openCursor(e){let{storeName:r,query:i,direction:o,mode:s=mt.readonly}=e;return new U(a=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(l=>{Jt(l,r,v=>a.error(v));let c=_t(l,bt(s,r,a.error)),h=c.objectStore(r).openCursor(i,o);c.oncomplete=()=>a.complete(),h.onerror=v=>a.error(v),h.onsuccess=v=>{let g=v.target.result;g&&a.next(g)}}).catch(l=>a.error(l))})}openCursorByIndex(e){let{storeName:r,indexName:i,query:o,direction:s,mode:a=mt.readonly}=e;return new U(l=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(c=>{Jt(c,r,E=>l.error(E));let f=_t(c,bt(a,r,l.error)),g=f.objectStore(r).index(i).openCursor(o,s);f.oncomplete=()=>l.complete(),g.onerror=E=>l.error(E),g.onsuccess=E=>{let T=E.target.result;T&&l.next(T)}}).catch(c=>l.error(c))})}getAllByIndex(e,r,i,o){return new U(s=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(a=>{Jt(a,e,g=>s.error(g));let h=_t(a,bt(mt.readonly,e,s.error)).objectStore(e).index(r).openCursor(i,o),v=[];h.onerror=g=>s.error(g),h.onsuccess=g=>{let E=g.target.result;E?(v.push(E.value),E.continue()):(s.next(v),s.complete())}}).catch(a=>s.error(a))})}getAllKeysByIndex(e,r,i,o){return new U(s=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(a=>{Jt(a,e,g=>s.error(g));let f=_t(a,bt(mt.readonly,e,s.error)).objectStore(e).index(r),h=[],v=f.openKeyCursor(i,o);v.onerror=g=>s.error(g),v.onsuccess=g=>{let E=g.target.result;if(E){let{primaryKey:T,key:A}=E;h.push({primaryKey:T,key:A}),E.continue()}else s.next(h),s.complete()}}).catch(a=>s.error(a))})}count(e,r){return new U(i=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{Jt(o,e,c=>i.error(c));let l=_t(o,bt(mt.readonly,e,i.error)).objectStore(e).count(r);l.onerror=c=>i.error(c),l.onsuccess=c=>{i.next(c.target.result),i.complete()}}).catch(o=>i.error(o))})}countByIndex(e,r,i){return new U(o=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(s=>{Jt(s,e,h=>o.error(h));let f=_t(s,bt(mt.readonly,e,o.error)).objectStore(e).index(r).count(i);f.onerror=h=>o.error(h),f.onsuccess=h=>{o.next(h.target.result),o.complete()}}).catch(s=>o.error(s))})}deleteObjectStore(e){return k2(this.dbConfig.name,++this.dbConfig.version,e)}getAllObjectStoreNames(){return new U(e=>{nt(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(r=>{e.next(Array.from(r.objectStoreNames)),e.complete()}).catch(r=>e.error(r))})}static{this.\u0275fac=function(r){return new(r||n)(O(mS),O(gS))}}static{this.\u0275prov=k({token:n,factory:n.\u0275fac})}}return Ke([rt()],n.prototype,"getDatabaseVersion",null),Ke([rt()],n.prototype,"add",null),Ke([rt()],n.prototype,"bulkAdd",null),Ke([rt()],n.prototype,"bulkDelete",null),Ke([rt()],n.prototype,"getByKey",null),Ke([rt()],n.prototype,"bulkGet",null),Ke([rt()],n.prototype,"getByID",null),Ke([rt()],n.prototype,"getByIndex",null),Ke([rt()],n.prototype,"getAll",null),Ke([rt()],n.prototype,"update",null),Ke([rt()],n.prototype,"bulkPut",null),Ke([rt()],n.prototype,"delete",null),Ke([rt()],n.prototype,"deleteByKey",null),Ke([rt()],n.prototype,"deleteAllByIndex",null),Ke([rt()],n.prototype,"clear",null),Ke([rt()],n.prototype,"deleteDatabase",null),Ke([rt()],n.prototype,"openCursor",null),Ke([rt()],n.prototype,"openCursorByIndex",null),Ke([rt()],n.prototype,"getAllByIndex",null),Ke([rt()],n.prototype,"getAllKeysByIndex",null),Ke([rt()],n.prototype,"count",null),Ke([rt()],n.prototype,"countByIndex",null),Ke([rt()],n.prototype,"getAllObjectStoreNames",null),n})(),q0=class{cmp(){return 0}databases(){return Promise.resolve([])}deleteDatabase(){return{onupgradeneeded:null,onblocked:null,onerror:null,onsuccess:null,error:null}}open(){return{onupgradeneeded:null,onblocked:null,onerror:null,onsuccess:null,error:null}}};function vS(){om(vS);let n=N(vn),t=N(A2,{optional:!0})??new q0;return Ia(n)?N(pt).defaultView.indexedDB:t}var yS=(...n)=>lr([...R2(...n)]),R2=(...n)=>{let t=n.reduce((e,r)=>(e[r.name]=r,e),{});return[G0,{provide:mS,useValue:t},{provide:gS,useFactory:vS}]};var $e=class n{dbService;constructor(){console.log("DB Wrapper constructed"),this.dbService=N(G0)}add(t,e){return _(this,null,function*(){let i=(yield zn(this.dbService.add(t,e)))?.id;if(i==null)throw new Error("Falha ao adicionar item no IndexedDB: ID n\xE3o encontrado");return ie(M({},e),{id:i})})}getAll(t){return _(this,null,function*(){let e=yield zn(this.dbService.getAll(t));return Array.isArray(e)?e:[]})}getById(t,e){return _(this,null,function*(){return yield zn(this.dbService.getByKey(t,e))})}update(t,e){return _(this,null,function*(){yield zn(this.dbService.update(t,e))})}delete(t,e){return _(this,null,function*(){yield zn(this.dbService.delete(t,e))})}clear(t){return _(this,null,function*(){yield zn(this.dbService.clear(t))})}count(t){return _(this,null,function*(){let e=yield zn(this.dbService.count(t));return typeof e=="number"?e:0})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ae=class n{constructor(t,e){this.storage=t;this.dbService=e}getUpdatedAtKey(t,e){if(t==="plan-history"&&!e)throw new Error(`Partition key is required for entity: ${t}`);return e?`updatedAt-${t}-${e}`:`updatedAt-${t}`}getEntityUpdatedAt(t,e){return localStorage.getItem(this.getUpdatedAtKey(t,e))}setEntityUpdatedAt(t,e){let r=new Date().toISOString();localStorage.setItem(this.getUpdatedAtKey(t,e),r)}clearEntityUpdatedAt(t,e){localStorage.removeItem(this.getUpdatedAtKey(t,e))}getFoods(){return _(this,null,function*(){yield this.dbService.getAll("foods")})}getWorkouts(){return this.storage.loadData("workouts")}getPlans(){return this.storage.loadData("meal-plans")}getProfile(){return this.storage.loadData("profileData")}getWater(){return this.storage.loadData("water-intake")}getRecord(t){return this.storage.loadData(this.getDateKey("plan-history",t))}getRecords(){let t=this.getStoredDates(),e=[];console.log("Datas no array de datas de registros",t);for(let i of t){let o=this.getRecord(i);o&&e.push(o)}let r=e.sort((i,o)=>i.date.localeCompare(o.date));return console.log("Registros de hist\xF3rico",r),r}setFoods(t){return _(this,null,function*(){this.clearFoods();for(let e of t)yield this.dbService.add("foods",e);this.setEntityUpdatedAt("workouts")})}setWorkouts(t){this.storage.saveData("workouts",t),this.setEntityUpdatedAt("workouts")}setPlans(t){this.storage.saveData("meal-plans",t),this.setEntityUpdatedAt("meal-plans")}setProfile(t){this.storage.saveData("profileData",t),this.setEntityUpdatedAt("profileData")}setWater(t){this.storage.saveData("water-intake",t),this.setEntityUpdatedAt("water-intake")}setRecord(t){this.storage.saveData(this.getDateKey("plan-history",t.date),t);let e=this.getStoredDates();if(console.log("DATAS DO HIST\xD2RICO ATUAL",e),!e.includes(t.date)){let r=[...e,t.date];console.log("PERSISTINDO DATAS DO HIST\xD2RICO",r),this.storage.saveData("plan-history-dates",r)}this.setEntityUpdatedAt("plan-history",t.date)}clearFoods(){return _(this,null,function*(){yield this.dbService.clear("foods"),this.clearEntityUpdatedAt("foods")})}clearWorkouts(){this.storage.deleteData("workouts"),this.clearEntityUpdatedAt("workouts")}clearPlans(){this.storage.deleteData("meal-plans"),this.clearEntityUpdatedAt("meal-plans")}clearProfile(){this.storage.deleteData("profileData"),this.clearEntityUpdatedAt("profileData")}clearWater(){this.storage.deleteData("water-intake"),this.clearEntityUpdatedAt("water-intake")}clearRecords(){let t=this.getStoredDates();for(let e of t)this.storage.deleteData(this.getDateKey("plan-history",e)),this.clearEntityUpdatedAt("plan-history",e);this.storage.deleteData("plan-history-dates")}getStoredDates(){return this.storage.loadData("plan-history-dates")||[]}getDateKey(t,e){return`plan-history-${e}`}static \u0275fac=function(e){return new(e||n)(O(Ce),O($e))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var yr=class n{saveHandlers=[];changeChecks=[];constructor(){window.addEventListener("beforeunload",this.handleUnload),document.addEventListener("visibilitychange",this.handleVisibilityChange)}register(t,e){this.saveHandlers.push(t),this.changeChecks.push(e)}unregister(t){let e=this.saveHandlers.indexOf(t);e!==-1&&(this.saveHandlers.splice(e,1),this.changeChecks.splice(e,1))}handleUnload=()=>this.saveIfNeeded();handleVisibilityChange=()=>{document.visibilityState==="hidden"&&this.saveIfNeeded()};saveIfNeeded(){this.saveHandlers.forEach((t,e)=>{let r=this.changeChecks[e];r?.()&&t()})}ngOnDestroy(){window.removeEventListener("beforeunload",this.handleUnload),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var cf=class n{constructor(t,e,r){this.dataService=t;this.eStorage=e;this.autoSave=r}selectedDate=new Date().toLocaleDateString("sv-SE");amount=null;time="";waterIntakes=[];filteredIntakes=[];dailyGoal=2e3;sensitivityLevel=1;sensitivityValue=100;shouldSave=!1;ngOnInit(){this.loadData();let t=new Date;this.time=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`,this.autoSave.register(()=>this.saveData(),()=>this.shouldSave)}ngOnDestroy(){this.autoSave.unregister(()=>this.saveData()),this.saveData()}saveData(){this.shouldSave&&(this.eStorage.setWater(this.waterIntakes),this.shouldSave=!1)}adjustWaterIntake(t){if(this.validateFutureDate()){window.alert(`Aten\xE7\xE3o

N\xE3o \xE9 permitido efetuar registros em dias futuros`);return}let e=this.selectedDate,r=this.waterIntakes.find(i=>i.date===e);r?(r.amount+=t,r.amount<=0&&(this.waterIntakes=this.waterIntakes.filter(i=>i!==r))):t>0&&this.waterIntakes.push(new of(t,"--:--",e)),this.waterIntakes=[...this.waterIntakes],this.updateFilteredData(),this.shouldSave=!0}validateFutureDate(){return new Date(this.selectedDate)>new Date}updateSensitivity(){this.sensitivityValue=50+Math.round(this.sensitivityLevel)*50,this.dataService.saveData("water-value",this.sensitivityLevel)}loadData(){let t=this.eStorage.getWater(),e=this.eStorage.getProfile();this.sensitivityLevel=this.dataService.loadData("water-value")||0,this.updateSensitivity(),this.dailyGoal=e?.waterGoal??2e3,this.waterIntakes=t??[],this.waterIntakes.sort((r,i)=>{let o=new Date(`${r.date}T${r.time}`).getTime();return new Date(`${i.date}T${i.time}`).getTime()-o}),this.updateFilteredData()}getTotalWaterIntake(){return this.filteredIntakes.reduce((t,e)=>t+e.amount,0)}updateFilteredData(){this.filteredIntakes=this.waterIntakes.filter(t=>t.date===this.selectedDate)}onDateChangeFromChart(t){this.selectedDate=t}static \u0275fac=function(e){return new(e||n)(b(Ce),b(Ae),b(yr))};static \u0275cmp=R({type:n,selectors:[["app-water-intake"]],features:[me([Ce])],decls:16,vars:10,consts:[[1,"container","my-4"],[1,"row","g-2","mb-3"],[1,"col-12"],["id","date","type","date",1,"form-control",3,"ngModelChange","change","ngModel"],["type","range","id","waterSensitivity",1,"form-range",3,"ngModelChange","input","ngModel","min","max","step"],[1,"col-6"],[1,"btn","btn-success","btn-lg","w-100",3,"click"],[1,"fas","fa-glass-water"],[1,"btn","btn-outline-secondary","btn-lg","w-100",3,"click"],[3,"dateSelected","waterEntries","waterGoal","selectedDate"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),Z("ngModelChange",function(o){return ee(r.selectedDate,o)||(r.selectedDate=o),o}),C("change",function(){return r.loadData()}),u()(),d(4,"div",2)(5,"div")(6,"input",4),Z("ngModelChange",function(o){return ee(r.sensitivityLevel,o)||(r.sensitivityLevel=o),o}),C("input",function(){return r.updateSensitivity()}),u()()(),d(7,"div",5)(8,"button",6),C("click",function(){return r.adjustWaterIntake(r.sensitivityValue)}),I(9,"i",7),p(10),u()(),d(11,"div",5)(12,"button",8),C("click",function(){return r.adjustWaterIntake(-r.sensitivityValue)}),I(13,"i",7),p(14),u()()(),d(15,"app-water-intake-chart",9),C("dateSelected",function(o){return r.onDateChangeFromChart(o)}),u()()),e&2&&(m(3),K("ngModel",r.selectedDate),m(3),K("ngModel",r.sensitivityLevel),y("min",1)("max",19)("step",.1),m(4),F(" +",r.sensitivityValue,"ml "),m(4),F(" -",r.sensitivityValue,"ml "),m(),y("waterEntries",r.waterIntakes)("waterGoal",r.dailyGoal)("selectedDate",r.selectedDate))},dependencies:[he,Te,Ml,Me,je,L,rf],encapsulation:2})};var uf=class n{label;current;goal;unit="";decimalDigits="1.1-1";color="success";successColor="bg-success";dangerColor="bg-danger";get percentage(){return Math.min(this.current/this.goal*100,100)}get barClass(){return`bg-${this.color||"success"}`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=R({type:n,selectors:[["app-progress-bar-card"]],inputs:{label:"label",current:"current",goal:"goal",unit:"unit",decimalDigits:"decimalDigits",color:"color",successColor:"successColor",dangerColor:"dangerColor"},decls:9,vars:11,consts:[[1,"mb-2"],[1,"d-flex","justify-content-between"],[1,"me-1"],[1,"progress",2,"height","15px"],["role","progressbar",1,"progress-bar"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"strong"),p(3),u(),d(4,"small",2),p(5),Y(6,"number"),u()(),d(7,"div",3),I(8,"div",4),u()()),e&2&&(m(3),ne(r.label),m(2),ur(" ",J(6,8,r.current,r.decimalDigits)," / ",r.goal,"",r.unit," "),m(3),Tu(r.barClass),ns("width",r.percentage,"%"))},dependencies:[L,ln,he],encapsulation:2})};var O2=["modalFooter"],P2=["*",[["","modalFooter",""]]],L2=["*","[modalFooter]"];function V2(n,t){n&1&&I(0,"div",10)}var Un=class n{modalId="";title="";submit=new H;isVisible=!1;customFooter;hasCustomFooter=!1;ngAfterContentInit(){this.hasCustomFooter=!!this.customFooter}ngAfterViewInit(){}open(){this.isVisible=!0}close(){this.isVisible=!1}onSubmit(){this.submit.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=R({type:n,selectors:[["app-modal"]],contentQueries:function(e,r,i){if(e&1&&wt(i,O2,5),e&2){let o;le(o=ce())&&(r.customFooter=o.first)}},inputs:{modalId:"modalId",title:"title"},outputs:{submit:"submit"},ngContentSelectors:L2,decls:13,vars:4,consts:[["modalElement",""],["class","modal-backdrop fade show",4,"ngIf"],["tabindex","-1","aria-hidden","true",1,"modal",3,"ngClass","id"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"modal-backdrop","fade","show"]],template:function(e,r){if(e&1){let i=V();Ea(P2),x(0,V2,1,0,"div",1),d(1,"div",2,0)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),p(7),u(),d(8,"button",7),C("click",function(){return D(i),S(r.close())}),u()(),d(9,"div",8),rs(10),u(),d(11,"div",9),rs(12,1),u()()()()}e&2&&(y("ngIf",r.isVisible),m(),y("ngClass",r.isVisible?"show d-block":"fade")("id",r.modalId),m(6),ne(r.title))},dependencies:[L,Ct,W],encapsulation:2})};function j2(n,t){if(n&1&&(d(0,"span"),p(1),Y(2,"number"),u()),n&2){let e=w(2);m(),F(" (",J(2,1,e.caloriePercentage,"1.0-0"),"%) ")}}function B2(n,t){if(n&1&&(d(0,"div",3),p(1),Y(2,"number"),u()),n&2){let e=w(2);m(),F("",J(2,1,e.data.fiber||0,"1.1-1"),"g F")}}function U2(n,t){if(n&1&&(d(0,"div",1)(1,"div"),p(2),Y(3,"number"),x(4,j2,3,4,"span",2),u(),d(5,"div",3),p(6),Y(7,"number"),u(),d(8,"div",3),p(9),Y(10,"number"),u(),d(11,"div",3),p(12),Y(13,"number"),u(),x(14,B2,3,4,"div",4),u()),n&2){let e=w();m(2),F(" ",J(3,6,e.data.calories,"1.0-0")," kcal "),m(2),y("ngIf",e.caloriePercentage!==null),m(2),F("",J(7,9,e.data.protein,"1.1-1"),"g P"),m(3),F("",J(10,12,e.data.carbs,"1.1-1"),"g C"),m(3),F("",J(13,15,e.data.fat,"1.1-1"),"g G"),m(2),y("ngIf",e.showFibers)}}var _r=class n{data;showFibers=!1;calorieGoal;get caloriePercentage(){return!this.calorieGoal||this.calorieGoal===0?null:this.data.calories/this.calorieGoal*100}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=R({type:n,selectors:[["macros-display"]],inputs:{data:"data",showFibers:"showFibers",calorieGoal:"calorieGoal"},decls:1,vars:1,consts:[["style","font-size: x-small; width: fit-content;","class","d-flex bg-secondary text-white rounded-pill px-2 gap-1 fw-bold align-items-center",4,"ngIf"],[1,"d-flex","bg-secondary","text-white","rounded-pill","px-2","gap-1","fw-bold","align-items-center",2,"font-size","x-small","width","fit-content"],[4,"ngIf"],[1,"border-start","border-white","ps-1"],["class","border-start border-white ps-1",4,"ngIf"]],template:function(e,r){e&1&&x(0,U2,15,18,"div",0),e&2&&y("ngIf",r.data)},dependencies:[L,W,ln],encapsulation:2})};var ut=class n{constructor(){}sumNutrition(t){return t.reduce((e,r)=>{if(r.food){let i=r.quantity/100;e.calories+=r.food.calories*i,e.protein+=r.food.protein*i,e.carbs+=r.food.carbs*i,e.fat+=r.food.fat*i,e.fiber+=r.food.fibers*i}return e},{calories:0,protein:0,carbs:0,fat:0,fiber:0})}sumMeal(t){return this.sumNutrition(t.foods)}sumMeals(t){return t.reduce((e,r)=>{let i=this.sumMeal(r);return e.calories+=i.calories,e.protein+=i.protein,e.carbs+=i.carbs,e.fat+=i.fat,e.fiber+=i.fiber,e},{calories:0,protein:0,carbs:0,fat:0,fiber:0})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var xi=class n{normalize(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}searchByKeys(t,e,r){if(!e||e.length<3)return[];let i=this.normalize(e);return t.filter(o=>r.some(s=>{let a=String(o[s]??"");return this.normalize(a).includes(i)}))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var $2=["editMealModal"],H2=["editFoodModal"],W2=["addFoodModal"];function z2(n,t){n&1&&I(0,"i",38)}function q2(n,t){n&1&&I(0,"i",39)}function G2(n,t){if(n&1){let e=V();d(0,"div")(1,"button",35),C("click",function(){D(e);let i=w();return S(i.addMealToExecution.emit(i.meal))}),x(2,z2,1,0,"i",36)(3,q2,1,0,"i",37),u()()}if(n&2){let e=w();m(2),y("ngIf",!e.mealRegistered),m(),y("ngIf",e.mealRegistered)}}function Q2(n,t){n&1&&(at(0),d(1,"div",40),I(2,"i",41),p(3," Adicione alimentos nessa refei\xE7\xE3o. "),u(),lt())}function K2(n,t){if(n&1){let e=V();d(0,"li")(1,"div",42)(2,"span",43),C("click",function(){let i=D(e).index,o=w();return S(o.openEditFoodModal(i))}),p(3),u(),d(4,"span",44),C("click",function(){let i=D(e).index,o=w();return S(o.openEditFoodModal(i))}),p(5),u()()()}if(n&2){let e,r,i=t.$implicit;m(3),ur(" ",i.quantity," ",i.unit," de ",(e=i==null||i.food==null?null:i.food.description)!==null&&e!==void 0?e:""," "),m(2),ur(" ",i.quantity," ",i.unit," de ",(r=i==null||i.food==null?null:i.food.description)!==null&&r!==void 0?r:""," ")}}function Z2(n,t){if(n&1){let e=V();d(0,"button",47),C("click",function(){let i=D(e).$implicit,o=w(2);return S(o.selectFood(i))}),p(1),u()}if(n&2){let e=t.$implicit;m(),F(" ",e.description," ")}}function Y2(n,t){if(n&1&&(d(0,"div",45),x(1,Z2,2,1,"button",46),u()),n&2){let e=w();m(),y("ngForOf",e.filteredFoods)}}function J2(n,t){if(n&1){let e=V();d(0,"form")(1,"div",15)(2,"div",48)(3,"label",49),p(4,"Quantidade:"),u(),d(5,"input",50),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.editingFood.quantity,i)||(o.editingFood.quantity=i),S(i)}),u()(),d(6,"div",48)(7,"label",51),p(8,"Unidade:"),u(),d(9,"select",52),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.editingFood.unit,i)||(o.editingFood.unit=i),S(i)}),d(10,"option",25),p(11,"g"),u(),d(12,"option",26),p(13,"ml"),u()()()()()}if(n&2){let e=w();m(5),K("ngModel",e.editingFood.quantity),m(4),K("ngModel",e.editingFood.unit)}}function X2(n,t){if(n&1){let e=V();d(0,"form")(1,"div",53)(2,"label",54),p(3,"Nome da Refei\xE7\xE3o"),u(),d(4,"input",55),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.editingMeal.name,i)||(o.editingMeal.name=i),S(i)}),u()(),d(5,"div",53)(6,"label",56),p(7,"Hor\xE1rio"),u(),d(8,"input",57),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.editingMeal.time,i)||(o.editingMeal.time=i),S(i)}),u()()()}if(n&2){let e=w();m(4),K("ngModel",e.editingMeal.name),m(4),K("ngModel",e.editingMeal.time)}}var br=class n{constructor(t,e){this.macrosService=t;this.search=e}editMealModal;editingMeal=null;selectedMealIndexForEdit=-1;editFoodModal;editingFood={quantity:0,unit:""};editingMealIndex=-1;editingFoodIndex=-1;addFoodModal;newFoodDescription="";newFoodQuantity=null;newFoodUnit="g";foodSearchText="";filteredFoods=[];selectedFood=null;meal;mealIndex;showRecordBtn=!1;mealRegistered=!1;profileData;foodList;editMeal=new H;addMealToExecution=new H;editFood=new H;deleteFood=new H;addFood=new H;deleteMeal=new H;mealChanged=new H;calculateMealNutrition(t){return this.macrosService.sumMeal(t)}openAddFoodModal(){console.log(this.meal),this.addFoodModal.open()}openEditMealModal(){this.editingMeal=M({},this.meal),this.editMealModal.open()}saveEditedMeal(){this.editMealModal.close(),this.meal=M({},this.editingMeal),this.editingMeal=null,this.mealChanged.emit(this.meal)}deleteEditingFood(){this.meal.foods.splice(this.editingFoodIndex,1),this.editFoodModal.close(),this.mealChanged.emit(this.meal)}saveEditedFood(){this.meal.foods[this.editingFoodIndex]=M({},this.editingFood),this.editFoodModal.close(),this.mealChanged.emit(this.meal)}openEditFoodModal(t){this.editingFoodIndex=t;let e=M({},this.meal.foods[t]);this.editingFood=e,this.editFoodModal.open()}selectFood(t){this.selectedFood=t,this.foodSearchText=t.description,this.filteredFoods=[]}onFoodSearchChange(){let t=this.foodSearchText.toLowerCase();this.filteredFoods=this.search.searchByKeys(this.foodList,t,["description"])}addFoodToMeal(){if(this.selectedFood&&this.newFoodQuantity){let t=new Di(this.newFoodQuantity,this.newFoodUnit,this.selectedFood);this.meal.foods.push(t),this.selectedFood=null,this.foodSearchText="",this.newFoodQuantity=null,this.newFoodUnit="g",this.addFoodModal.close(),this.mealChanged.emit(this.meal)}}static \u0275fac=function(e){return new(e||n)(b(ut),b(xi))};static \u0275cmp=R({type:n,selectors:[["meal-edit"]],viewQuery:function(e,r){if(e&1&&(Be($2,5),Be(H2,5),Be(W2,5)),e&2){let i;le(i=ce())&&(r.editMealModal=i.first),le(i=ce())&&(r.editFoodModal=i.first),le(i=ce())&&(r.addFoodModal=i.first)}},inputs:{meal:"meal",mealIndex:"mealIndex",showRecordBtn:"showRecordBtn",mealRegistered:"mealRegistered",profileData:"profileData",foodList:"foodList"},outputs:{editMeal:"editMeal",addMealToExecution:"addMealToExecution",editFood:"editFood",deleteFood:"deleteFood",addFood:"addFood",deleteMeal:"deleteMeal",mealChanged:"mealChanged"},features:[me([ut])],decls:71,vars:14,consts:[["addFoodModal",""],["modalFooter",""],["editFoodModal",""],["editMealModal",""],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","mb-2"],[2,"cursor","pointer",3,"click"],[1,"mb-1"],[3,"data","calorieGoal","showFibers"],[4,"ngIf"],[1,"list-unstyled","ms-1"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-outline-primary","btn-sm","mt-2",3,"click"],[1,"fas","fa-plus","me-1"],["modalId","addFoodModal","title","Adicionar alimento"],[1,"row","g-3"],[1,"col-md-4","position-relative"],["for","food-description",1,"form-label"],["id","food-description","placeholder","Pesquisar ...","type","text","name","foodSearchText","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group position-absolute z-3 w-100",4,"ngIf"],[1,"col-md-4"],["for","food-quantity",1,"form-label"],["id","food-quantity","type","number","name","quantity","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","food-unit",1,"form-label"],["id","food-unit","name","unit","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","g"],["value","ml"],["modalFooter","",1,"d-flex","justify-content-end","w-100"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],["modalId","editFoodModal","title","Editar alimento"],["modalFooter","",1,"d-flex","justify-content-between","w-100"],[1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-trash","me-1"],["modalId","editMealModal","title","Editar Refei\xE7\xE3o"],["type","button","title","Registrar Refei\xE7\xE3o",1,"btn","p-0","d-flex","align-items-center","justify-content-center",2,"width","22px","height","22px",3,"click"],["class","fas fa-bars text-success",4,"ngIf"],["class","fas fa-check text-success",4,"ngIf"],[1,"fas","fa-bars","text-success"],[1,"fas","fa-check","text-success"],["role","alert",1,"alert","alert-warning","d-flex","align-items-center"],[1,"fas","fa-dumbbell","me-2"],[1,"d-flex","justify-content-between","align-items-center","my-1"],[1,"d-block","d-sm-none","fw-medium",2,"font-size","0.8rem",3,"click"],[1,"d-none","d-sm-block",2,"cursor","pointer",3,"click"],[1,"list-group","position-absolute","z-3","w-100"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"col-md-6"],["for","edit-quantity",1,"form-label"],["id","edit-quantity","type","number","name","editQuantity","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-unit",1,"form-label"],["id","edit-unit","name","editUnit","required","",1,"form-select",3,"ngModelChange","ngModel"],[1,"mb-3"],["for","meal-name",1,"form-label"],["id","meal-name","type","text","name","mealName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","meal-time",1,"form-label"],["id","meal-time","type","time","name","mealTime","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,r){if(e&1){let i=V();d(0,"div",4)(1,"div",5),C("click",function(){return D(i),S(r.openEditMealModal())}),d(2,"h5",6)(3,"strong"),p(4),u(),p(5),u(),I(6,"macros-display",7),u(),x(7,G2,4,2,"div",8),u(),x(8,Q2,4,0,"ng-container",8),d(9,"ul",9),x(10,K2,6,6,"li",10),u(),d(11,"div",11)(12,"button",12),C("click",function(){return D(i),S(r.openAddFoodModal())}),I(13,"i",13),p(14," Adicionar alimento "),u()(),d(15,"app-modal",14,0)(17,"form")(18,"div",15)(19,"div",16)(20,"label",17),p(21,"Nome:"),u(),d(22,"input",18),Z("ngModelChange",function(s){return D(i),ee(r.foodSearchText,s)||(r.foodSearchText=s),S(s)}),C("input",function(){return D(i),S(r.onFoodSearchChange())}),u(),x(23,Y2,2,1,"div",19),u(),d(24,"div",20)(25,"label",21),p(26,"Quantidade:"),u(),d(27,"input",22),Z("ngModelChange",function(s){return D(i),ee(r.newFoodQuantity,s)||(r.newFoodQuantity=s),S(s)}),u()(),d(28,"div",20)(29,"label",23),p(30,"Unidade:"),u(),d(31,"select",24),Z("ngModelChange",function(s){return D(i),ee(r.newFoodUnit,s)||(r.newFoodUnit=s),S(s)}),d(32,"option",25),p(33,"g"),u(),d(34,"option",26),p(35,"ml"),u()()()()(),d(36,"div",27,1)(38,"div")(39,"button",28),C("click",function(){return D(i),S(r.addFoodToMeal())}),p(40,"Salvar"),u(),d(41,"button",29),C("click",function(){D(i);let s=Fe(16);return S(s.close())}),p(42,"Cancelar"),u()()()(),d(43,"app-modal",30,2),x(45,J2,14,2,"form",8),d(46,"div",31,1)(48,"div")(49,"button",32),C("click",function(){return D(i),S(r.deleteEditingFood())}),I(50,"i",33),p(51,"Excluir"),u()(),d(52,"div")(53,"button",28),C("click",function(){return D(i),S(r.saveEditedFood())}),p(54,"Salvar"),u(),d(55,"button",29),C("click",function(){D(i);let s=Fe(44);return S(s.close())}),p(56,"Cancelar"),u()()()(),d(57,"app-modal",34,3),x(59,X2,9,2,"form",8),d(60,"div",31,1)(62,"div")(63,"button",32),C("click",function(){return D(i),S(r.deleteMeal.emit(r.mealIndex))}),I(64,"i",33),p(65,"Excluir"),u()(),d(66,"div")(67,"button",28),C("click",function(){return D(i),S(r.saveEditedMeal())}),p(68,"Salvar"),u(),d(69,"button",29),C("click",function(){D(i);let s=Fe(58);return S(s.close())}),p(70,"Cancelar"),u()()()()}e&2&&(m(4),ne(r.meal.name),m(),F(" \xE0s ",r.meal.time," "),m(),y("data",r.calculateMealNutrition(r.meal))("calorieGoal",r.profileData==null?null:r.profileData.calorieGoal)("showFibers",!0),m(),y("ngIf",r.showRecordBtn),m(),y("ngIf",r.meal.foods.length===0),m(2),y("ngForOf",r.meal.foods),m(12),K("ngModel",r.foodSearchText),m(),y("ngIf",r.filteredFoods.length>0),m(4),K("ngModel",r.newFoodQuantity),m(4),K("ngModel",r.newFoodUnit),m(14),y("ngIf",r.editingFood),m(14),y("ngIf",r.editingMeal))},dependencies:[L,ve,W,he,Ln,Vn,jn,Te,kt,dn,Me,Pn,Qr,je,go,_r,Un],encapsulation:2})};var js=class n{tolerance=.05;compute(t,e,r,i,o,s){let a=[],l={Calories:"secondary",Protein:"secondary",Carb:"secondary",Fat:"secondary",Fiber:"secondary"},c=r*(1-this.tolerance),f=r*(1+this.tolerance),h=i>=c&&i<=f,v=t.Calories,g=e.Calories,E=v*(1-this.tolerance),T=v*(1+this.tolerance);g<E?(l.Calories="warning",a.push("Calorias abaixo da meta")):g>T?(l.Calories="danger",a.push("Calorias acima da meta")):l.Calories="success";let A=o*s;e.Protein<A?(l.Protein="warning",a.push("Prote\xEDna abaixo do recomendado")):h?l.Protein="success":(l.Protein="secondary",a.push("Ajuste as calorias antes de focar na prote\xEDna")),["Fat","Carb"].forEach(te=>{let De=t[te],qe=e[te],Ge=De*(1-this.tolerance),Kr=De*(1+this.tolerance);h?l[te]="success":qe<Ge?(l[te]="warning",a.push(`${te==="Fat"?"Gordura":"Carboidrato"} abaixo da meta`),a.push("Ajuste as calorias antes")):qe>Kr?(l[te]="danger",a.push(`${te==="Fat"?"Gordura":"Carboidrato"} acima da meta`),a.push("Ajuste as calorias antes")):(l[te]="secondary",a.push("Ajuste as calorias antes de focar em gordura e carboidrato"))});let de=Array.from(new Set(a));return{colors:l,alerts:de}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var tP=["copyPlanModal"],nP=n=>({active:n});function rP(n,t){if(n&1){let e=V();d(0,"li",22),C("click",function(){let i=D(e).$implicit,o=w();return S(o.setDateByOffset(i))}),d(1,"a",23),p(2),u()()}if(n&2){let e=t.$implicit,r=w();m(),y("ngClass",Kt(2,nP,r.getDayNameFromDate(r.getDateByOffset(e))===r.getDayNameFromDate(r.selectedDate))),m(),F(" ",r.getDayName(e)," ")}}function iP(n,t){if(n&1){let e=V();d(0,"li")(1,"a",24),C("click",function(){let i=D(e).$implicit,o=w();return S(o.createMeal(i))}),p(2),u()()}if(n&2){let e=t.$implicit;m(2),F("Criar ",e.name,"")}}function oP(n,t){if(n&1&&(d(0,"div"),p(1),u()),n&2){let e=t.$implicit;m(),ne(e)}}function sP(n,t){if(n&1&&(d(0,"div")(1,"div",36),x(2,oP,2,1,"div",9),u()()),n&2){let e=w(2).ngIf;m(2),y("ngForOf",e.alerts)}}function aP(n,t){n&1&&(d(0,"div")(1,"div",37),p(2," Seu plano est\xE1 adequado. "),u()())}function lP(n,t){if(n&1&&(at(0,35),x(1,sP,3,1,"div",11)(2,aP,3,0,"div",11),lt()),n&2){let e=w().ngIf;m(),y("ngIf",e.alerts.length>0),m(),y("ngIf",e.alerts.length==0)}}function cP(n,t){if(n&1&&(at(0),d(1,"div",28)(2,"div",29),I(3,"app-progress-bar-card",30),u(),d(4,"div",29),I(5,"app-progress-bar-card",31),u(),d(6,"div",29),I(7,"app-progress-bar-card",32),u(),d(8,"div",29),I(9,"app-progress-bar-card",33),u()(),x(10,lP,3,2,"ng-container",34),lt()),n&2){let e=t.ngIf,r=w(2).ngIf,i=w(2);m(3),y("color",e.colors[i.Macros.Calories])("current",r.calories)("goal",i.profileData.calorieGoal),m(2),y("color",e.colors[i.Macros.Protein])("current",r.protein)("goal",i.profileData.proteinGoal),m(2),y("color",e.colors[i.Macros.Carb])("current",r.carbs)("goal",i.profileData.carbGoal),m(2),y("color",e.colors[i.Macros.Fat])("current",r.fat)("goal",i.profileData.fatGoal),m(),y("ngIf",i.showAlerts)}}function uP(n,t){if(n&1){let e=V();d(0,"div",27),C("click",function(){D(e);let i=w(3);return S(i.showAlerts=!i.showAlerts)}),x(1,cP,11,13,"ng-container",11),u()}if(n&2){let e=w(3);m(),y("ngIf",e.getNutritionResult())}}function dP(n,t){if(n&1&&(at(0),x(1,uP,2,1,"div",26),lt()),n&2){let e=w(2);m(),y("ngIf",e.profileData)}}function fP(n,t){n&1&&(d(0,"div",38),p(1," Voc\xEA n\xE3o tem refei\xE7\xF5es cadastradas para hoje. "),u())}function pP(n,t){if(n&1&&(at(0),x(1,dP,2,1,"ng-container",11)(2,fP,2,0,"div",25),lt()),n&2){let e=t.ngIf,r=w();m(),y("ngIf",r.calculateDayNutrition(e)),m(),y("ngIf",e.meals.length==0)}}function hP(n,t){if(n&1){let e=V();d(0,"li",39)(1,"meal-edit",40),C("addMealToExecution",function(){let i=D(e).$implicit,o=w();return S(o.copyMealToRecord(i))})("deleteMeal",function(){let i=D(e).index,o=w();return S(o.deleteMeal(i))})("mealChanged",function(i){let o=D(e).index,s=w();return S(s.mealChanged(o,i))}),u()()}if(n&2){let e=t.$implicit,r=t.index,i=w();m(),y("meal",e)("mealIndex",r)("profileData",i.profileData)("foodList",i.importedFoods)("showRecordBtn",!i.isFutureDate())("mealRegistered",i.isMealMarkedOnRecord(e))}}function mP(n,t){if(n&1){let e=V();d(0,"div",41)(1,"div",42)(2,"input",43),Z("ngModelChange",function(i){let o=D(e).$implicit,s=w();return ee(s.diasSelecionados[s.getDayNameFromDate(s.getDateByOffset(o))],i)||(s.diasSelecionados[s.getDayNameFromDate(s.getDateByOffset(o))]=i),S(i)}),u(),d(3,"label",44),p(4),u()()()}if(n&2){let e=t.$implicit,r=w();m(2),y("id",r.getDayNameFromDate(r.getDateByOffset(e))),K("ngModel",r.diasSelecionados[r.getDayNameFromDate(r.getDateByOffset(e))]),m(),y("for",r.getDayNameFromDate(r.getDateByOffset(e))),m(),F(" ",r.getDayName(e)," ")}}var df=class n{constructor(t,e,r,i,o){this.router=t;this.dbservice=e;this.nutritionCalculator=r;this.barService=i;this.eStorage=o}copyModal;Math=Math;Macros=sf;showAlerts=!1;importedFoods=[];profileData=null;selectedDate=new Date;selectedDateRecordPlan;abrirCopia=!1;diasSelecionados={};dayOffsets=[-1,0,1,2,3,4,5];predefinedMeals=[new Sn("Caf\xE9","08:00"),new Sn("Lanche Manh\xE3","10:00"),new Sn("Almo\xE7o","12:00"),new Sn("Lanche Tarde","15:00"),new Sn("Janta","18:00"),new Sn("Ceia","21:00")];mealPlans=[];ngOnInit(){return _(this,null,function*(){this.mealPlans=this.eStorage.getPlans()??[],this.profileData=this.eStorage.getProfile()??null,this.importedFoods=(yield this.dbservice.getAll("foods"))||[],this.updateRecord()})}getDayName(t,e="short"){let r=new Date;r.setDate(r.getDate()+t);let i=new Intl.DateTimeFormat("pt-BR",{weekday:e==="short"?"short":"long"}).format(r);return e=="short"?(i.charAt(0).toUpperCase()+i.slice(1)).replace(".",""):i}ngOnDestroy(){this.saveMealPlans()}getDayNameFromDate(t,e="en-US"){return new Intl.DateTimeFormat(e,{weekday:"long"}).format(t).replace(/^\w/,r=>r.toUpperCase())}getDateByOffset(t){let e=new Date;return e.setDate(e.getDate()+t),e}updateRecord(){this.selectedDateRecordPlan=this.eStorage.getRecord(this.selectedDate.toLocaleDateString("en-CA"))?.executed}setDateByOffset(t){this.selectedDate=this.getDateByOffset(t),this.updateRecord()}isMealMarkedOnRecord(t){if(!this.selectedDateRecordPlan)return!1;let e=this.selectedDateRecordPlan.meals.some(r=>r.name===t.name);return console.log(t.name,e),e}isFutureDate(){return new Date(this.selectedDate).setHours(0,0,0,0)>new Date().setHours(0,0,0,0)}getSelectedDayPlan(){let t=this.getDayNameFromDate(this.selectedDate,"en-US"),e=this.mealPlans.find(r=>r.day===t);return e||(e=new Si(t),this.mealPlans.push(e)),e}createMeal(t){let e=this.getSelectedDayPlan(),r=e.meals.map(o=>o.name),i=this.generateUniqueMealName(t.name,r);e.meals.push(new Sn(i,t.time)),e.meals.sort((o,s)=>o.time.localeCompare(s.time)),this.saveMealPlans()}generateUniqueMealName(t,e){t=t.trim();let r=new RegExp(`^${t}(?: (\\d+))?$`,"i"),i=e.map(s=>{let a=s.match(r);return a?a[1]?parseInt(a[1],10):1:null}).filter(s=>s!==null),o=i.length>0?Math.max(...i)+1:1;return o===1?t:`${t} ${o}`}deleteMeal(t){this.getSelectedDayPlan().meals.splice(t,1),this.saveMealPlans()}mealChanged(t,e){let r=this.getSelectedDayPlan();r.meals[t]=M({},e),r.meals.sort((i,o)=>i.time.localeCompare(o.time))}copiarPlanoParaDias(){let t=this.getSelectedDayPlan();if(t){for(let e of this.dayOffsets){let r=this.getDateByOffset(e),i=this.getDayNameFromDate(r,"en-US");if(this.diasSelecionados[i]&&i!==t.day){let o=this.mealPlans.findIndex(a=>a.day===i),s={day:i,meals:structuredClone(t.meals)};o!==-1?this.mealPlans[o]=s:this.mealPlans.push(s)}}this.copyModal.close(),this.diasSelecionados={}}}calculateMealNutrition(t){return this.nutritionCalculator.sumMeal(t)}calculateDayNutrition(t){return this.nutritionCalculator.sumMeals(t.meals)}copyMealToRecord(t){let e=this.getDayNameFromDate(this.selectedDate,"en-US");this.router.navigate(["/record-meal-editor"],{state:{meal:structuredClone(t),date:this.selectedDate.toLocaleDateString("en-CA")}})}saveMealPlans(){this.eStorage.setPlans(this.mealPlans)}getNutritionResult(){let t=this.calculateDayNutrition(this.getSelectedDayPlan()),e={Calories:this.profileData?.calorieGoal||0,Carb:this.profileData?.carbGoal||0,Protein:this.profileData?.proteinGoal||0,Fat:this.profileData?.fatGoal||0,Fiber:0},r={Calories:t.calories,Carb:t.carbs,Protein:t.protein,Fat:t.fat,Fiber:0};return this.barService.compute(e,r,this.profileData?.calorieGoal||0,t.calories,1.5,this.profileData?.peso||0)}static \u0275fac=function(e){return new(e||n)(b(Ie),b($e),b(ut),b(js),b(Ae))};static \u0275cmp=R({type:n,selectors:[["app-meal-plan"]],viewQuery:function(e,r){if(e&1&&Be(tP,5),e&2){let i;le(i=ce())&&(r.copyModal=i.first)}},features:[me([Ce,ut,js])],decls:29,vars:5,consts:[["copyPlanModal",""],[1,"container","mt-2"],[1,"nav","nav-tabs"],["class","nav-item flex-fill text-center mx-0 px-0",3,"click",4,"ngFor","ngForOf"],[1,"row","g-2","my-2"],[1,"col"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-success","w-100","dropdown-toggle"],[1,"dropdown-menu","w-100"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-primary","w-100",3,"click"],[4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["title","Copiar"],[1,"row"],[1,"col-12"],[1,"form-label"],["class","col-3",4,"ngFor","ngForOf"],["modalFooter","",1,"d-flex","justify-content-end"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"nav-item","flex-fill","text-center","mx-0","px-0",3,"click"],[1,"nav-link","mx-0","px-0",3,"ngClass"],[1,"dropdown-item",3,"click"],["class","alert alert-warning",4,"ngIf"],["class","mb-2",3,"click",4,"ngIf"],[1,"mb-2",3,"click"],[1,"row","g-2"],[1,"col-6"],["label","Calorias","unit","kcal",3,"color","current","goal"],["label","Prote\xEDna","unit","g",3,"color","current","goal"],["label","Carboidratos","unit","g",3,"color","current","goal"],["label","Gorduras","unit","g",3,"color","current","goal"],["class","alerts",4,"ngIf"],[1,"alerts"],[1,"alert","alert-warning","p-2"],[1,"alert","alert-success","p-2"],[1,"alert","alert-warning"],[1,"list-group-item"],[3,"addMealToExecution","deleteMeal","mealChanged","meal","mealIndex","profileData","foodList","showRecordBtn","mealRegistered"],[1,"col-3"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModelChange","id","ngModel"],[1,"form-check-label",3,"for"]],template:function(e,r){if(e&1){let i=V();d(0,"div",1)(1,"ul",2),x(2,rP,3,4,"li",3),u(),d(3,"div",4)(4,"div",5)(5,"div",6)(6,"button",7),p(7," Criar Refei\xE7\xE3o "),u(),d(8,"ul",8),x(9,iP,3,1,"li",9),u()()(),d(10,"div",5)(11,"button",10),C("click",function(){return D(i),S(r.copyModal.open())}),p(12,"Copiar para ..."),u()()(),x(13,pP,3,2,"ng-container",11),d(14,"ul",12),x(15,hP,2,6,"li",13),u()(),d(16,"app-modal",14,0)(18,"div",15)(19,"div",16)(20,"label",17),p(21,"Copiar planejamento para:"),u()()(),d(22,"div",15),x(23,mP,5,4,"div",18),u(),d(24,"div",19)(25,"button",20),C("click",function(){return D(i),S(r.copiarPlanoParaDias())}),p(26,"Salvar"),u(),d(27,"button",21),C("click",function(){return D(i),S(r.copyModal.close())}),p(28,"Cancelar"),u()()()}e&2&&(m(2),y("ngForOf",r.dayOffsets),m(7),y("ngForOf",r.predefinedMeals),m(4),y("ngIf",r.getSelectedDayPlan()),m(2),y("ngForOf",r.getSelectedDayPlan().meals),m(8),y("ngForOf",r.dayOffsets))},dependencies:[L,Ct,ve,W,he,V0,Me,je,Dt,Ei,uf,Un,br],encapsulation:2})};function gP(n,t){n&1&&(at(0),d(1,"div",4)(2,"div"),I(3,"i",5),p(4," Adcione alimentos no seu plano alimentar para que possamos gerar sua lista de compras semanal "),u()(),lt())}function vP(n,t){if(n&1&&(d(0,"li",6)(1,"div",7)(2,"div",8),I(3,"input",9),u(),d(4,"div",10)(5,"span"),p(6),u(),d(7,"span",11)(8,"strong"),p(9),u()()()()()),n&2){let e=t.$implicit,r=w();m(6),ne(e.description),m(3),ne(r.formatQuantity(e.totalQuantity,e.unit))}}var ff=class n{constructor(t){this.eStorage=t}shoppingList=[];ngOnInit(){this.generateShoppingList()}formatQuantity(t,e){return(e==="g"||e==="ml")&&t>=1e3?`${(t/1e3).toFixed(2).replace(".",",")}${e==="g"?"kg":"L"}`:`${t}${e}`}generateShoppingList(){let t=this.eStorage.getPlans()??[],e=new Map;t.forEach(r=>{r.meals.forEach(i=>{i.foods.forEach(o=>{let s=o.food;if(!s)return;let a=s.baseQuantity??1,l=s.baseUnit??"",c=o.quantity,f=`${s.id}-${l}`;e.has(f)?e.get(f).totalQuantity+=c:e.set(f,{description:s.description,totalQuantity:c,unit:l})})})}),this.shoppingList=Array.from(e.values())}static \u0275fac=function(e){return new(e||n)(b(Ae))};static \u0275cmp=R({type:n,selectors:[["app-shopping-list"]],features:[me([Ce])],decls:4,vars:2,consts:[[1,"container","mt-3"],[4,"ngIf"],[1,"list-group","mb-4"],["class","list-group-item ",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-warning","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-dumbbell","me-2"],[1,"list-group-item"],[1,"d-flex","flex-nowrap"],[1,"me-3","align-content-around"],["type","checkbox",1,"form-check-input"],[1,"d-flex","flex-nowrap","justify-content-between","w-100"],[1,"ps-3","align-content-around","text-nowrap"]],template:function(e,r){e&1&&(d(0,"div",0),x(1,gP,5,0,"ng-container",1),d(2,"ul",2),x(3,vP,10,2,"li",3),u()()),e&2&&(m(),y("ngIf",r.shoppingList.length==0),m(2),y("ngForOf",r.shoppingList))},dependencies:[L,ve,W,he,Dt],encapsulation:2})};var jt=class n{supabase;constructor(){this.supabase=N(Dn)}signUp(t,e){return _(this,null,function*(){let{data:r,error:i}=yield this.supabase.auth.signUp({email:t,password:e});if(i)throw i;return console.log(".3"),localStorage.setItem("auth",JSON.stringify(r.user)),r})}signIn(t,e){return _(this,null,function*(){let{data:r,error:i}=yield this.supabase.auth.signInWithPassword({email:t,password:e});if(i)throw i;return console.log(".4"),localStorage.setItem("auth",JSON.stringify(r.user)),r})}signOut(){return _(this,null,function*(){let{error:t}=yield this.supabase.auth.signOut();if(console.log(".5"),localStorage.setItem("auth",JSON.stringify(null)),t)throw t})}getSession(){return console.log(".6"),this.supabase.auth.getSession()}getCurrentUser(){console.log(".7");let t=localStorage.getItem("auth");return JSON.parse(t??"null")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Us=class n{active=!1;constructor(){}toggle(){this.active=!this.active}isActive(){return this.active}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function yP(n,t){if(n&1&&(d(0,"div",4),I(1,"i",5),d(2,"div",6)(3,"h6",7),p(4),u(),d(5,"small",8),p(6),u()()()),n&2){let e=w().$implicit;y("routerLink",e.path),m(),y("ngClass",e.icon),m(3),ne(e.title),m(2),ne(e.description)}}function _P(n,t){if(n&1&&(at(0),x(1,yP,7,4,"div",3),lt()),n&2){let e=t.$implicit,r=w();m(),y("ngIf",!e.adminOnly||r.admin.isActive())}}var pf=class n{constructor(t,e){this.router=t;this.admin=e}routePaths=[{path:"profile",icon:"fa-user"},{path:"meal-plan",icon:"fa-utensils"},{path:"shopping-list",icon:"fa-shopping-cart"},{path:"water-intake",icon:"fa-tint"},{path:"exercices",icon:"fa-dumbbell"},{path:"record-viewer",icon:"fa-database"},{path:"goals",icon:"fa-compass"},{path:"tools",icon:"fa-tools",adminOnly:!0}];navigationItems=[];ngOnInit(){let t=this.router.config;this.navigationItems=this.routePaths.map(e=>{let i=t.find(o=>o.path=="")?.children?.find(o=>o.path===e.path);return{path:`/${e.path}`,icon:e.icon,title:i?.data?.title??e.path,description:i?.data?.description??"",adminOnly:e?.adminOnly||!1}})}static \u0275fac=function(e){return new(e||n)(b(Ie),b(Us))};static \u0275cmp=R({type:n,selectors:[["app-home"]],features:[me([jt])],decls:3,vars:1,consts:[[1,"flex-grow-1","overflow-auto","p-3"],[1,"list-group","d-grid",2,"grid-auto-rows","1fr"],[4,"ngFor","ngForOf"],["class","list-group-item d-flex align-items-center mb-2 shadow-sm border-1 rounded-3 border-light-subtle","style","cursor: pointer;",3,"routerLink",4,"ngIf"],[1,"list-group-item","d-flex","align-items-center","mb-2","shadow-sm","border-1","rounded-3","border-light-subtle",2,"cursor","pointer",3,"routerLink"],[1,"fas","me-3","text-success",3,"ngClass"],[1,"d-flex","flex-column"],[1,"mb-0","text-primary"],[1,"text-muted"]],template:function(e,r){e&1&&(d(0,"main",0)(1,"div",1),x(2,_P,2,1,"ng-container",2),u()()),e&2&&(m(2),y("ngForOf",r.navigationItems))},dependencies:[Dt,gE,L,Ct,ve,W],encapsulation:2})};var Ft=[];for(let n=0;n<256;++n)Ft.push((n+256).toString(16).slice(1));function bS(n,t=0){return(Ft[n[t+0]]+Ft[n[t+1]]+Ft[n[t+2]]+Ft[n[t+3]]+"-"+Ft[n[t+4]]+Ft[n[t+5]]+"-"+Ft[n[t+6]]+Ft[n[t+7]]+"-"+Ft[n[t+8]]+Ft[n[t+9]]+"-"+Ft[n[t+10]]+Ft[n[t+11]]+Ft[n[t+12]]+Ft[n[t+13]]+Ft[n[t+14]]+Ft[n[t+15]]).toLowerCase()}var K0,bP=new Uint8Array(16);function Z0(){if(!K0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");K0=crypto.getRandomValues.bind(crypto)}return K0(bP)}var wP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Y0={randomUUID:wP};function CP(n,t,e){if(Y0.randomUUID&&!t&&!n)return Y0.randomUUID();n=n||{};let r=n.random??n.rng?.()??Z0();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(e=e||0,e<0||e+16>t.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[e+i]=r[i];return t}return bS(r)}var Nl=CP;var $s=class n{constructor(t){this.http=t}apiUrl="https://world.openfoodfacts.org/cgi/search.pl";searchFood(t,e=1,r=10){let i=new fr().set("search_terms",t).set("search_simple","1").set("action","process").set("json","true").set("page_size",r.toString()).set("page",e.toString()).set("fields","product_name,nutriments,image_front_url,nutrition_grades_tags");return this.http.get(this.apiUrl,{params:i})}static \u0275fac=function(e){return new(e||n)(O(eo))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var DP=(n,t)=>({"btn-success":n,"btn-danger":t}),Ti=class n{food;tolerance=10;isConsistent(){return this.isCaloriesConsistent(this.food)}isCaloriesConsistent(t,e=10){let r=t.protein*4+(t.carbs-t.fiber)*4+t.fat*9+t.fiber*2,i=e;return Math.abs(r-t.calories)/(t.calories||1)*100<=i}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=R({type:n,selectors:[["food-macros-indicator"]],inputs:{food:"food",tolerance:"tolerance"},decls:2,vars:4,consts:[["title","Consist\xEAncia cal\xF3rica",1,"btn","btn-sm",3,"ngClass"],[1,"fas","fa-circle","small"]],template:function(e,r){e&1&&(d(0,"button",0),I(1,"i",1),u()),e&2&&y("ngClass",is(1,DP,r.isConsistent(),!r.isConsistent()))},dependencies:[L,Ct,he],encapsulation:2})};function SP(n,t){n&1&&I(0,"span",12)}function IP(n,t){n&1&&(d(0,"div",13),I(1,"i",14),p(2," Buscando resultados... "),u())}function xP(n,t){if(n&1&&(d(0,"div",15),p(1),u()),n&2){let e=w();m(),ne(e.error)}}function TP(n,t){n&1&&(d(0,"div",16),p(1," Nenhum resultado encontrado. "),u())}function MP(n,t){if(n&1&&I(0,"img",29),n&2){let e=w().$implicit;y("src",e.imageUrl,xm)}}function AP(n,t){n&1&&(d(0,"div",30),p(1," Sem imagem "),u())}function NP(n,t){if(n&1){let e=V();d(0,"div",17)(1,"div",18)(2,"div",19),x(3,MP,1,1,"img",20)(4,AP,2,0,"div",21),u(),d(5,"div",22)(6,"h5",23),p(7),I(8,"food-macros-indicator",24),u(),d(9,"p",25),I(10,"macros-display",26),u(),d(11,"p",27)(12,"small"),p(13),u()(),d(14,"button",28),C("click",function(){let i=D(e).$implicit,o=w();return S(o.importFood(i))}),p(15,"Importar"),u()()()()}if(n&2){let e=t.$implicit,r=w();m(3),y("ngIf",e.imageUrl),m(),y("ngIf",!e.imageUrl),m(3),F(" ",e.description||"Produto sem nome"," "),m(),y("food",r.toNutriments(e)),m(2),y("data",r.calculateMacros(e))("showFibers",!0),m(3),We("Por\xE7\xE3o base: ",e.baseQuantity||"?"," ",e.baseUnit||"-","")}}function kP(n,t){if(n&1){let e=V();d(0,"div",31)(1,"div"),p(2),u(),d(3,"div",32)(4,"button",33),C("click",function(){D(e);let i=w();return S(i.search(i.page-1))}),p(5,"\u2190 Anterior"),u(),d(6,"button",33),C("click",function(){D(e);let i=w();return S(i.search(i.page+1))}),p(7,"Pr\xF3xima \u2192"),u()()()}if(n&2){let e=w();m(2),ur(" P\xE1gina ",e.page," de ",e.totalPages," \u2014 Total de ",e.totalCount," alimentos "),m(2),y("disabled",e.page<=1),m(2),y("disabled",e.page>=e.totalPages)}}var Hs=class n{constructor(t,e,r){this.openFoodFacts=t;this.dbservice=e;this.macrosService=r}query="";loading=!1;error=null;products=[];page=1;pageSize=10;totalCount=0;totalPages=1;search(t=this.page){this.query.trim()&&(this.loading=!0,this.error=null,this.products=[],this.page=t,this.openFoodFacts.searchFood(this.query,this.page,this.pageSize).subscribe({next:e=>{let r=(e.products||[]).filter(i=>i.nutriments&&(i.nutriments["energy-kcal_100g"]||i.nutriments.energy_100g));this.products=r.map(i=>this.productToImportedFood(i)),this.totalCount=e.count||r.length,this.totalPages=Math.ceil(this.totalCount/this.pageSize)},error:e=>{console.error("Erro ao buscar alimentos:",e),this.error="Erro ao buscar alimentos. Tente novamente."},complete:()=>{this.loading=!1}}))}productToImportedFood(t){return{id:Nl(),imageUrl:t.image_front_url??"",description:t.product_name||"Unnamed product",calories:t.nutriments["energy-kcal_100g"]||t.nutriments.energy_100g||0,protein:t.nutriments.proteins_100g||0,fat:t.nutriments.fat_100g||0,fibers:t.nutriments.fiber_100g||0,carbs:t.nutriments.carbohydrates_100g||0,baseQuantity:100,baseUnit:"g"}}importFood(t){t.updatedAt=new Date().toISOString(),this.dbservice.add("foods",t)}toNutriments(t){return{calories:t.calories,carbs:t.carbs,protein:t.protein,fiber:t.fibers,fat:t.fat}}calculateMacros(t){return this.macrosService.sumNutrition([new Di(100,t.baseUnit||"g",t)])}hasNextPage(){return this.page<this.totalPages}hasPrevPage(){return this.page>1}static \u0275fac=function(e){return new(e||n)(b($s),b($e),b(ut))};static \u0275cmp=R({type:n,selectors:[["import-food"]],features:[me([$s])],decls:14,vars:10,consts:[[1,"row","g-2","mb-2"],[1,"col-12"],[1,"input-group"],["type","text","placeholder","Pesquisar alimento...",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1","role","status",4,"ngIf"],["class","alert alert-info mt-2",4,"ngIf"],["class","alert alert-danger mt-2",4,"ngIf"],["class","alert alert-warning mt-2",4,"ngIf"],[1,"row"],["class","col-12 col-md-6 col-lg-4 mb-3",4,"ngFor","ngForOf"],["class","d-flex justify-content-between align-items-center mt-3",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","me-1"],[1,"alert","alert-info","mt-2"],[1,"fas","fa-spinner","fa-spin","me-1"],[1,"alert","alert-danger","mt-2"],[1,"alert","alert-warning","mt-2"],[1,"col-12","col-md-6","col-lg-4","mb-3"],[1,"card","h-100"],[1,"ratio","ratio-4x3","bg-light"],["class","img-fluid rounded-start object-fit-contain p-2","alt","Imagem do Produto",3,"src",4,"ngIf"],["class","d-flex align-items-center justify-content-center text-muted",4,"ngIf"],[1,"card-body","d-flex","flex-column"],[1,"card-title","d-flex","justify-content-between","align-items-center"],[3,"food"],[1,"card-text","mb-1"],[3,"data","showFibers"],[1,"card-text","text-muted"],[1,"btn","btn-success","btn-sm","mt-auto","w-100",3,"click"],["alt","Imagem do Produto",1,"img-fluid","rounded-start","object-fit-contain","p-2",3,"src"],[1,"d-flex","align-items-center","justify-content-center","text-muted"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"btn-group"],[1,"btn","btn-outline-primary",3,"click","disabled"]],template:function(e,r){e&1&&(d(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"input",3),Z("ngModelChange",function(o){return ee(r.query,o)||(r.query=o),o}),u(),d(5,"button",4),C("click",function(){return r.search()}),x(6,SP,1,0,"span",5),p(7),u()()()(),x(8,IP,3,0,"div",6)(9,xP,2,1,"div",7)(10,TP,2,0,"div",8),d(11,"div",9),x(12,NP,16,8,"div",10),u(),x(13,kP,8,5,"div",11),u()),e&2&&(m(4),K("ngModel",r.query),y("disabled",r.loading),m(),y("disabled",r.loading),m(),y("ngIf",r.loading),m(),F(" ",r.loading?"Buscando...":"Buscar"," "),m(),y("ngIf",r.loading),m(),y("ngIf",r.error),m(),y("ngIf",!r.loading&&r.query&&r.products.length===0&&!r.error),m(2),y("ngForOf",r.products),m(),y("ngIf",r.products.length>0&&!r.loading))},dependencies:[he,Te,Me,je,L,ve,W,Zu,Ti,_r],encapsulation:2})};function FP(n,t){if(n&1&&(d(0,"div",37)(1,"strong"),p(2,"Distribui\xE7\xE3o de Macronutrientes:"),u(),I(3,"br"),p(4),I(5,"br"),p(6),I(7,"br"),p(8),u()),n&2){let e=w(3);m(4),F(" Prote\xEDnas: ",e.getMacros(e.form.value).proteina,"g"),m(2),F(" Carboidratos: ",e.getMacros(e.form.value).carbo,"g"),m(2),F(" Gorduras: ",e.getMacros(e.form.value).gordura,"g ")}}function RP(n,t){if(n&1&&(d(0,"div",33)(1,"div",34)(2,"strong"),p(3,"Meta cal\xF3rica ajustada:"),u(),p(4),u(),d(5,"div",35)(6,"strong"),p(7,"Meta di\xE1ria de \xE1gua:"),u(),p(8),u(),x(9,FP,9,3,"div",36),u()),n&2){let e=w(2);m(4),F(" ",e.getCaloriasAjustadas(e.form.value)," kcal/dia "),m(4),F(" ",e.getAguaLitros(e.form.value.peso)," litros "),m(),y("ngIf",e.getMacros(e.form.value))}}function OP(n,t){if(n&1){let e=V();d(0,"div",1)(1,"form",2)(2,"div",3)(3,"div",4)(4,"select",5)(5,"option",6),p(6,"Masculino"),u(),d(7,"option",7),p(8,"Feminino"),u()(),d(9,"label",8),p(10,"Sexo"),u()()(),d(11,"div",3)(12,"div",4),I(13,"input",9),d(14,"label",10),p(15,"Idade"),u()()(),d(16,"div",3)(17,"div",4),I(18,"input",11),d(19,"label",12),p(20,"Peso (kg)"),u()()(),d(21,"div",3)(22,"div",4),I(23,"input",13),d(24,"label",14),p(25,"Altura (cm)"),u()()(),d(26,"div",15)(27,"div",4)(28,"select",16)(29,"option",17),p(30,"Sedent\xE1rio"),u(),d(31,"option",18),p(32,"Leve (1-3x semana)"),u(),d(33,"option",19),p(34,"Moderado (3-5x semana)"),u(),d(35,"option",20),p(36,"Intenso (di\xE1rio)"),u(),d(37,"option",21),p(38,"Muito Intenso (2x dia)"),u()(),d(39,"label",22),p(40,"N\xEDvel de Atividade"),u()()(),d(41,"div",15)(42,"div",4)(43,"select",23)(44,"option",24),p(45,"Manter peso"),u(),d(46,"option",25),p(47,"Perder peso (leve)"),u(),d(48,"option",26),p(49,"Perder peso (moderado)"),u(),d(50,"option",27),p(51,"Ganhar massa"),u()(),d(52,"label",28),p(53,"Objetivo"),u()()()(),x(54,RP,10,3,"div",29),d(55,"div",30)(56,"div",31)(57,"button",32),C("click",function(){D(e);let i=w();return S(i.logout())}),p(58,"Deslogar"),u()()()()}if(n&2){let e=w();m(),y("formGroup",e.form),m(53),y("ngIf",e.form.valid)}}var hf=class n{constructor(t,e,r,i,o,s){this.fb=t;this.router=e;this.auth=r;this.dbService=i;this.eStorage=o;this.autoSave=s}form;ngOnInit(){let t=this.eStorage.getProfile();this.form=this.fb.group({sexo:[t?.sexo||"masculino"],idade:[t?.idade||30],peso:[t?.peso||70],altura:[t?.altura||170],nivelAtividade:[t?.nivelAtividade||"moderado"],objetivo:[t?.objetivo||"manter"]}),this.autoSave.register(()=>this.saveProfile(),()=>this.form.dirty)}ngOnDestroy(){this.autoSave.unregister(()=>this.saveProfile()),this.saveProfile()}saveProfile(){return _(this,null,function*(){if(!this.form.dirty)return;let t=this.form.value,e=this.getMacros(t),r=ie(M({id:"1"},t),{calorieGoal:this.getCaloriasAjustadas(t),proteinGoal:e.proteina,carbGoal:e.carbo,fatGoal:e.gordura,fiberGoal:0,waterGoal:this.getAguaLitros(t.peso)*1e3});this.eStorage.setProfile(r),yield this.dbService.update("profile",r),this.form.markAsPristine()})}logout(){return _(this,null,function*(){yield this.auth.signOut(),this.router.navigate(["login"])})}getTmb({peso:t,altura:e,idade:r,sexo:i}){return i==="masculino"?10*t+6.25*e-5*r+5:10*t+6.25*e-5*r-161}getFatorAtividade(t){switch(t){case"sedentario":return 1.2;case"leve":return 1.375;case"moderado":return 1.55;case"intenso":return 1.725;case"muito-intenso":return 1.9;default:return 1.55}}getCaloriasAjustadas(t){let e=this.getTmb(t),r=this.getFatorAtividade(t.nivelAtividade),i=e*r;switch(t.objetivo){case"perder-leve":return Math.round(i*.85);case"perder-moderado":return Math.round(i*.7);case"ganhar":return Math.round(i*1.15);default:return Math.round(i)}}getMacros(t){let e=this.getCaloriasAjustadas(t),r=.3,i=.5,o=.2;return t.objetivo.includes("perder")&&(r=.4,i=.4,o=.2),{proteina:Math.round(e*r/4),carbo:Math.round(e*i/4),gordura:Math.round(e*o/9)}}getAguaLitros(t){return+(t*.035).toFixed(2)}static \u0275fac=function(e){return new(e||n)(b(Vs),b(Ie),b(jt),b($e),b(Ae),b(yr))};static \u0275cmp=R({type:n,selectors:[["profile"]],decls:1,vars:1,consts:[["class","container py-3",4,"ngIf"],[1,"container","py-3"],[1,"row","g-2",3,"formGroup"],[1,"col-6","col-md-3"],[1,"form-floating"],["formControlName","sexo","id","sexo",1,"form-select"],["value","masculino"],["value","feminino"],["for","sexo"],["type","number","formControlName","idade","id","idade","placeholder","Idade",1,"form-control"],["for","idade"],["type","number","formControlName","peso","id","peso","placeholder","Peso (kg)",1,"form-control"],["for","peso"],["type","number","formControlName","altura","id","altura","placeholder","Altura (cm)",1,"form-control"],["for","altura"],[1,"col-6","col-md-6"],["formControlName","nivelAtividade","id","atividade",1,"form-select"],["value","sedentario"],["value","leve"],["value","moderado"],["value","intenso"],["value","muito-intenso"],["for","atividade"],["formControlName","objetivo","id","objetivo",1,"form-select"],["value","manter"],["value","perder-leve"],["value","perder-moderado"],["value","ganhar"],["for","objetivo"],["class","mt-3",4,"ngIf"],[1,"row","d-flex","justify-content-end","mt-3"],[1,"col-6","col-md-3","align-self-end"],[1,"w-100","btn","btn-outline-danger",3,"click"],[1,"mt-3"],[1,"alert","alert-success"],[1,"alert","alert-primary"],["class","alert alert-secondary",4,"ngIf"],[1,"alert","alert-secondary"]],template:function(e,r){e&1&&x(0,OP,59,2,"div",0),e&2&&y("ngIf",r.form)},dependencies:[Dt,Ei,Ln,Vn,jn,Te,kt,dn,Me,Pn,Ci,vo,L,W],encapsulation:2})};var mf=class n{exercisesImported=new H;onFileChange(t){console.log("file-change");let r=t.target?.files?.[0];if(!r)return;let i=new FileReader;i.onload=()=>{let s=i.result.split(`
`).filter(c=>c.trim().length>0),a=[];for(let c of s.slice(1)){let[f,h,v]=c.split(",").map(g=>g.trim());if(f&&h&&v){var l={name:f,calories:parseFloat(h),date:new Date(v)};console.log(l),a.push(l)}}console.log("EMISS\xC2O DO EVENTO"),console.log(a),this.exercisesImported.emit(a)},i.readAsText(r)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=R({type:n,selectors:[["app-exercise-csv-import"]],outputs:{exercisesImported:"exercisesImported"},decls:1,vars:0,consts:[["type","file","accept",".csv",1,"form-control","mb-3",3,"change"]],template:function(e,r){e&1&&(d(0,"input",0),C("change",function(o){return r.onFileChange(o)}),u())},dependencies:[L],encapsulation:2})};function PP(n,t){if(n&1&&(d(0,"option",14),p(1),u()),n&2){let e=t.$implicit;y("value",e),m(),ne(e)}}function LP(n,t){if(n&1){let e=V();d(0,"li",18),p(1),d(2,"button",19),C("click",function(){let i=D(e).index,o=w(2);return S(o.deleteExercise(i))}),I(3,"i",20),u()()}if(n&2){let e=t.$implicit;m(),We(" ",e.name," \u2014 ",e.calories," kcal ")}}function VP(n,t){if(n&1&&(d(0,"div")(1,"h6",15),p(2,"Exerc\xEDcios Registrados"),u(),d(3,"ul",16),x(4,LP,4,2,"li",17),u(),d(5,"div",15)(6,"strong"),p(7),u()()()),n&2){let e=w();m(4),y("ngForOf",e.savedExercises),m(3),F("Total de Calorias Gastas: ",e.getTotalCalories()," kcal")}}var gf=class n{constructor(t){this.storage=t}caloriesBurned=null;exercisesList=["Caminhada","Corrida","Bicicleta","Supino","Agachamento","Puxada","Remada","Desenvolvimento","Abdominal","Avan\xE7o"];selectedExercise={name:"",calories:0,date:new Date};savedExercises=[];STORAGE_KEY="exercises";ngOnInit(){this.savedExercises=this.storage.loadData(this.STORAGE_KEY)||[]}addExercise(){if(!this.selectedExercise.name||this.selectedExercise.calories<=0){console.log(this.selectedExercise);return}this.savedExercises.push(M({},this.selectedExercise)),this.storage.saveData(this.STORAGE_KEY,this.savedExercises),this.selectedExercise={name:"",calories:0,date:new Date}}deleteExercise(t){this.savedExercises.splice(t,1),this.storage.saveData(this.STORAGE_KEY,this.savedExercises)}getTotalCalories(){return this.savedExercises.reduce((t,e)=>t+e.calories,0)}onImport(t){console.log("teste"),this.savedExercises.push(...t),this.storage.saveData(this.STORAGE_KEY,this.savedExercises)}static \u0275fac=function(e){return new(e||n)(b(Ce))};static \u0275cmp=R({type:n,selectors:[["app-exercise-tracker"]],decls:19,vars:4,consts:[[1,"card","shadow-sm","p-3"],[1,"mb-3"],[3,"exercisesImported"],[1,"row","g-2","align-items-end",3,"ngSubmit"],[1,"col-6"],["for","exercise",1,"form-label"],["id","exercise","name","exercise","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"form-label"],["type","number","name","caloriesBurned","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],["type","submit",1,"btn","btn-success","w-100"],[4,"ngIf"],[3,"value"],[1,"mt-3"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-times"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h5",1),p(2,"Registrar Exerc\xEDcio"),u(),d(3,"app-exercise-csv-import",2),C("exercisesImported",function(o){return r.onImport(o)}),u(),d(4,"form",3),C("ngSubmit",function(){return r.addExercise()}),d(5,"div",4)(6,"label",5),p(7,"Exerc\xEDcio"),u(),d(8,"select",6),Z("ngModelChange",function(o){return ee(r.selectedExercise.name,o)||(r.selectedExercise.name=o),o}),x(9,PP,2,2,"option",7),u()(),d(10,"div",8)(11,"label",9),p(12,"Calorias Gastas"),u(),d(13,"input",10),Z("ngModelChange",function(o){return ee(r.selectedExercise.calories,o)||(r.selectedExercise.calories=o),o}),u()(),d(14,"div",11)(15,"button",12),p(16,"Adicionar"),u()()(),I(17,"hr"),x(18,VP,8,2,"div",13),u()),e&2&&(m(8),K("ngModel",r.selectedExercise.name),m(),y("ngForOf",r.exercisesList),m(4),K("ngModel",r.selectedExercise.calories),m(5),y("ngIf",r.savedExercises.length>0))},dependencies:[he,Ln,Vn,jn,Te,kt,dn,Me,Pn,Qr,je,go,L,ve,W,mf],encapsulation:2})};function jP(n,t){if(n&1){let e=V();d(0,"li",5),C("click",function(){let i=D(e).$implicit,o=w(2);return S(o.selectFood(i))}),p(1),u()}if(n&2){let e=t.$implicit;m(),F(" ",e.description," ")}}function BP(n,t){if(n&1&&(d(0,"ul",3),x(1,jP,2,1,"li",4),u()),n&2){let e=w();m(),y("ngForOf",e.filteredFoods())}}var Ws=class n{constructor(t){this.search=t}placeholder="Buscar alimento...";searchTerm="";allFoods=[];searchTermChange=new H;foodSelected=new H;onInputChange(t){this.searchTerm=t,this.searchTermChange.emit(this.searchTerm)}filteredFoods(){let t=this.searchTerm.toLowerCase();return this.search.searchByKeys(this.allFoods,t,["description"]).slice(0,10)}selectFood(t){this.foodSelected.emit(t),this.searchTerm=""}static \u0275fac=function(e){return new(e||n)(b(xi))};static \u0275cmp=R({type:n,selectors:[["food-search"]],inputs:{placeholder:"placeholder",searchTerm:"searchTerm",allFoods:"allFoods"},outputs:{searchTermChange:"searchTermChange",foodSelected:"foodSelected"},decls:3,vars:4,consts:[[1,"position-relative"],["type","text",1,"form-control",3,"ngModelChange","input","placeholder","ngModel"],["class","position-absolute w-100 list-group z-3","style","max-height: 200px; overflow-y: auto;",4,"ngIf"],[1,"position-absolute","w-100","list-group","z-3",2,"max-height","200px","overflow-y","auto"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"input",1),Z("ngModelChange",function(o){return ee(r.searchTerm,o)||(r.searchTerm=o),o}),C("input",function(){return r.onInputChange(r.searchTerm)}),u(),x(2,BP,2,1,"ul",2),u()),e&2&&(m(),y("placeholder",r.placeholder),K("ngModel",r.searchTerm),Mt("autocomplete","off"),m(),y("ngIf",r.filteredFoods().length>0))},dependencies:[he,Te,Me,je,L,ve,W],encapsulation:2})};function UP(n,t){n&1&&(d(0,"div",5)(1,"div"),I(2,"i",6),p(3," Nenhum alimento selecionado. Tente pesquisar um alimento para ver alternativas. "),u()())}function $P(n,t){if(n&1&&(d(0,"li",19)(1,"div")(2,"strong"),p(3),u(),p(4),Y(5,"number"),u(),d(6,"div",20)(7,"div"),p(8),Y(9,"number"),u(),d(10,"div",21),p(11),Y(12,"number"),u(),d(13,"div",21),p(14),Y(15,"number"),u()()()),n&2){let e=t.$implicit;m(3),ne(e.substitute.description),m(),We(" (",J(5,6,e.adjustedQuantity,"1.0-2")," ",e.substitute.baseUnit||"g",") "),m(4),F("",J(9,9,e.macroDifferences.protein,"1.1-1"),"g P"),m(3),F("",J(12,12,e.macroDifferences.carbs,"1.1-1"),"g C"),m(3),F("",J(15,15,e.macroDifferences.fat,"1.1-1"),"g G")}}function HP(n,t){if(n&1&&(d(0,"div")(1,"h6",16),p(2,"Pode ser substitu\xEDdo por:"),u(),d(3,"ul",17),x(4,$P,16,18,"li",18),u()()),n&2){let e=w().$implicit,r=w(2);m(4),y("ngForOf",r.aaa(e))}}function WP(n,t){if(n&1){let e=V();d(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),p(4),u(),p(5," - "),d(6,"div",12)(7,"input",13),Z("ngModelChange",function(i){let o=D(e).$implicit;return ee(o.quantity,i)||(o.quantity=i),S(i)}),C("ngModelChange",function(i){let o=D(e).$implicit,s=w(2);return S(s.updateQuantity(o.food.id,i))}),u(),d(8,"span"),p(9),u(),d(10,"button",14),C("click",function(){let i=D(e).$implicit,o=w(2);return S(o.removeFood(i.food.id))}),I(11,"i",15),u()()(),x(12,HP,5,1,"div",4),u()()}if(n&2){let e=t.$implicit,r=w(2);m(4),ne(e.food.description),m(3),K("ngModel",e.quantity),m(2),ne(e.food.baseUnit||"g"),m(3),y("ngIf",r.aaa(e).length>0)}}function zP(n,t){if(n&1&&(d(0,"div"),x(1,WP,13,4,"div",7),u()),n&2){let e=w();m(),y("ngForOf",e.selectedFoods)}}var zs=class n{constructor(t,e){this.service=t;this.dbservice=e}importedFoods=[];selectedFoods=[];suggestions=[];tolerance=.15;ngOnInit(){return _(this,null,function*(){this.importedFoods=(yield this.dbservice.getAll("foods"))||[]})}onFoodSelected(t){this.selectedFoods.find(e=>e.food.id===t.id)||(this.selectedFoods.push({food:t,quantity:t.baseQuantity||100}),this.recalculateSuggestions())}aaa(t){return this.suggestions.filter(e=>e.original.id===t.food.id)}removeFood(t){this.selectedFoods=this.selectedFoods.filter(e=>e.food.id!==t),this.recalculateSuggestions()}updateQuantity(t,e){let r=this.selectedFoods.find(i=>i.food.id===t);r&&(r.quantity=e,this.recalculateSuggestions())}recalculateSuggestions(){this.suggestions=[];for(let{food:t,quantity:e}of this.selectedFoods){let i=this.importedFoods.filter(o=>o.id!==t.id).filter(o=>this.isProportional(t,o,this.tolerance));for(let o of i.slice(0,10)){let s=o.calories/(o.baseQuantity||100),l=t.calories*(e/(t.baseQuantity||100))/s,c=l/(o.baseQuantity||100);this.suggestions.push({original:t,substitute:o,adjustedQuantity:l,macroDifferences:{protein:+(o.protein*c-t.protein*(e/(t.baseQuantity||100))).toFixed(2),carbs:+(o.carbs*c-t.carbs*(e/(t.baseQuantity||100))).toFixed(2),fat:+(o.fat*c-t.fat*(e/(t.baseQuantity||100))).toFixed(2)}})}}}getSuggestionsFor(t){return this.suggestions.filter(e=>e.original.id===t.id)}getMacroRatio(t){let e=t.protein+t.carbs+t.fat;return e===0?{p:0,c:0,f:0}:{p:t.protein/e,c:t.carbs/e,f:t.fat/e}}isProportional(t,e,r){let i=this.getMacroRatio(t),o=this.getMacroRatio(e);if([i.p,i.c,i.f,o.p,o.c,o.f].some(f=>isNaN(f)||!isFinite(f)))return console.log(`[isProportional] Raz\xE3o inv\xE1lida para alimentos: ${t.description} ou ${e.description}`),!1;let s=Math.abs(i.p-o.p),a=Math.abs(i.c-o.c),l=Math.abs(i.f-o.f),c=s<=r&&a<=r&&l<=r;return c||(console.log(`[isProportional] Falha para '${t.description}' vs '${e.description}': Diff P: ${s.toFixed(3)}, C: ${a.toFixed(3)}, F: ${l.toFixed(3)} (tolerance: ${r})`),console.log(`  Ratios A: p=${i.p.toFixed(3)}, c=${i.c.toFixed(3)}, f=${i.f.toFixed(3)}`),console.log(`  Ratios B: p=${o.p.toFixed(3)}, c=${o.c.toFixed(3)}, f=${o.f.toFixed(3)}`)),c}getAdjustedQuantity(t,e){let r=t.calories/e.calories;return(e.baseQuantity||100)*r}static \u0275fac=function(e){return new(e||n)(b(Ce),b($e))};static \u0275cmp=R({type:n,selectors:[["food-substitution"]],features:[me([Ce])],decls:5,vars:3,consts:[[1,"mt-3"],[1,"mb-2"],[3,"foodSelected","allFoods"],["class","alert alert-warning d-flex justify-content-between align-items-center","role","alert",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-warning","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-search","me-2"],["class","card mb-2",4,"ngFor","ngForOf"],[1,"card","mb-2"],[1,"card-body"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","gap-2"],[1,"fw-bold"],[1,"d-flex","align-items-center","gap-2"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","ngModel"],["title","Delete Entry",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-times"],[1,"text-muted"],[1,"list-group","list-group-flush"],["class","list-group-item px-0",4,"ngFor","ngForOf"],[1,"list-group-item","px-0"],[1,"d-inline-flex","justify-content-around","bg-secondary","text-white","rounded-pill","px-2","gap-1","fw-bold",2,"font-size","x-small"],[1,"border-start","border-white","ps-1"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"food-search",2),C("foodSelected",function(o){return r.onFoodSelected(o)}),u()(),x(3,UP,4,0,"div",3)(4,zP,2,1,"div",4),u()),e&2&&(m(2),y("allFoods",r.importedFoods),m(),y("ngIf",r.selectedFoods.length==0),m(),y("ngIf",r.selectedFoods.length>0))},dependencies:[Dt,he,Te,kt,Me,Al,je,L,ve,W,ln,Ws],encapsulation:2})};function qP(n,t){if(n&1&&(d(0,"div",9),p(1),u()),n&2){let e=w();m(),F(" ",e.message," ")}}function GP(n,t){n&1&&(d(0,"div",10)(1,"div",11)(2,"span",12),p(3,"Carregando..."),u()()())}var vf=class n{constructor(t,e){this.auth=t;this.router=e}email="";password="";message="";loading=!1;login(){return _(this,null,function*(){this.loading=!0,this.message="";try{!!(yield this.auth.signIn(this.email,this.password)).user?.email_confirmed_at?(this.message="\u2705 Login bem-sucedido!",this.router.navigate(["/home"])):(this.message="\u26A0\uFE0F Verifique seu e-mail antes de continuar.",yield this.auth.signOut())}catch(t){this.message="\u274C Erro: "+t.message}finally{this.loading=!1}})}logout(){return _(this,null,function*(){this.loading=!0;try{yield this.auth.signOut(),this.message="Voc\xEA saiu da conta.",this.router.navigate(["/login"])}catch(t){this.message="Erro ao sair: "+t.message}finally{this.loading=!1}})}register(){return _(this,null,function*(){this.loading=!0,this.message="";try{yield this.auth.signUp(this.email,this.password),this.message="\u2705 Conta criada com sucesso! Verifique seu e-mail antes de logar."}catch(t){this.message="\u274C Erro ao criar conta: "+t.message}finally{this.loading=!1}})}static \u0275fac=function(e){return new(e||n)(b(jt),b(Ie))};static \u0275cmp=R({type:n,selectors:[["app-login"]],decls:12,vars:7,consts:[[1,"container","mt-5",2,"max-width","400px"],[1,"mb-4","text-center"],["class","alert alert-info text-center","role","alert",4,"ngIf"],[1,"mb-3"],["type","email","placeholder","Email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","password","placeholder","Senha",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"d-grid","gap-2"],[1,"btn","btn-primary",3,"click","disabled"],["class","text-center my-4",4,"ngIf"],["role","alert",1,"alert","alert-info","text-center"],[1,"text-center","my-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h3",1),p(2,"Login"),u(),x(3,qP,2,1,"div",2),d(4,"div",3)(5,"input",4),Z("ngModelChange",function(o){return ee(r.email,o)||(r.email=o),o}),u()(),d(6,"div",3)(7,"input",5),Z("ngModelChange",function(o){return ee(r.password,o)||(r.password=o),o}),u()(),d(8,"div",6)(9,"button",7),C("click",function(){return r.login()}),p(10,"Entrar"),u()(),x(11,GP,4,0,"div",8),u()),e&2&&(m(3),y("ngIf",r.message),m(2),K("ngModel",r.email),y("disabled",r.loading),m(2),K("ngModel",r.password),y("disabled",r.loading),m(2),y("disabled",r.loading),m(2),y("ngIf",r.loading))},dependencies:[L,W,he,Te,Me,je],encapsulation:2})};var yf=class n{constructor(t,e){this.auth=t;this.router=e}canActivate(){return _(this,null,function*(){let t=yield this.auth.getCurrentUser(),e=!!t?.email_confirmed_at;return console.log("User recuperado no login redirect guard:",t),t&&e?this.router.createUrlTree(["/home"]):!0})}static \u0275fac=function(e){return new(e||n)(O(jt),O(Ie))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bt=class n{constructor(t,e){this.supabase=t;this.router=e}canActivate(){return _(this,null,function*(){let t=yield this.supabase.getCurrentUser();console.log("Usu\xE1rio recuperado no guard de autentica\xE7\xE3o:",t);let e=!!t?.email_confirmed_at;return t&&e?!0:this.router.createUrlTree(["/login"])})}static \u0275fac=function(e){return new(e||n)(O(jt),O(Ie))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var _f=class n{clickTimes=[];secretActivated=new H;onClick(){let t=Date.now();this.clickTimes=this.clickTimes.filter(e=>t-e<3e3),this.clickTimes.push(t),this.clickTimes.length>=7&&(this.clickTimes=[],this.secretActivated.emit())}static \u0275fac=function(e){return new(e||n)};static \u0275dir=X({type:n,selectors:[["","appSecretTap",""]],hostBindings:function(e,r){e&1&&C("click",function(){return r.onClick()})},outputs:{secretActivated:"appSecretTap"}})};var qs=class n{_isStandalone=Je(this.checkStandalone());_userAgent=navigator.userAgent||navigator.vendor||window.opera;isStandalone=Lt(()=>this._isStandalone());os=Lt(()=>this.detectOS());isMobile=Lt(()=>this.detectMobile());isTouch=Lt(()=>"ontouchstart"in window||navigator.maxTouchPoints>0);isDesktop=Lt(()=>!this.isMobile());constructor(){window.addEventListener("appinstalled",()=>{this._isStandalone.set(!0)})}checkStandalone(){return window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0}detectOS(){let t=this._userAgent;return/android/i.test(t)?"Android":/iPad|iPhone|iPod/.test(t)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?"iOS":navigator.userAgent.includes("Win")?"Windows":navigator.userAgent.includes("Mac")?"MacOS":navigator.userAgent.includes("Linux")?"Linux":"Other"}detectMobile(){return/android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(this._userAgent)}refreshStatus(){this._isStandalone.set(this.checkStandalone())}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var QP=n=>({"pb-4":n});function KP(n,t){if(n&1&&(d(0,"span"),p(1),u()),n&2){let e=w();m(),ne(e.pageTitle)}}function ZP(n,t){n&1&&(d(0,"span"),p(1,"Admin Mode"),u())}function YP(n,t){if(n&1){let e=V();d(0,"a",8),C("click",function(){let i=D(e).$implicit,o=w();return S(o.navigate(i.route))}),I(1,"i"),u()}if(n&2){let e=t.$implicit,r=w();y("ngClass",r.isActive(e.route)?"text-success":"text-muted"),m(),Tu(e.icon)}}var bf=class n{constructor(t,e,r,i){this.router=t;this.route=e;this.platform=r;this.adminMode=i;this.router.events.pipe(Ye(o=>o instanceof kn),z(()=>{let o=this.route.firstChild;for(;o?.firstChild;)o=o.firstChild;return o?.snapshot.data})).subscribe(o=>{this.pageTitle=o?.title||"Title",this.pageDescription=o?.description||"Description"})}showVersion=!1;navItems=[{icon:"fas fa-home",route:"/home"},{icon:"fas fa-shopping-cart",route:"/shopping-list"},{icon:"fas fa-utensils",route:"/meal-plan"},{icon:"fas fa-tint",route:"/water-intake"},{icon:"fas fa-compass",route:"/goals"}];title="omni-diet";pageTitle;pageDescription;navigate(t){this.router.navigate([t])}isActive(t){return this.router.url===t}needsExtraFooterSize(){return this.platform.isStandalone()&&this.platform.os()==="iOS"}static \u0275fac=function(e){return new(e||n)(b(Ie),b(cn),b(qs),b(Us))};static \u0275cmp=R({type:n,selectors:[["app-main-layout"]],decls:10,vars:6,consts:[[1,"d-flex","flex-column","full-height-fix"],[1,"bg-success","text-white","text-center","py-3"],[1,"user-select-none","my-0",3,"appSecretTap"],[4,"ngIf"],[1,"flex-grow-1","overflow-auto"],[1,"bg-light","shadow-lg","py-2",3,"ngClass"],[1,"nav","justify-content-around"],["class","nav-link",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"nav-link",3,"click","ngClass"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"header",1)(2,"h5",2),C("appSecretTap",function(){return r.adminMode.toggle()}),x(3,KP,2,1,"span",3)(4,ZP,2,0,"span",3),u()(),d(5,"main",4),I(6,"router-outlet"),u(),d(7,"footer",5)(8,"nav",6),x(9,YP,2,3,"a",7),u()()()),e&2&&(m(3),y("ngIf",!r.adminMode.isActive()),m(),y("ngIf",r.adminMode.isActive()),m(3),y("ngClass",Kt(4,QP,r.needsExtraFooterSize())),m(2),y("ngForOf",r.navItems))},dependencies:[Za,L,Ct,ve,W,_f],encapsulation:2})};function JP(n,t){if(n&1&&(d(0,"li",3)(1,"div",4)(2,"span",5),p(3),u(),d(4,"span",5),p(5),Y(6,"number"),u()(),d(7,"div",6),I(8,"span",7),p(9),Y(10,"number"),I(11,"span",7),p(12),Y(13,"number"),I(14,"span",7),p(15),Y(16,"number"),I(17,"span",7),p(18),Y(19,"number"),I(20,"span",7),p(21),Y(22,"number"),u()()),n&2){let e=t.$implicit;m(3),ne(e.date),m(2),ne(J(6,12,e.score,"1.0-0")),m(3),y("innerHTML",e.diff.calories>=0?"\u2191":"\u2193",Jo),m(),F(" Calorias: ",J(10,15,e.diff.calories,"1.0-1"),"kcal, "),m(2),y("innerHTML",e.diff.protein>=0?"\u2191":"\u2193",Jo),m(),F("Prote\xEDna: ",J(13,18,e.diff.protein,"1.1-1"),"g, "),m(2),y("innerHTML",e.diff.carbs>=0?"\u2191":"\u2193",Jo),m(),F("Carbs: ",J(16,21,e.diff.carbs,"1.1-1"),"g, "),m(2),y("innerHTML",e.diff.fat>=0?"\u2191":"\u2193",Jo),m(),F("Gorduras: ",J(19,24,e.diff.fat,"1.1-1"),"g, "),m(2),y("innerHTML",e.diff.fiber>=0?"\u2191":"\u2193",Jo),m(),F("Fibras: ",J(22,27,e.diff.fiber,"1.1-1"),"g ")}}function XP(n,t){if(n&1&&(d(0,"div")(1,"ul",1),x(2,JP,23,30,"li",2),u()()),n&2){let e=w();m(2),y("ngForOf",e.worstDays)}}function eL(n,t){n&1&&(d(0,"div")(1,"div",8),p(2,"Nenhum desvio relevante encontrado."),u()())}var Gs=class n{constructor(t){this.calc=t}history=[];cutValue=0;worstDays=[];ngOnChanges(){this.analyzeDeviation()}analyzeDeviation(){let t=this.history.filter(e=>e.executed&&e.executed.meals?.length).map(e=>{let r=this.calc.sumMeals(e.planned?.meals||[]),i=this.calc.sumMeals(e.executed?.meals||[]),o={calories:i.calories-r.calories,protein:i.protein-r.protein,carbs:i.carbs-r.carbs,fat:i.fat-r.fat,fiber:i.fiber-r.fiber},s=Math.abs(o.protein)+Math.abs(o.carbs)+Math.abs(o.fat)+Math.abs(o.fiber);return{date:e.date,score:s,diff:o}});this.worstDays=this.cutValue>0?t.filter(e=>e.score>this.cutValue):t,this.worstDays.sort((e,r)=>r.score-e.score)}static \u0275fac=function(e){return new(e||n)(b(ut))};static \u0275cmp=R({type:n,selectors:[["record-snitch"]],inputs:{history:"history",cutValue:"cutValue"},features:[et],decls:2,vars:2,consts:[[4,"ngIf"],[1,"list-group","small"],["class","list-group-item px-2",4,"ngFor","ngForOf"],[1,"list-group-item","px-2"],[1,"d-flex","justify-content-between","mb-1"],[1,"badge","bg-secondary"],[1,"text-muted"],[3,"innerHTML"],[1,"text-muted","small","fst-italic"]],template:function(e,r){e&1&&x(0,XP,3,1,"div",0)(1,eL,3,0,"div",0),e&2&&(y("ngIf",r.cutValue===0||r.worstDays.length>0),m(),y("ngIf",r.cutValue!==0&&r.worstDays.length===0))},dependencies:[L,ve,W,ln],styles:[".rotate-180[_ngcontent-%COMP%]{display:inline-block;transform:rotate(180deg)}"]})};function tL(n,t){if(n&1){let e=V();d(0,"div",16)(1,"div",17)(2,"label",18),p(3,"De:"),u(),d(4,"input",19),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.customStartDate,i)||(o.customStartDate=i),S(i)}),C("change",function(){D(e);let i=w();return S(i.calculateMetrics())}),u()(),d(5,"div",17)(6,"label",20),p(7,"At\xE9:"),u(),d(8,"input",21),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.customEndDate,i)||(o.customEndDate=i),S(i)}),C("change",function(){D(e);let i=w();return S(i.calculateMetrics())}),u()()()}if(n&2){let e=w();m(4),K("ngModel",e.customStartDate),m(4),K("ngModel",e.customEndDate)}}function nL(n,t){if(n&1){let e=V();d(0,"div",0)(1,"label",22),p(2,"Selecione o dia:"),u(),d(3,"input",23),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.specificDate,i)||(o.specificDate=i),S(i)}),C("change",function(){D(e);let i=w();return S(i.onDateRangeChange())}),u()()}if(n&2){let e=w();m(3),K("ngModel",e.specificDate)}}var wf=class n{constructor(t){this.macrosService=t}history=[];filteredRecords=[];totalPlannedCalories=0;totalPlannedProtein=0;totalPlannedCarbs=0;totalPlannedFat=0;totalPlannedFibers=0;totalExecutedCalories=0;totalExecutedProtein=0;totalExecutedCarbs=0;totalExecutedFat=0;totalExecutedFibers=0;calorieBalance=0;proteinBalance=0;carbBalance=0;fatBalance=0;fiberBalance=0;daysWithExecutedPlan=0;daysWithinCalorieRange=0;selectedRange="today";specificDate="";customStartDate="";customEndDate="";ngOnInit(){this.onDateRangeChange()}ngOnChanges(){this.calculateMetrics()}onDateRangeChange(){let t=new Date,e,r=t;switch(this.selectedRange){case"today":e=r;break;case"yesterday":e=new Date(t),e.setDate(t.getDate()-1),r=new Date(e);break;case"7days":r.setDate(t.getDate()-1),e=new Date(t),e.setDate(t.getDate()-6);break;case"30days":r.setDate(t.getDate()-1),e=new Date(t),e.setDate(t.getDate()-29);break;case"custom":return;case"specificDay":let i=this.specificDate?this.parseDateLocal(this.specificDate):this.customEndDate?this.parseDateLocal(this.customEndDate):t,o=this.formatDate(i);this.specificDate=o,this.customStartDate=o,this.customEndDate=o,this.calculateMetrics();return}this.customStartDate=this.formatDate(e),this.customEndDate=this.formatDate(r),this.specificDate="",this.calculateMetrics()}formatDate(t){return t.toLocaleDateString("en-CA")}parseDateLocal(t){let[e,r,i]=t.split("-").map(Number);return new Date(e,r-1,i)}calculateMetrics(){this.resetMetrics();let t=150;this.filteredRecords=this.history.filter(e=>{let r=new Date(e.date),i=new Date(this.customStartDate),o=new Date(this.customEndDate);return i.setHours(0,0,0,0),o.setHours(23,59,59,999),r>=i&&r<=o});for(let e of this.filteredRecords){let r=this.calculateNutrients(e.planned?.meals||[]),i=this.calculateNutrients(e.executed?.meals||[]);this.totalPlannedCalories+=r.calories,this.totalExecutedCalories+=i.calories,this.totalPlannedProtein+=r.protein,this.totalPlannedCarbs+=r.carbs,this.totalPlannedFat+=r.fat,this.totalPlannedFibers+=r.fiber,this.totalExecutedProtein+=i.protein,this.totalExecutedCarbs+=i.carbs,this.totalExecutedFat+=i.fat,this.totalExecutedFibers+=i.fiber,e.executed?.meals?.length&&(this.daysWithExecutedPlan++,Math.abs(r.calories-i.calories)<=t&&this.daysWithinCalorieRange++)}this.calorieBalance=this.totalExecutedCalories-this.totalPlannedCalories,this.proteinBalance=this.totalExecutedProtein-this.totalPlannedProtein,this.carbBalance=this.totalExecutedCarbs-this.totalPlannedCarbs,this.fatBalance=this.totalExecutedFat-this.totalPlannedFat,this.fiberBalance=this.totalExecutedFibers-this.totalPlannedFibers}resetMetrics(){this.totalPlannedCalories=0,this.totalExecutedCalories=0,this.calorieBalance=0,this.totalPlannedProtein=0,this.totalExecutedProtein=0,this.proteinBalance=0,this.totalPlannedCarbs=0,this.totalExecutedCarbs=0,this.carbBalance=0,this.totalPlannedFat=0,this.totalExecutedFat=0,this.fatBalance=0,this.totalPlannedFibers=0,this.totalExecutedFibers=0,this.fiberBalance=0,this.daysWithExecutedPlan=0,this.daysWithinCalorieRange=0}calculateNutrients(t){return this.macrosService.sumMeals(t)}static \u0275fac=function(e){return new(e||n)(b(ut))};static \u0275cmp=R({type:n,selectors:[["metrics-panel"]],inputs:{history:"history"},features:[et],decls:96,vars:92,consts:[[1,"mb-3"],[1,"form-label"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","today"],["value","yesterday"],["value","7days"],["value","30days"],["value","specificDay"],["value","custom"],["class","mb-3 row g-3",4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"list-group"],[1,"list-group-item"],[1,"d-flex","justify-content-between"],[1,"mt-3"],[3,"history","cutValue"],[1,"mb-3","row","g-3"],[1,"col-6"],["for","startDate"],["type","date","id","startDate",1,"form-control",3,"ngModelChange","change","ngModel"],["for","endDate"],["type","date","id","endDate",1,"form-control",3,"ngModelChange","change","ngModel"],["for","specificDate"],["type","date","id","specificDate",1,"form-control",3,"ngModelChange","change","ngModel"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"label",1),p(2,"Per\xEDodo:"),u(),d(3,"select",2),Z("ngModelChange",function(o){return ee(r.selectedRange,o)||(r.selectedRange=o),o}),C("change",function(){return r.onDateRangeChange()}),d(4,"option",3),p(5,"Hoje"),u(),d(6,"option",4),p(7,"Ontem"),u(),d(8,"option",5),p(9,"\xDAltimos 7 dias"),u(),d(10,"option",6),p(11,"\xDAltimos 30 dias"),u(),d(12,"option",7),p(13,"Dia espec\xEDfico"),u(),d(14,"option",8),p(15,"Intervalo de datas"),u()()(),x(16,tL,9,2,"div",9)(17,nL,4,1,"div",10),d(18,"ul",11)(19,"li",12),p(20," Dias com plano executado: "),d(21,"strong"),p(22),u()(),d(23,"li",12),p(24," Dias que segui o plano (\xB1150 kcal): "),d(25,"strong"),p(26),u()(),d(27,"li",12)(28,"div",13)(29,"div")(30,"strong"),p(31,"Calorias"),u()(),d(32,"div"),p(33),Y(34,"number"),Y(35,"number"),d(36,"span"),p(37),Y(38,"number"),u(),p(39,") "),u()()(),d(40,"li",12)(41,"div",13)(42,"div")(43,"strong"),p(44,"Prote\xEDnas"),u()(),d(45,"div"),p(46),Y(47,"number"),Y(48,"number"),d(49,"span"),p(50),Y(51,"number"),u(),p(52,") "),u()()(),d(53,"li",12)(54,"div",13)(55,"div")(56,"strong"),p(57,"Carboidratos"),u()(),d(58,"div"),p(59),Y(60,"number"),Y(61,"number"),d(62,"span"),p(63),Y(64,"number"),u(),p(65,") "),u()()(),d(66,"li",12)(67,"div",13)(68,"div")(69,"strong"),p(70,"Gorduras"),u()(),d(71,"div"),p(72),Y(73,"number"),Y(74,"number"),d(75,"span"),p(76),Y(77,"number"),u(),p(78,") "),u()()(),d(79,"li",12)(80,"div",13)(81,"div")(82,"strong"),p(83,"Fibras"),u()(),d(84,"div"),p(85),Y(86,"number"),Y(87,"number"),d(88,"span"),p(89),Y(90,"number"),u(),p(91,") "),u()()()(),d(92,"div",14)(93,"h5",0),p(94,"Dedo duro"),u(),I(95,"record-snitch",15),u()),e&2&&(m(3),K("ngModel",r.selectedRange),m(13),y("ngIf",r.selectedRange==="custom"),m(),y("ngIf",r.selectedRange==="specificDay"),m(5),ne(r.daysWithExecutedPlan),m(4),ne(r.daysWithinCalorieRange),m(7),We(" ",J(34,47,r.totalExecutedCalories,"1.0-1")," / ",J(35,50,r.totalPlannedCalories,"1.0-1")," kcal ("),m(3),q("text-success",r.calorieBalance<=0)("text-danger",r.calorieBalance>0),m(),We(" ",r.calorieBalance>=0?"+":"","",J(38,53,r.calorieBalance,"1.0-1")," "),m(9),We(" ",J(47,56,r.totalExecutedProtein,"1.0-1")," / ",J(48,59,r.totalPlannedProtein,"1.0-1")," g ("),m(3),q("text-success",r.proteinBalance>=0)("text-danger",r.proteinBalance<0),m(),We(" ",r.proteinBalance>=0?"+":"","",J(51,62,r.proteinBalance,"1.0-1")," "),m(9),We(" ",J(60,65,r.totalExecutedCarbs,"1.0-1")," / ",J(61,68,r.totalPlannedCarbs,"1.0-1")," g ("),m(3),q("text-success",r.carbBalance>=0)("text-danger",r.carbBalance<0),m(),We(" ",r.carbBalance>=0?"+":"","",J(64,71,r.carbBalance,"1.0-1")," "),m(9),We(" ",J(73,74,r.totalExecutedFat,"1.0-1")," / ",J(74,77,r.totalPlannedFat,"1.0-1")," g ("),m(3),q("text-success",r.fatBalance>=0)("text-danger",r.fatBalance<0),m(),We(" ",r.fatBalance>=0?"+":"","",J(77,80,r.fatBalance,"1.0-1")," "),m(9),We(" ",J(86,83,r.totalExecutedFibers,"1.0-1")," / ",J(87,86,r.totalPlannedFibers,"1.0-1")," g ("),m(3),q("text-success",r.fiberBalance>=0)("text-danger",r.fiberBalance<0),m(),We(" ",r.fiberBalance>=0?"+":"","",J(90,89,r.fiberBalance,"1.0-1")," "),m(6),y("history",r.filteredRecords)("cutValue",20))},dependencies:[L,W,ln,he,Vn,jn,Te,dn,Me,je,Gs],encapsulation:2})};var $n=class n{constructor(t,e){this.storage=t;this.eStorage=e}freezeMissingPlansIfNeeded(){console.log("Fazendo backup dos planos de refei\xE7\xE3o atuais");let t=this.getDateString(new Date),e=this.eStorage.getStoredDates(),r=[],i=e.length?e.sort().slice(-1)[0]:this.getDateString(this.addDays(new Date,-6)),o=this.addDays(new Date(i),1);for(;this.getDateString(o)<=t;){let s=this.getDateString(o);e.includes(s)||this.ensureDailyRecordExists(s)&&r.push(s),o=this.addDays(o,1)}if(r.length>0){let s=[...e,...r];this.storage.saveData("plan-history-dates",s)}}ensureDailyRecordExists(t){let e=this.eStorage.getRecord(t);if(e)return e;let r=this.eStorage.getPlans()||[],i=new Date(t).getDay(),o=r[i];if(!o)return console.warn(`Nenhum plano semanal encontrado para o dia ${i} (${t})`),null;let s=this.deepClone(o);s.day=t;let a={date:t,planned:s};return this.eStorage.setRecord(a),a}saveExecutedPlan(t,e){let r=this.ensureDailyRecordExists(t);r&&(r.executed=this.deepClone(e),this.eStorage.setRecord(r))}getDateString(t){return t.toISOString().split("T")[0]}addDays(t,e){let r=new Date(t);return r.setDate(r.getDate()+e),r}deepClone(t){return JSON.parse(JSON.stringify(t))}static \u0275fac=function(e){return new(e||n)(O(Ce),O(Ae))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function rL(n,t){if(n&1){let e=V();d(0,"li",5)(1,"meal-edit",6),C("deleteMeal",function(){let i=D(e).index,o=w(4);return S(o.deleteMeal(i))})("mealChanged",function(i){let o=D(e).index,s=w(4);return S(s.mealChanged(o,i))}),u()()}if(n&2){let e=t.$implicit,r=w(4);m(),y("meal",e)("foodList",r.importedFoods)}}function iL(n,t){if(n&1&&(d(0,"div")(1,"ul",3),x(2,rL,2,2,"li",4),u()()),n&2){let e=w().ngIf;m(2),y("ngForOf",e)}}function oL(n,t){if(n&1&&(at(0),x(1,iL,3,1,"div",2),lt()),n&2){let e=t.ngIf;w();let r=Fe(3);m(),y("ngIf",e.length>0)("ngIfElse",r)}}function sL(n,t){n&1&&(d(0,"p",7),p(1,"Nenhum dado registrado."),u())}function aL(n,t){if(n&1&&(d(0,"div"),x(1,oL,2,2,"ng-container",1)(2,sL,2,0,"ng-template",null,0,Zn),u()),n&2){let e=w();m(),y("ngIf",e.sortedMeals())}}var Cf=class n{constructor(t,e){this.historyService=t;this.autoSave=e}date;snapshot;importedFoods=[];shouldSave=!1;ngOnInit(){this.autoSave.register(()=>this.saveData(),()=>this.shouldSave)}ngOnDestroy(){this.autoSave.unregister(()=>this.saveData()),this.saveData()}sortedMeals(){return this.snapshot?.executed?.meals?.sort((t,e)=>t.time.localeCompare(e.time))??[]}deleteMeal(t){this.snapshot?.executed&&(this.snapshot.executed.meals.splice(t,1),this.shouldSave=!0)}mealChanged(t,e){this.snapshot?.executed&&(this.snapshot.executed.meals[t]=M({},e),this.snapshot.executed.meals.sort((r,i)=>r.time.localeCompare(i.time)),this.shouldSave=!0)}saveData(){this.snapshot&&this.snapshot.executed&&this.historyService.saveExecutedPlan(this.date,this.snapshot.executed)}static \u0275fac=function(e){return new(e||n)(b($n),b(yr))};static \u0275cmp=R({type:n,selectors:[["record-day"]],inputs:{date:"date",snapshot:"snapshot",importedFoods:"importedFoods"},decls:1,vars:1,consts:[["noData",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"list-group"],["class","list-group-item px-2 px-sm-3",4,"ngFor","ngForOf"],[1,"list-group-item","px-2","px-sm-3"],[3,"deleteMeal","mealChanged","meal","foodList"],[1,"no-data"]],template:function(e,r){e&1&&x(0,aL,4,1,"div",1),e&2&&y("ngIf",r.snapshot)},dependencies:[L,ve,W,br],encapsulation:2})};var lL=["metrics"],Ef=class n{constructor(t,e){this.eStorage=t;this.db=e}selectedDate=new Date().toLocaleDateString("en-CA");activeTab="records";metrics;allHistory=[];importedFoods=[];currentSnapshot;ngOnInit(){return _(this,null,function*(){this.allHistory=this.eStorage.getRecords().reverse(),this.importedFoods=(yield this.db.getAll("foods"))??[],this.setCurrentSnapshot(this.selectedDate)})}recalc(){this.metrics.calculateMetrics()}onDateChange(t){let e=t.target.value;this.selectedDate=e,this.setCurrentSnapshot(e)}setCurrentSnapshot(t){let e=this.allHistory.find(r=>r.date===t);this.currentSnapshot=e??{date:t,planned:new Si(t,[]),executed:void 0}}static \u0275fac=function(e){return new(e||n)(b(Ae),b($e))};static \u0275cmp=R({type:n,selectors:[["record-viewer"]],viewQuery:function(e,r){if(e&1&&Be(lL,5),e&2){let i;le(i=ce())&&(r.metrics=i.first)}},decls:17,vars:18,consts:[["metrics",""],[1,"container","mt-2"],[1,"nav","nav-tabs"],[1,"nav-item"],["type","button",1,"nav-link",3,"click"],[1,"tab-content","mt-3"],[1,"tab-pane","fade"],[1,"my-3"],["type","date",1,"form-control",3,"change","value"],[3,"ngSwitch"],[3,"date","snapshot","importedFoods"],[3,"history"]],template:function(e,r){if(e&1){let i=V();d(0,"div",1)(1,"ul",2)(2,"li",3)(3,"button",4),C("click",function(){return D(i),S(r.activeTab="records")}),p(4," Registros "),u()(),d(5,"li",3)(6,"button",4),C("click",function(){return D(i),r.activeTab="metrics",S(r.recalc())}),p(7," M\xE9tricas "),u()()(),d(8,"div",5)(9,"div",6)(10,"div",7)(11,"input",8),C("change",function(s){return D(i),S(r.onDateChange(s))}),u()(),at(12,9),I(13,"record-day",10),lt(),u(),d(14,"div",6),I(15,"metrics-panel",11,0),u()()()}e&2&&(m(3),q("active",r.activeTab==="records"),m(3),q("active",r.activeTab==="metrics"),m(3),q("active",r.activeTab==="records")("show",r.activeTab==="records"),m(2),y("value",r.selectedDate),m(),y("ngSwitch",r.selectedDate),m(),y("date",r.selectedDate)("snapshot",r.currentSnapshot)("importedFoods",r.importedFoods),m(),q("active",r.activeTab==="metrics")("show",r.activeTab==="metrics"),m(),y("history",r.allHistory))},dependencies:[L,Xw,Cf,wf],encapsulation:2})};function cL(n,t){if(n&1){let e=V();d(0,"meal-edit",11),C("mealChanged",function(i){D(e);let o=w();return S(o.mealChanged(i))}),u()}if(n&2){let e=w();y("meal",e.meal)("profileData",e.profileData)("foodList",e.importedFoods)}}var Df=class n{constructor(t,e,r,i,o,s){this.route=t;this.router=e;this.dataService=r;this.eStorage=i;this.planRecordService=o;this.dbservice=s}meal;profileData;selectedDay="";importedFoods=[];selectedDateRecordPlan;ngOnInit(){return _(this,null,function*(){let e=this.router.getCurrentNavigation()?.extras?.state??history.state;if(this.importedFoods=(yield this.dbservice.getAll("foods"))||[],this.meal=e?.meal,this.selectedDay=e?.date,console.log("Paremeters",this.meal,this.selectedDay),!this.meal||!this.selectedDay){console.warn("Dados incompletos recebidos. Redirecionando..."),this.router.navigate(["/meal-plan"],{replaceUrl:!0});return}this.updateRecord(),console.log("Editing meal for:",this.selectedDay)})}updateRecord(){this.selectedDateRecordPlan=this.eStorage.getRecord(this.selectedDay)?.executed}cancelar(){this.router.navigate(["/meal-plan"],{replaceUrl:!0})}confirmar(){this.addMealToExecution(this.meal),this.router.navigate(["/meal-plan"],{replaceUrl:!0})}addMealToExecution(t){let e=this.selectedDay;console.log("day",e),this.planRecordService.ensureDailyRecordExists(e);let r=this.eStorage.getRecord(e);if(!r){console.warn(`Nenhum plano dispon\xEDvel para ${e}`);return}let i=r.executed??new Si(e,[]);if(i.meals.some(a=>a.name===t.name)){console.log(`A refei\xE7\xE3o "${t.name}" j\xE1 est\xE1 registrada na execu\xE7\xE3o.`);return}let s=JSON.parse(JSON.stringify(t));i.meals.push(s),this.planRecordService.saveExecutedPlan(e,i),console.log(`Refei\xE7\xE3o "${t.name}" adicionada \xE0 execu\xE7\xE3o.`)}onDateChange(t){console.log(t),this.selectedDay=t.target.value,this.updateRecord(),console.log("Data selecionada alterada para:",this.selectedDay)}isMealMarkedOnRecord(t){if(!this.selectedDateRecordPlan)return!1;let e=this.selectedDateRecordPlan.meals.some(r=>r.name===t.name);return console.log(t.name,e),e}isFutureDate(){return new Date(this.selectedDay).setHours(0,0,0,0)>new Date().setHours(0,0,0,0)}mealChanged(t){this.meal=M({},t)}static \u0275fac=function(e){return new(e||n)(b(cn),b(Ie),b(Ce),b(Ae),b($n),b($e))};static \u0275cmp=R({type:n,selectors:[["record-meal-editor"]],features:[me([Ce])],decls:15,vars:3,consts:[[1,"container","mt-3"],["for","datePicker"],[1,"mb-3"],["id","datePicker","type","date",1,"form-control",3,"change","value"],[1,"list-group"],[1,"list-group-item","px-2","px-sm-3"],[3,"meal","profileData","foodList","mealChanged",4,"ngIf"],[1,"row","mt-3","gx-3"],[1,"col"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[3,"mealChanged","meal","profileData","foodList"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"label",1),p(2,"Selecione o dia da refei\xE7\xE3o:"),u(),d(3,"div",2)(4,"input",3),C("change",function(o){return r.onDateChange(o)}),u()(),d(5,"ul",4)(6,"li",5),x(7,cL,1,3,"meal-edit",6),u()(),d(8,"div",7)(9,"div",8)(10,"button",9),C("click",function(){return r.cancelar()}),p(11,"Cancelar"),u()(),d(12,"div",8)(13,"button",10),C("click",function(){return r.confirmar()}),p(14,"Registrar"),u()()()()),e&2&&(m(4),y("value",r.selectedDay),m(3),y("ngIf",r.meal),m(6),y("disabled",r.isMealMarkedOnRecord(r.meal)||r.isFutureDate()))},dependencies:[L,W,br],encapsulation:2})};var Sf=class n{balance(t,e){let r=t.map(a=>({food:a,grams:100})),i=0,o=100,s=1;for(;i<o;){let a=this.calculateTotals(r),l={protein:e.protein-a.protein,carbs:e.carbs-a.carbs,fat:e.fat-a.fat,fiber:e.fiber-a.fiber};if(Math.abs(l.protein)+Math.abs(l.carbs)+Math.abs(l.fat)+Math.abs(l.fiber)<s)break;for(let f of r){let h=f.food,g=(h.macrosPer100g.protein*l.protein+h.macrosPer100g.carbs*l.carbs+h.macrosPer100g.fat*l.fat+h.macrosPer100g.fiber*l.fiber)*.02;f.grams+=g,f.grams<0&&(f.grams=0)}i++}return r}calculateTotals(t){return t.reduce((e,r)=>(e.protein+=r.food.macrosPer100g.protein*r.grams/100,e.carbs+=r.food.macrosPer100g.carbs*r.grams/100,e.fat+=r.food.macrosPer100g.fat*r.grams/100,e.fiber+=r.food.macrosPer100g.fiber*r.grams/100,e.calories+=r.food.macrosPer100g.calories*r.grams/100,e),{protein:0,carbs:0,fat:0,fiber:0,calories:0})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function dL(n,t){n&1&&(d(0,"div",9)(1,"div",10)(2,"div"),I(3,"i",11),p(4," Adicione alimentos para usar o balanceador. "),u()()())}function fL(n,t){if(n&1){let e=V();d(0,"div",1)(1,"div",12)(2,"div",13)(3,"span",14),p(4),u(),d(5,"button",15),C("click",function(){let i=D(e).$implicit,o=w();return S(o.removePortion(i))}),I(6,"i",16),u()(),d(7,"input",17),Z("ngModelChange",function(i){let o=D(e).$implicit;return ee(o.grams,i)||(o.grams=i),S(i)}),C("change",function(){let i=D(e).$implicit,o=w();return S(o.onSliderChange(i))}),u(),d(8,"div",18)(9,"small"),p(10),Y(11,"number"),u()()()()}if(n&2){let e=t.$implicit;m(4),ne(e.food.name),m(3),K("ngModel",e.grams),m(3),F("",J(11,3,e.grams,"1.0-0")," g")}}var If=class n{constructor(t,e,r){this.service=t;this.dbservice=e;this.balancer=r}importedFoods=[];selectedFoods=[];foods=[];removePortion(t){this.portions=this.portions.filter(e=>e!==t),this.recalculate()}targets={protein:0,carbs:0,fat:0,fiber:0};portions=[];totals={protein:0,carbs:0,fat:0,fiber:0,calories:0};ngOnInit(){return _(this,null,function*(){this.importedFoods=(yield this.dbservice.getAll("foods"))||[],this.recalculate()})}toFood(t){return{id:t.id,name:t.description,macrosPer100g:{protein:t.protein,carbs:t.carbs,fat:t.fat,fiber:t.fibers,calories:t.calories}}}onFoodSelected(t){let e=t;this.selectedFoods.push(e),this.foods.push(this.toFood(e));let r={food:this.toFood(e),grams:0};this.portions.push(r)}onSliderChange(t){let e=t.food,r=this.portions.filter(a=>a.food.id!==e.id),i=t.grams,o={protein:this.targets.protein-e.macrosPer100g.protein*i/100,carbs:this.targets.carbs-e.macrosPer100g.carbs*i/100,fat:this.targets.fat-e.macrosPer100g.fat*i/100,fiber:this.targets.fiber-e.macrosPer100g.fiber*i/100},s=this.balancer.balance(r.map(a=>a.food),o);for(let a of this.portions)if(a.food.id===e.id)a.grams=i;else{let l=s.find(c=>c.food.id===a.food.id);l&&(a.grams=l.grams)}this.totals=this.balancer.calculateTotals(this.portions)}recalculate(){this.portions=this.balancer.balance(this.foods,this.targets),this.totals=this.balancer.calculateTotals(this.portions)}static \u0275fac=function(e){return new(e||n)(b(Ce),b($e),b(Sf))};static \u0275cmp=R({type:n,selectors:[["app-meal-balancer"]],decls:46,vars:31,consts:[[1,"row","g-2"],[1,"col-6"],[1,"form-label"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-2"],[3,"foodSelected","allFoods"],["class","col-12",4,"ngIf"],["class","col-6",4,"ngFor","ngForOf"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"col-12"],["role","alert",1,"alert","alert-warning","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-dumbbell","me-2"],[1,"border","rounded","p-2","h-100"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],["type","range","min","0","max","500",1,"form-range",3,"ngModelChange","change","ngModel"],[1,"text-end"]],template:function(e,r){e&1&&(d(0,"h4"),p(1,"Metas Nutricionais"),u(),d(2,"div",0)(3,"div",1)(4,"label",2),p(5,"Prote\xEDna (g)"),u(),d(6,"input",3),Z("ngModelChange",function(o){return ee(r.targets.protein,o)||(r.targets.protein=o),o}),u()(),d(7,"div",1)(8,"label",2),p(9,"Carboidratos (g)"),u(),d(10,"input",3),Z("ngModelChange",function(o){return ee(r.targets.carbs,o)||(r.targets.carbs=o),o}),u()(),d(11,"div",1)(12,"label",2),p(13,"Gorduras (g)"),u(),d(14,"input",3),Z("ngModelChange",function(o){return ee(r.targets.fat,o)||(r.targets.fat=o),o}),u()(),d(15,"div",1)(16,"label",2),p(17,"Fibras (g)"),u(),d(18,"input",3),Z("ngModelChange",function(o){return ee(r.targets.fiber,o)||(r.targets.fiber=o),o}),u()()(),I(19,"hr"),d(20,"div",4)(21,"food-search",5),C("foodSelected",function(o){return r.onFoodSelected(o)}),u()(),d(22,"div",0),x(23,dL,5,0,"div",6)(24,fL,12,6,"div",7),u(),I(25,"hr"),d(26,"h3"),p(27,"Totais:"),u(),d(28,"ul")(29,"li"),p(30),Y(31,"number"),u(),d(32,"li"),p(33),Y(34,"number"),u(),d(35,"li"),p(36),Y(37,"number"),u(),d(38,"li"),p(39),Y(40,"number"),u(),d(41,"li"),p(42),Y(43,"number"),u()(),d(44,"button",8),C("click",function(){return r.recalculate()}),p(45,"Recalcular"),u()),e&2&&(m(6),K("ngModel",r.targets.protein),m(4),K("ngModel",r.targets.carbs),m(4),K("ngModel",r.targets.fat),m(4),K("ngModel",r.targets.fiber),m(3),y("allFoods",r.importedFoods),m(2),y("ngIf",r.portions.length==0),m(),y("ngForOf",r.portions),m(6),We("Prote\xEDna: ",J(31,16,r.totals.protein,"1.0-1")," g (Meta: ",r.targets.protein,")"),m(3),We("Carboidratos: ",J(34,19,r.totals.carbs,"1.0-1")," g (Meta: ",r.targets.carbs,")"),m(3),We("Gorduras: ",J(37,22,r.totals.fat,"1.0-1")," g (Meta: ",r.targets.fat,")"),m(3),We("Fibras: ",J(40,25,r.totals.fiber,"1.0-1")," g (Meta: ",r.targets.fiber,")"),m(3),F("Calorias: ",J(43,28,r.totals.calories,"1.0-1")," kcal"))},dependencies:[L,ve,W,ln,he,Te,kt,Ml,Me,je,Ws],encapsulation:2})};function pL(n,t){if(n&1&&(d(0,"option",11),p(1),u()),n&2){let e=t.$implicit;y("value",e.name),m(),ne(e.name)}}function hL(n,t){if(n&1){let e=V();d(0,"div",7)(1,"label",8),p(2,"Selecione uma refei\xE7\xE3o:"),u(),d(3,"select",9),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.selectedMealId,i)||(o.selectedMealId=i),S(i)}),C("ngModelChange",function(){D(e);let i=w();return S(i.onMealChange())}),x(4,pL,2,2,"option",10),u()()}if(n&2){let e=w();m(3),K("ngModel",e.selectedMealId),m(),y("ngForOf",e.todayMeals)}}function mL(n,t){if(n&1){let e=V();d(0,"div",7)(1,"label",8),p(2,"Defina os valores:"),u(),d(3,"div",12)(4,"div",13)(5,"input",14),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.manualTargets.protein,i)||(o.manualTargets.protein=i),S(i)}),C("input",function(){D(e);let i=w();return S(i.onManualChange())}),u()(),d(6,"div",13)(7,"input",15),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.manualTargets.carbs,i)||(o.manualTargets.carbs=i),S(i)}),C("input",function(){D(e);let i=w();return S(i.onManualChange())}),u()(),d(8,"div",13)(9,"input",16),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.manualTargets.fat,i)||(o.manualTargets.fat=i),S(i)}),C("input",function(){D(e);let i=w();return S(i.onManualChange())}),u()(),d(10,"div",13)(11,"input",17),Z("ngModelChange",function(i){D(e);let o=w();return ee(o.manualTargets.fiber,i)||(o.manualTargets.fiber=i),S(i)}),C("input",function(){D(e);let i=w();return S(i.onManualChange())}),u()()()()}if(n&2){let e=w();m(5),K("ngModel",e.manualTargets.protein),m(2),K("ngModel",e.manualTargets.carbs),m(2),K("ngModel",e.manualTargets.fat),m(2),K("ngModel",e.manualTargets.fiber)}}var xf=class n{constructor(t,e){this.metricsService=t;this.eStorage=e}todayMeals=[];referenceSelected=new H;todayPlan;selectedSource="manual";selectedMealId=null;manualTargets=new In(0,0,0,0,0);dayRemain=new In(0,0,0,0,0);dayTotals=new In(0,0,0,0,0);ngOnInit(){this.todayPlan=this.eStorage.getRecord(new Date().toLocaleDateString("en-CA"))||void 0,this.todayMeals=this.todayPlan?.planned.meals||[];let t=this.metricsService.sumMeals(this.todayPlan?.planned.meals||[]),e=this.metricsService.sumMeals(this.todayPlan?.executed?.meals||[]);this.dayTotals=t,this.dayRemain=new In(t.calories-e.calories,t.protein-e.protein,t.carbs-e.carbs,t.fat-e.fat,t.fiber-e.fiber),this.propagateReference()}onSourceChange(){this.selectedSource==="manual"&&(this.manualTargets=new In(0,0,0,0,0)),this.selectedSource==="meal"&&(this.selectedMealId=this.todayMeals[0]?.name??null),this.propagateReference()}onManualChange(){this.selectedSource==="manual"&&this.referenceSelected.emit(M({},this.manualTargets))}onMealChange(){this.selectedSource==="meal"&&this.propagateReference()}propagateReference(){let t;switch(this.selectedSource){case"manual":t=M({},this.manualTargets);break;case"meal":let e=this.todayMeals.find(r=>r.name===this.selectedMealId);t=this.metricsService.sumMeals(e?[e]:[]);break;case"totalDay":t=M({},this.dayTotals);break;case"remainingDay":t=M({},this.dayRemain);break;default:t=new In(0,0,0,0,0)}this.manualTargets=t,this.referenceSelected.emit(t)}getReferenceLabel(t){switch(t){case"manual":return"Refei\xE7\xE3o Livre";case"meal":return"Refei\xE7\xE3o do Plano";case"totalDay":return"Totais do Dia";case"remainingDay":return"Restante do Dia";default:return"Selecione"}}setReference(t){this.selectedSource=t,t==="manual"&&(this.manualTargets=new In(0,0,0,0,0)),t==="meal"&&(this.selectedMealId=this.todayMeals[0]?.name??null),this.propagateReference()}static \u0275fac=function(e){return new(e||n)(b(ut),b(Ae))};static \u0275cmp=R({type:n,selectors:[["nutrition-reference-selector"]],inputs:{todayMeals:"todayMeals"},outputs:{referenceSelected:"referenceSelected"},decls:20,vars:5,consts:[[1,"my-2"],[1,"dropdown","mb-3","w-100"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-outline-secondary","w-100","dropdown-toggle","text-start"],[1,"dropdown-menu","w-100"],[1,"dropdown-item",3,"click"],["class","mb-3",4,"ngIf"],[3,"data","showFibers"],[1,"mb-3"],[1,"form-label"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"row","g-2"],[1,"col-6"],["type","number","placeholder","Prote\xEDna (g)",1,"form-control",3,"ngModelChange","input","ngModel"],["type","number","placeholder","Carboidratos (g)",1,"form-control",3,"ngModelChange","input","ngModel"],["type","number","placeholder","Gorduras (g)",1,"form-control",3,"ngModelChange","input","ngModel"],["type","number","placeholder","Fibras (g)",1,"form-control",3,"ngModelChange","input","ngModel"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"button",2),p(3),u(),d(4,"ul",3)(5,"li")(6,"a",4),C("click",function(){return r.setReference("manual")}),p(7,"Refei\xE7\xE3o Livre"),u()(),d(8,"li")(9,"a",4),C("click",function(){return r.setReference("meal")}),p(10,"Refei\xE7\xE3o do Plano"),u()(),d(11,"li")(12,"a",4),C("click",function(){return r.setReference("totalDay")}),p(13,"Totais do Dia"),u()(),d(14,"li")(15,"a",4),C("click",function(){return r.setReference("remainingDay")}),p(16,"Restante do Dia"),u()()()()(),x(17,hL,5,2,"div",5)(18,mL,12,4,"div",5),I(19,"macros-display",6)),e&2&&(m(3),F(" ",r.getReferenceLabel(r.selectedSource)," "),m(14),y("ngIf",r.selectedSource==="meal"),m(),y("ngIf",r.selectedSource==="manual"),m(),y("data",r.manualTargets)("showFibers",!0))},dependencies:[L,ve,W,he,Vn,jn,Te,kt,dn,Me,je,_r],encapsulation:2})};function gL(n,t){if(n&1){let e=V();d(0,"meal-edit",4),C("deleteMeal",function(){D(e);let i=w();return S(i.deleteMeal(0))})("mealChanged",function(i){D(e);let o=w();return S(o.mealChanged(0,i))}),u()}if(n&2){let e=w();y("meal",e.meals[0])("foodList",e.importedFoods)}}function vL(n,t){if(n&1){let e=V();d(0,"meal-edit",4),C("deleteMeal",function(){D(e);let i=w();return S(i.deleteMeal(1))})("mealChanged",function(i){D(e);let o=w();return S(o.mealChanged(1,i))}),u()}if(n&2){let e=w();y("meal",e.meals[1])("foodList",e.importedFoods)}}var Tf=class n{constructor(t){this.dbservice=t}importedFoods=[];meals=[new Sn("Refei\xE7\xE3o 1","11:00",[]),new Sn("Refei\xE7\xE3o 2","11:00",[])];ngOnInit(){return _(this,null,function*(){this.importedFoods=(yield this.dbservice.getAll("foods"))||[]})}deleteMeal(t){}mealChanged(t,e){}onReferenceSelected(t){}static \u0275fac=function(e){return new(e||n)(b($e))};static \u0275cmp=R({type:n,selectors:[["meal-comparer"]],features:[me([Ce])],decls:6,vars:3,consts:[[1,"list-group"],[1,"list-group-item","px-2","px-sm-3"],[3,"referenceSelected","todayMeals"],[3,"meal","foodList","deleteMeal","mealChanged",4,"ngIf"],[3,"deleteMeal","mealChanged","meal","foodList"]],template:function(e,r){e&1&&(d(0,"ul",0)(1,"li",1)(2,"nutrition-reference-selector",2),C("referenceSelected",function(o){return r.onReferenceSelected(o)}),u(),x(3,gL,1,2,"meal-edit",3),u(),d(4,"li",1),x(5,vL,1,2,"meal-edit",3),u()()),e&2&&(m(2),y("todayMeals",r.meals),m(),y("ngIf",r.meals[0]),m(2),y("ngIf",r.meals[1]))},dependencies:[Dt,he,L,W,br,xf],encapsulation:2})};var Mf={hash:"ICGJDNN2",buildTime:"2025-07-07T04:23:46.050Z"};var Af=class n{version=Mf.hash;commit=Mf.buildTime;buildTime=Mf.buildTime;static \u0275fac=function(e){return new(e||n)};static \u0275cmp=R({type:n,selectors:[["app-version"]],decls:2,vars:1,consts:[[1,"small","text-center"]],template:function(e,r){e&1&&(d(0,"div",0),p(1),u()),e&2&&(m(),F(" Version: ",r.version,`
`))},encapsulation:2})};function yL(n,t){if(n&1&&(d(0,"div",3),p(1),u()),n&2){let e=w();m(),F(" \u{1F7E2} App instalado como PWA (",e.platform.os(),`)
`)}}function _L(n,t){if(n&1&&(d(0,"div",4),p(1),u()),n&2){let e=w();m(),F(" \u{1F7E1} Rodando no navegador (",e.platform.os(),`)
`)}}var Nf=class n{constructor(t){this.platform=t}static \u0275fac=function(e){return new(e||n)(b(qs))};static \u0275cmp=R({type:n,selectors:[["system-detect"]],decls:12,vars:6,consts:[["class","badge bg-success",4,"ngIf"],["class","badge bg-warning text-dark",4,"ngIf"],[1,"mt-3"],[1,"badge","bg-success"],[1,"badge","bg-warning","text-dark"]],template:function(e,r){e&1&&(x(0,yL,2,1,"div",0)(1,_L,2,1,"div",1),d(2,"div",2)(3,"p"),p(4),u(),d(5,"p"),p(6),u(),d(7,"p"),p(8),u(),d(9,"p"),p(10),u()(),I(11,"app-version")),e&2&&(y("ngIf",r.platform.isStandalone()),m(),y("ngIf",!r.platform.isStandalone()),m(3),F("OS: ",r.platform.os(),""),m(2),F("Mobile: ",r.platform.isMobile(),""),m(2),F("Desktop: ",r.platform.isDesktop(),""),m(2),F("Touch: ",r.platform.isTouch(),""))},dependencies:[L,W,Af],encapsulation:2})};var kf=class n{constructor(t,e,r,i){this.supabase=t;this.auth=e;this.eStorage=r;this.records=i}syncing=Je(!1);lastSync=Je(localStorage.getItem("lastSyncDate"));logs=Je([]);log(t){this.logs.update(e=>[...e,t])}pull(){return _(this,null,function*(){this.syncing.set(!0),this.log("\u{1F53D} Iniciando download dos dados...");let t=this.auth.getCurrentUser()?.id;if(!t)throw new Error("User not authenticated");let e=this.lastSync()||"1970-01-01";console.log("Buscando dados mais recentes que:",e);let{data:r,error:i}=yield this.supabase.from("user_data").select("*").eq("user_id",t).gte("updated_at",e);if(i)throw this.log("\u274C Erro no download: "+i.message),i;this.log(JSON.stringify(r)),this.log(`\u2705 Download conclu\xEDdo: ${r?.length??0} registros.`);let o=new Date().toISOString();return localStorage.setItem("lastSyncDate",o),this.lastSync.set(o),this.syncing.set(!1),r})}push(t,e,r){return _(this,null,function*(){let i=this.auth.getCurrentUser()?.id;if(!i)throw new Error("User not authenticated");let o=this.eStorage.getEntityUpdatedAt(t,e)||new Date().toISOString(),{data:s,error:a}=yield this.supabase.from("user_data").select("updated_at").eq("user_id",i).eq("entity",t).eq("key",e).maybeSingle();if(a)throw a;let l=s?.updated_at;if(!l||new Date(o)>new Date(l)){let{error:c}=yield this.supabase.from("user_data").upsert({user_id:i,entity:t,key:e,data:r,updated_at:o},{onConflict:"user_id,entity,key"});if(c)throw c;this.log(`\u2601\uFE0F Upload de ${t}/${e} conclu\xEDdo.`)}else this.log(`\u23ED\uFE0F Dados de ${t}/${e} ignorados (servidor mais recente).`)})}delete(t,e){return _(this,null,function*(){let r=this.auth.getCurrentUser()?.id;if(!r)throw new Error("User not authenticated");let{error:i}=yield this.supabase.from("user_data").delete().eq("user_id",r).eq("entity",t).eq("key",e);if(i)throw i;this.log(`\u{1F5D1}\uFE0F Dados de ${t}/${e} deletados do servidor.`)})}syncAll(t){return _(this,null,function*(){this.logs.set([]),this.log("\u{1F680} Iniciando sincroniza\xE7\xE3o...");let e=yield this.auth.getSession();if(!e.data.session)throw this.log("\u274C Sess\xE3o expirada. Fa\xE7a login novamente."),new Error("Sess\xE3o expirada");this.log(`\u{1F510} Usu\xE1rio autenticado como: ${e.data.session.user.email}`);for(let o of Object.keys(t)){let s=t[o];if(s)for(let a of Object.keys(s))yield this.push(o,a,s[a])}let r=yield this.pull(),i={};for(let o of r){let s=this.eStorage.getEntityUpdatedAt(o.entity,o.key);if(!s||new Date(o.updated_at)>new Date(s)){switch(this.log(`\u2B07\uFE0F Atualizando ${o.entity}/${o.key} com dados do servidor.`),o.entity){case"workouts":console.log("TENTANDO PERSISTIR:",o),this.eStorage.setWorkouts(o.data);break;case"meal-plans":console.log("TENTANDO PERSISTIR:",o),this.eStorage.setPlans(o.data);break;case"profileData":console.log("TENTANDO PERSISTIR:",o),this.eStorage.setProfile(o.data);break;case"water-intake":console.log("TENTANDO PERSISTIR:",o),this.eStorage.setWater(o.data);break;case"plan-history":console.log("TENTANDO PERSISTIR:",o),this.eStorage.setRecord(o.data);break}i[o.entity]||(i[o.entity]={}),i[o.entity][o.key]=o.data}else{this.log(`\u2705 Mantendo dados locais de ${o.entity}/${o.key} (mais recentes).`);let a=t[o.entity]?.[o.key]??null;a&&(i[o.entity]||(i[o.entity]={}),i[o.entity][o.key]=a)}}return this.log("\u{1F3AF} Sincroniza\xE7\xE3o finalizada."),i})}resetSync(){localStorage.removeItem("lastSyncDate"),this.lastSync.set(null),this.logs.set([]),this.log("\u{1F504} Hist\xF3rico de sincroniza\xE7\xE3o resetado.")}static \u0275fac=function(e){return new(e||n)(O(Dn),O(jt),O(Ae),O($n))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function wL(n,t){n&1&&(d(0,"div",21),I(1,"i",22),p(2," Sincronizado "),u())}function CL(n,t){n&1&&(d(0,"div",23),I(1,"i",24),p(2," Sincronizando... "),u())}function EL(n,t){n&1&&(d(0,"div",25),I(1,"i",26),p(2," Erro na sincroniza\xE7\xE3o "),u())}function DL(n,t){if(n&1&&(d(0,"div",27),p(1),u()),n&2){let e=t.$implicit;m(),F(" ",e," ")}}var Ff=class n{constructor(t,e){this.sync=t;this.eStorage=e}test=[1,2,3,4,5];status=Je("idle");getSyncDate(){return this.sync.lastSync()}resetSync(){this.sync.resetSync(),this.status.set("idle")}syncNow(){return _(this,null,function*(){this.status.set("syncing");try{let t=this.eStorage.getRecords(),e={};for(let o of t)e[o.date]=o;let r=[["workouts",{main:this.eStorage.getWorkouts()}],["meal-plans",{main:this.eStorage.getPlans()}],["water-intake",{main:this.eStorage.getWater()}],["profileData",{main:this.eStorage.getProfile()}],["plan-history",e]],i=Object.fromEntries(r.filter(([o,s])=>Object.values(s).some(a=>Array.isArray(a)?a.length>0:a!=null)));console.log("DADOS LOCAIS N\xC2O NULOS",i),this.sync.logs.set([]),this.sync.log("\u{1F527} Preparando dados para sincroniza\xE7\xE3o..."),yield this.sync.syncAll(i),this.status.set("idle")}catch(t){console.error("Erro na sincroniza\xE7\xE3o:",t),this.sync.log("\u274C Erro na sincroniza\xE7\xE3o: "+t.message),this.status.set("error")}})}resetData(){this.sync.log("\u{1F5D1}\uFE0F Dados locais deletados.")}static \u0275fac=function(e){return new(e||n)(b(kf),b(Ae))};static \u0275cmp=R({type:n,selectors:[["sync-status"]],decls:44,vars:9,consts:[[1,"card","p-3","mb-3","shadow-sm"],[1,"mb-2"],[1,"fas","fa-sync-alt","me-1"],["class","text-success",4,"ngIf"],["class","text-primary",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"small","mt-2"],[1,"fw-semibold"],[1,"bg-light","rounded","mt-3","p-2",2,"max-height","200px","overflow-y","auto"],["class","small",4,"ngFor","ngForOf"],[1,"row","g-2","my-2"],[1,"col-12","col-md-3"],[1,"btn","btn-success","w-100",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"col-6","col-md-3"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"fas","fa-trash"],[1,"dropdown","w-100"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-outline-secondary","w-100","dropdown-toggle"],[1,"dropdown-menu","w-100"],[1,"dropdown-item",3,"click"],[1,"text-success"],[1,"fas","fa-check-circle"],[1,"text-primary"],[1,"fas","fa-spinner","fa-spin"],[1,"text-danger"],[1,"fas","fa-exclamation-circle"],[1,"small"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h6",1),I(2,"i",2),p(3," Sincroniza\xE7\xE3o de Dados "),u(),x(4,wL,3,0,"div",3)(5,CL,3,0,"div",4)(6,EL,3,0,"div",5),d(7,"div",6),p(8," \xDAltima sync: "),d(9,"span",7),p(10),Y(11,"date"),u()(),d(12,"div",8),x(13,DL,2,1,"div",9),u(),d(14,"div",10)(15,"div",11)(16,"button",12),C("click",function(){return r.syncNow()}),I(17,"i",13),p(18," Sincronizar "),u()(),d(19,"div",14)(20,"button",15),C("click",function(){return r.resetSync()}),I(21,"i",16),p(22," Resetar Sync "),u()(),d(23,"div",14)(24,"div",17)(25,"button",18),I(26,"i",16),p(27," Deletar Dados "),u(),d(28,"ul",19)(29,"li")(30,"a",20),C("click",function(){return r.eStorage.clearProfile(),r.resetData()}),p(31,"Perfil"),u()(),d(32,"li")(33,"a",20),C("click",function(){return r.eStorage.clearPlans(),r.resetData()}),p(34,"Planos"),u()(),d(35,"li")(36,"a",20),C("click",function(){return r.eStorage.clearWorkouts(),r.resetData()}),p(37,"Ficha de treino"),u()(),d(38,"li")(39,"a",20),C("click",function(){return r.eStorage.clearWater(),r.resetData()}),p(40,"\xC1gua"),u()(),d(41,"li")(42,"a",20),C("click",function(){return r.eStorage.clearRecords(),r.resetData()}),p(43,"Recordat\xF3rio"),u()()()()()()()),e&2&&(m(4),y("ngIf",r.status()==="idle"),m(),y("ngIf",r.status()==="syncing"),m(),y("ngIf",r.status()==="error"),m(4),F(" ",r.getSyncDate()?J(11,6,r.getSyncDate(),"short"):"Nunca"," "),m(3),y("ngForOf",r.sync.logs()),m(3),y("disabled",r.status()==="syncing"))},dependencies:[L,ve,W,ls],encapsulation:2})};var Qs=class n{constructor(t,e,r,i){this.dbService=t;this.auth=e;this.supabase=r;this.eStorage=i;let o=this.eStorage.getEntityUpdatedAt("foods");this.lastSync=Je(o)}syncing=Je(!1);lastSync;logs=Je([]);log(t){this.logs.update(e=>[...e,t])}sync(){return _(this,null,function*(){let t=yield this.auth.getSession();if(!t.data.session)throw this.log("\u274C Sess\xE3o expirada. Fa\xE7a login novamente."),new Error("Sess\xE3o expirada");this.log(`\u{1F510} Usu\xE1rio autenticado como: ${t.data.session.user.email}`);let e=this.getLastSync(),r=(yield this.auth.getSession()).data.session?.user.role;if(this.log(`\u{1F504} \xDAltima sync: ${e.toISOString()}`),r?.toLowerCase().includes("auth")){let o=yield this.dbService.getAll("foods");this.log(`\u{1F4E6} Alimentos locais: ${o.length}`);let s=o.filter(c=>new Date(c.updatedAt||e)>e);this.log(`\u{1F680} Enviando ${s.length} alimentos para o backend`);for(let c of s){let i=c,{imageUrl:f,homeMeasures:h}=i,v=Yf(i,["imageUrl","homeMeasures"]),{data:g,error:E}=yield this.supabase.from("foods").upsert(v,{onConflict:"id"});E?this.log(`\u274C Falha ao enviar: ${c.description} - ${E.message}`):this.log(`\u2714\uFE0F Enviado: ${c.description}`)}let{data:a,error:l}=yield this.supabase.from("foods").select("*").gt("updatedAt",e.toISOString());if(l)throw this.log("\u274C Erro ao buscar dados do backend"),l;this.log(`\u2B07\uFE0F Recebidos ${a?.length??0} alimentos do backend`);for(let c of a??[])yield this.dbService.update("foods",ie(M({},c),{updatedAt:c.updatedAt})),this.log(`\u2714\uFE0F Atualizado local: ${c.description}`)}this.setLastSync(new Date),this.log(`\u2705 Sync finalizada \xE0s ${new Date().toLocaleString()}`)})}syncIfNeeded(){return _(this,null,function*(){let t=this.getLastSync(),i=(new Date().getTime()-t.getTime())/(1e3*60*60);i>6?(console.log("\u23F3 Iniciando sincroniza\xE7\xE3o autom\xE1tica..."),yield this.sync()):console.log(`\u23F8\uFE0F \xDAltima sincroniza\xE7\xE3o foi h\xE1 ${i.toFixed(1)} horas. Pulando sync.`)})}getLastSync(){return new Date(this.eStorage.getEntityUpdatedAt("foods")||"1970-01-01T00:00:00Z")}setLastSync(t){this.eStorage.setEntityUpdatedAt("foods")}resetSync(){this.eStorage.clearEntityUpdatedAt("foods"),this.lastSync.set(null),this.logs.set([]),this.log("\u{1F504} Hist\xF3rico de sincroniza\xE7\xE3o resetado.")}static \u0275fac=function(e){return new(e||n)(O($e),O(jt),O(Dn),O(Ae))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function SL(n,t){n&1&&(d(0,"div",17),I(1,"i",18),p(2," Sincronizado "),u())}function IL(n,t){n&1&&(d(0,"div",19),I(1,"i",20),p(2," Sincronizando... "),u())}function xL(n,t){n&1&&(d(0,"div",21),I(1,"i",22),p(2," Erro na sincroniza\xE7\xE3o "),u())}function TL(n,t){if(n&1&&(d(0,"div"),p(1),u()),n&2){let e=t.$implicit;m(),F(" ",e," ")}}var Rf=class n{constructor(t,e){this.sync=t;this.eStorage=e}status=Je("idle");getSyncDate(){return this.sync.getLastSync()}resetSync(){this.sync.resetSync(),this.status.set("idle")}resetData(){this.eStorage.clearFoods()}syncNow(){return _(this,null,function*(){this.status.set("syncing"),this.sync.logs.set([]),this.sync.log("\u{1F504} Iniciando sincroniza\xE7\xE3o...");try{yield this.sync.sync(),this.status.set("idle"),this.sync.log("\u2705 Sincroniza\xE7\xE3o conclu\xEDda")}catch(t){console.error(t),this.status.set("error"),this.sync.log("\u274C Erro na sincroniza\xE7\xE3o")}})}static \u0275fac=function(e){return new(e||n)(b(Qs),b(Ae))};static \u0275cmp=R({type:n,selectors:[["food-sync-status"]],decls:27,vars:9,consts:[[1,"card","p-3","mb-3","shadow-sm"],[1,"mb-2"],[1,"fas","fa-sync-alt","me-1"],["class","text-success",4,"ngIf"],["class","text-primary",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"small","mt-2"],[1,"fw-semibold"],[1,"small","mt-2","text-muted"],[4,"ngFor","ngForOf"],[1,"row","g-2","my-2"],[1,"col-12","col-md-3"],[1,"btn","btn-success","w-100",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"col-6","col-md-3"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"fas","fa-trash"],[1,"text-success"],[1,"fas","fa-check-circle"],[1,"text-primary"],[1,"fas","fa-spinner","fa-spin"],[1,"text-danger"],[1,"fas","fa-exclamation-circle"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"h6",1),I(2,"i",2),p(3," Sincroniza\xE7\xE3o de Alimentos "),u(),x(4,SL,3,0,"div",3)(5,IL,3,0,"div",4)(6,xL,3,0,"div",5),d(7,"div",6),p(8," \xDAltima sync: "),d(9,"span",7),p(10),Y(11,"date"),u()(),d(12,"div",8),x(13,TL,2,1,"div",9),u(),d(14,"div",10)(15,"div",11)(16,"button",12),C("click",function(){return r.syncNow()}),I(17,"i",13),p(18," Sincronizar "),u()(),d(19,"div",14)(20,"button",15),C("click",function(){return r.resetSync()}),I(21,"i",16),p(22," Resetar Sync "),u()(),d(23,"div",14)(24,"button",15),C("click",function(){return r.resetData()}),I(25,"i",16),p(26," Deletar Dados "),u()()()()),e&2&&(m(4),y("ngIf",r.status()==="idle"),m(),y("ngIf",r.status()==="syncing"),m(),y("ngIf",r.status()==="error"),m(4),F(" ",r.getSyncDate()?J(11,6,r.getSyncDate(),"short"):"Nunca"," "),m(3),y("ngForOf",r.sync.logs()),m(3),y("disabled",r.status()==="syncing"))},dependencies:[L,ve,W,ls],encapsulation:2})};var ML=["modal"];function AL(n,t){if(n&1&&(d(0,"div",15)(1,"div",28)(2,"span"),p(3),u(),p(4," , "),d(5,"span"),p(6),u(),p(7," , "),d(8,"span"),p(9),u(),p(10," , "),d(11,"span"),p(12),u(),p(13),u()()),n&2){let e,r=w(2);m(3),F("",r.normalized.calories," kcal"),m(3),F("",r.normalized.carbs,"g de carboidratos"),m(3),F("",r.normalized.protein,"g de prote\xEDnas"),m(3),F("",r.normalized.fat,"g de gorduras"),m(),F(" em 100 ",((e=r.form.get("baseUnit"))==null?null:e.value)||"g/ml"," do alimento ")}}function NL(n,t){if(n&1&&(d(0,"div",14)(1,"div",15)(2,"label",16),p(3,"Descri\xE7\xE3o"),u(),I(4,"input",17),u(),d(5,"div",18)(6,"label",16),p(7,"Calorias"),u(),I(8,"input",19),u(),d(9,"div",18)(10,"label",16),p(11,"Prote\xEDna (g)"),u(),I(12,"input",20),u(),d(13,"div",18)(14,"label",16),p(15,"Carboidratos (g)"),u(),I(16,"input",21),u(),d(17,"div",18)(18,"label",16),p(19,"Gordura (g)"),u(),I(20,"input",22),u(),d(21,"div",15)(22,"label",16),p(23,"Fibras (g)"),u(),I(24,"input",23),u(),d(25,"div",18)(26,"label",16),p(27,"Quantidade base"),u(),I(28,"input",24),u(),d(29,"div",18)(30,"label",16),p(31,"Unidade base"),u(),d(32,"select",25)(33,"option",26),p(34,"g"),u(),d(35,"option",26),p(36,"ml"),u()()(),x(37,AL,14,5,"div",27),u()),n&2){let e,r=w();m(33),y("ngValue","g"),m(2),y("ngValue","ml"),m(2),y("ngIf",((e=r.form.get("baseQuantity"))==null?null:e.value)!=100)}}function kL(n,t){if(n&1){let e=V();d(0,"div",33)(1,"div",34)(2,"div",35)(3,"label"),p(4,"Descri\xE7\xE3o"),u(),I(5,"input",36),u(),d(6,"div",37)(7,"label"),p(8,"Equival\xEAncia (g)"),u(),I(9,"input",38),u(),d(10,"button",39),C("click",function(){let i=D(e).index,o=w(2);return S(o.removeHomeMeasure(i))}),p(11," Remover "),u()()()}if(n&2){let e=t.index;y("formGroupName",e)}}function FL(n,t){if(n&1){let e=V();d(0,"div",29),x(1,kL,12,1,"div",30),d(2,"div",31)(3,"button",32),C("click",function(){D(e);let i=w();return S(i.addHomeMeasure())}),p(4,"Adicionar medida caseira"),u()()()}if(n&2){let e=w();m(),y("ngForOf",e.homeMeasures.controls)}}var Of=class n{constructor(t){this.fb=t}modal;add=new H;foodToEdit;form;tabIndex=1;defaultFormValues;normalized={calories:0,protein:0,carbs:0,fat:0,fiber:0};ngOnInit(){this.form=this.fb.group({description:["",Nt.required],imageUrl:[""],calories:[0,Nt.required],protein:[0,Nt.required],carbs:[0,Nt.required],fat:[0,Nt.required],fibers:[0],baseQuantity:[100],baseUnit:["g"],homeMeasures:this.fb.array([])}),this.defaultFormValues=structuredClone(this.form.getRawValue()),this.form.valueChanges.subscribe(()=>this.calculateNormalizedValues()),this.calculateNormalizedValues()}get homeMeasures(){return this.form.get("homeMeasures")}addHomeMeasure(){this.homeMeasures.push(this.fb.group({name:["",Nt.required],factor:[0,Nt.required]}))}removeHomeMeasure(t){this.homeMeasures.removeAt(t)}calculateNormalizedValues(){let{calories:t,protein:e,carbs:r,fat:i,fibers:o,baseQuantity:s}=this.form.value,a=100/(s||100);this.normalized={calories:+(t*a).toFixed(2),protein:+(e*a).toFixed(2),carbs:+(r*a).toFixed(2),fat:+(i*a).toFixed(2),fiber:+(o*a).toFixed(2)}}submitForm(){if(this.form.invalid)return;let t=this.form.value,e=ie(M({id:this.foodToEdit?.id||Nl(),updatedAt:new Date().toISOString()},t),{calories:this.normalized.calories,protein:this.normalized.protein,carbs:this.normalized.carbs,fat:this.normalized.fat,baseQuantity:100});console.log("Alimento a ser salvo",e),this.add.emit(e),this.form.reset(this.defaultFormValues),this.homeMeasures.clear(),this.modal.close(),this.foodToEdit=void 0}openForEdit(t){console.log("Alimento sendo aberto para edi\xE7\xE3o",t),this.foodToEdit=t,this.form.patchValue(t),this.homeMeasures.clear(),t.homeMeasures?.length&&t.homeMeasures.forEach(e=>this.homeMeasures.push(this.fb.group({name:[e.name,Nt.required],factor:[e.factor,Nt.required]}))),this.modal.open()}static \u0275fac=function(e){return new(e||n)(b(Vs))};static \u0275cmp=R({type:n,selectors:[["app-manual-imported-food-form"]],viewQuery:function(e,r){if(e&1&&Be(ML,5),e&2){let i;le(i=ce())&&(r.modal=i.first)}},outputs:{add:"add"},decls:22,vars:9,consts:[["modal",""],["f1",""],["modalFooter",""],["modalId","manual-import-modal","title","Importar Manualmente"],[3,"ngSubmit","formGroup"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],["class","row g-2 mt-3",4,"ngIf"],["class","row g-2 mt-3","formArrayName","homeMeasures",4,"ngIf"],["modalFooter","",1,"d-flex","justify-content-between","w-100"],[3,"food"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"click"],[1,"row","g-2","mt-3"],[1,"col-12"],[1,"form-label"],["formControlName","description","required","",1,"form-control"],[1,"col-6"],["type","number","formControlName","calories",1,"form-control"],["type","number","formControlName","protein",1,"form-control"],["type","number","formControlName","carbs",1,"form-control"],["type","number","formControlName","fat",1,"form-control"],["type","number","formControlName","fibers",1,"form-control"],["type","number","formControlName","baseQuantity",1,"form-control"],["formControlName","baseUnit",1,"form-select"],[3,"ngValue"],["class","col-12",4,"ngIf"],[1,"alert","alert-info","mt-2"],["formArrayName","homeMeasures",1,"row","g-2","mt-3"],["class","col-12",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","mt-2"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"col-12",3,"formGroupName"],[1,"d-flex","align-items-end"],[1,"me-2","flex-grow-1"],["formControlName","name","placeholder","Ex: 1 colher de sopa",1,"form-control"],[1,"me-2",2,"width","120px"],["type","number","formControlName","factor",1,"form-control"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){if(e&1){let i=V();d(0,"app-modal",3,0)(2,"form",4,1),C("ngSubmit",function(){return D(i),S(r.submitForm())}),d(4,"ul",5)(5,"li",6)(6,"a",7),C("click",function(){return D(i),S(r.tabIndex=1)}),p(7,"Informa\xE7\xF5es nutricionais"),u()(),d(8,"li",6)(9,"a",7),C("click",function(){return D(i),S(r.tabIndex=2)}),p(10,"Medidas caseiras"),u()()(),x(11,NL,38,3,"div",8)(12,FL,5,1,"div",9),u(),d(13,"div",10,2)(15,"div"),I(16,"food-macros-indicator",11),u(),d(17,"div")(18,"button",12),C("click",function(){D(i);let s=Fe(3);return S(s.requestSubmit())}),p(19,"Salvar"),u(),d(20,"button",13),C("click",function(){D(i);let s=Fe(1);return S(s.close())}),p(21,"Cancelar"),u()()()()}e&2&&(m(2),y("formGroup",r.form),m(4),q("active",r.tabIndex===1),m(3),q("active",r.tabIndex===2),m(2),y("ngIf",r.tabIndex===1),m(),y("ngIf",r.tabIndex===2),m(4),y("food",r.normalized),m(2),y("disabled",r.form.invalid))},dependencies:[L,ve,W,Ei,Ln,Vn,jn,Te,kt,dn,Me,Pn,Qr,Ci,vo,tf,nf,Un,Ti],encapsulation:2})};var RL=["createModal"],OL=["editModal"],PL=(n,t,e,r,i)=>({calories:n,carbs:t,protein:e,fiber:r,fat:i}),LL=()=>[];function VL(n,t){if(n&1){let e=V();d(0,"li",11)(1,"div",12),I(2,"food-macros-indicator",13),d(3,"div")(4,"strong"),p(5),u(),I(6,"br")(7,"macros-display",14),u()(),d(8,"div",15)(9,"button",16),C("click",function(){let i=D(e).$implicit,o=w();return S(o.openEdit(i))}),I(10,"i",17),u(),d(11,"button",18),C("click",function(){let i=D(e).$implicit,o=w();return S(o.removeFood(i.id))}),I(12,"i",19),u()()()}if(n&2){let e=t.$implicit,r=w();m(2),y("food",Aw(4,PL,e.calories,e.carbs,e.protein,e.fibers,e.fat)),m(3),ne(e.description),m(2),y("data",r.calculateMacros(e))("showFibers",!0)}}function jL(n,t){if(n&1){let e=V();d(0,"li",22)(1,"button",23),C("click",function(){let i=D(e).index,o=w(2);return S(o.goToPage(i+1))}),p(2),u()()}if(n&2){let e=t.index,r=w(2);q("active",r.currentPage()===e+1),m(2),ne(e+1)}}function BL(n,t){if(n&1){let e=V();d(0,"nav",20)(1,"ul",21)(2,"li",22)(3,"button",23),C("click",function(){D(e);let i=w();return S(i.goToPage(i.currentPage()-1))}),p(4,"Anterior"),u()(),x(5,jL,3,3,"li",24),d(6,"li",22)(7,"button",23),C("click",function(){D(e);let i=w();return S(i.goToPage(i.currentPage()+1))}),p(8,"Pr\xF3xima"),u()()()()}if(n&2){let e=w();m(2),q("disabled",e.currentPage()===1),m(3),y("ngForOf",Tw(5,LL).constructor(e.totalPages())),m(),q("disabled",e.currentPage()===e.totalPages())}}var Pf=class n{constructor(t,e,r){this.db=t;this.macrosService=e;this.searchUtils=r}importedFoods=Je([]);search=Je("");currentPage=Je(1);itemsPerPage=20;createModal;editModal;openCreate(){this.createModal.modal.open()}openEdit(t){this.editModal.openForEdit(t)}ngOnInit(){return _(this,null,function*(){let t=yield this.db.getAll("foods");this.importedFoods.set(t??[])})}get filteredFoods(){return Lt(()=>{let t=this.search().toLowerCase();return this.importedFoods().filter(e=>e.description?.toLowerCase().includes(t))})}get paginatedFoods(){return Lt(()=>{let t=(this.currentPage()-1)*this.itemsPerPage;return this.filteredFoods().slice(t,t+this.itemsPerPage)})}get totalPages(){return Lt(()=>Math.ceil(this.filteredFoods().length/this.itemsPerPage))}goToPage(t){this.currentPage.set(t)}onSearchChange(){this.currentPage.set(1)}calculateMacros(t){return this.macrosService.sumNutrition([new Di(100,t.baseUnit??"g",t)])}removeFood(t){return _(this,null,function*(){this.importedFoods.set(this.importedFoods().filter(e=>e.id!==t)),yield this.db.delete("foods",t)})}onAdd(t){return _(this,null,function*(){t.updatedAt=new Date().toISOString(),yield this.db.add("foods",t);let e=[...this.importedFoods(),t];this.importedFoods.set(e)})}onUpdate(t){return _(this,null,function*(){t.updatedAt=new Date().toISOString(),yield this.db.update("foods",t);let e=this.importedFoods().map(r=>r.id===t.id?t:r);this.importedFoods.set(e)})}static \u0275fac=function(e){return new(e||n)(b($e),b(ut),b(xi))};static \u0275cmp=R({type:n,selectors:[["food-list"]],viewQuery:function(e,r){if(e&1&&(Be(RL,5),Be(OL,5)),e&2){let i;le(i=ce())&&(r.createModal=i.first),le(i=ce())&&(r.editModal=i.first)}},decls:14,vars:3,consts:[["createModal",""],["editModal",""],[1,"my-2","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary",3,"click"],[1,"mb-2"],["type","text","placeholder","Buscar alimento por nome ou descri\xE7\xE3o...",1,"form-control",3,"ngModelChange","ngModel"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],[1,"create",3,"add"],[1,"edit",3,"add"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-3"],[3,"food"],[3,"data","showFibers"],[1,"d-flex","gap-1"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"mt-3"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"]],template:function(e,r){if(e&1){let i=V();d(0,"div",2)(1,"h2"),p(2,"Alimentos Locais"),u(),d(3,"button",3),C("click",function(){return D(i),S(r.openCreate())}),p(4,"Criar alimento"),u()(),d(5,"div",4)(6,"input",5),C("ngModelChange",function(s){return D(i),r.search.set(s),S(r.onSearchChange())}),u()(),d(7,"ul",6),x(8,VL,13,10,"li",7),u(),x(9,BL,9,6,"nav",8),d(10,"app-manual-imported-food-form",9,0),C("add",function(s){return D(i),S(r.onAdd(s))}),u(),d(12,"app-manual-imported-food-form",10,1),C("add",function(s){return D(i),S(r.onUpdate(s))}),u()}e&2&&(m(6),y("ngModel",r.search()),m(2),y("ngForOf",r.paginatedFoods()),m(),y("ngIf",r.totalPages()>1))},dependencies:[he,Te,Me,je,L,ve,W,Of,Ti,_r],encapsulation:2})};var Lf=class n{activeTab="records";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=R({type:n,selectors:[["tools-area"]],features:[me([Ce])],decls:39,vars:42,consts:[[1,"container","mt-2"],[1,"nav","nav-tabs","flex-nowrap","overflow-x-auto","overflow-y-hidden",2,"scrollbar-width","none","-ms-overflow-style","none",3,"wheel"],[1,"nav-item"],["type","button",1,"nav-link","text-nowrap",3,"click"],[1,"tab-content","mt-3"],[1,"tab-pane","fade"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"ul",1),C("wheel",function(o){return o.stopPropagation()}),d(2,"li",2)(3,"button",3),C("click",function(){return r.activeTab="records"}),p(4," Substitui\xE7\xE3o "),u()(),d(5,"li",2)(6,"button",3),C("click",function(){return r.activeTab="metrics"}),p(7," Comparador "),u()(),d(8,"li",2)(9,"button",3),C("click",function(){return r.activeTab="balancer"}),p(10," Balanceador "),u()(),d(11,"li",2)(12,"button",3),C("click",function(){return r.activeTab="import"}),p(13," Importa\xE7\xE3o "),u()(),d(14,"li",2)(15,"button",3),C("click",function(){return r.activeTab="food-list"}),p(16," Alimentos "),u()(),d(17,"li",2)(18,"button",3),C("click",function(){return r.activeTab="sync"}),p(19," Sync "),u()(),d(20,"li",2)(21,"button",3),C("click",function(){return r.activeTab="system"}),p(22," Sistema "),u()()(),d(23,"div",4)(24,"div",5),I(25,"food-substitution"),u(),d(26,"div",5),I(27,"meal-comparer"),u(),d(28,"div",5),I(29,"app-meal-balancer"),u(),d(30,"div",5),I(31,"import-food"),u(),d(32,"div",5),I(33,"food-list"),u(),d(34,"div",5),I(35,"food-sync-status")(36,"sync-status"),u(),d(37,"div",5),I(38,"system-detect"),u()()()),e&2&&(m(3),q("active",r.activeTab==="records"),m(3),q("active",r.activeTab==="metrics"),m(3),q("active",r.activeTab==="balancer"),m(3),q("active",r.activeTab==="import"),m(3),q("active",r.activeTab==="food-list"),m(3),q("active",r.activeTab==="sync"),m(3),q("active",r.activeTab==="system"),m(3),q("active",r.activeTab==="records")("show",r.activeTab==="records"),m(2),q("active",r.activeTab==="metrics")("show",r.activeTab==="metrics"),m(2),q("active",r.activeTab==="balancer")("show",r.activeTab==="balancer"),m(2),q("active",r.activeTab==="import")("show",r.activeTab==="import"),m(2),q("active",r.activeTab==="food-list")("show",r.activeTab==="food-list"),m(2),q("active",r.activeTab==="sync")("show",r.activeTab==="sync"),m(3),q("active",r.activeTab==="system")("show",r.activeTab==="system"))},dependencies:[Dt,he,L,zs,If,Tf,Hs,Nf,Ff,Rf,Pf],encapsulation:2})};var UL=["content"],$L=["scroll"],HL=["padding"],SS=["*"],Rl=n=>({searchTerm:n});function WL(n,t){if(n&1&&(d(0,"div",3),Ca(1,6),u()),n&2){let e=w();m(),y("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Kt(2,Rl,e.filterValue))}}function zL(n,t){if(n&1&&(d(0,"div",5),Ca(1,6),u()),n&2){let e=w();m(),y("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",Kt(2,Rl,e.filterValue))}}var qL=["searchInput"],GL=["clearButton"],QL=(n,t,e)=>({item:n,clear:t,label:e}),KL=(n,t)=>({items:n,clear:t}),ZL=(n,t,e,r)=>({item:n,item$:t,index:e,searchTerm:r});function YL(n,t){if(n&1&&(d(0,"div",20),p(1),u()),n&2){let e=w(2);m(),ne(e.placeholder)}}function JL(n,t){}function XL(n,t){if(n&1&&x(0,YL,2,1,"ng-template",null,1,Zn)(2,JL,0,0,"ng-template",19),n&2){let e=Fe(1),r=w();m(2),y("ngTemplateOutlet",r.placeholderTemplate||e)}}function eV(n,t){if(n&1){let e=V();d(0,"span",23),C("click",function(){D(e);let i=w().$implicit,o=w(2);return S(o.unselect(i))}),p(1,"\xD7"),u(),I(2,"span",24)}if(n&2){let e=w().$implicit,r=w(2);m(2),y("ngItemLabel",e.label)("escape",r.escapeHTML)}}function tV(n,t){}function nV(n,t){if(n&1&&(d(0,"div",22),x(1,eV,3,2,"ng-template",null,2,Zn)(3,tV,0,0,"ng-template",12),u()),n&2){let e=t.$implicit,r=Fe(2),i=w(2);q("ng-value-disabled",e.disabled),m(3),y("ngTemplateOutlet",i.labelTemplate||r)("ngTemplateOutletContext",Mu(4,QL,e.value,i.clearItem,e.label))}}function rV(n,t){if(n&1&&zm(0,nV,4,8,"div",21,Wm().trackByOption,!0),n&2){let e=w();qm(e.selectedItems)}}function iV(n,t){}function oV(n,t){if(n&1&&x(0,iV,0,0,"ng-template",12),n&2){let e=w();y("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",is(2,KL,e.selectedValues,e.clearItem))}}function sV(n,t){n&1&&I(0,"div",25)}function aV(n,t){}function lV(n,t){if(n&1&&x(0,sV,1,0,"ng-template",null,3,Zn)(2,aV,0,0,"ng-template",19),n&2){let e=Fe(1),r=w();m(2),y("ngTemplateOutlet",r.loadingSpinnerTemplate||e)}}function cV(n,t){if(n&1&&Ca(0,19),n&2){let e=w(2);y("ngTemplateOutlet",e.clearButtonTemplate)}}function uV(n,t){if(n&1&&(d(0,"span",26,4)(2,"span",27),p(3,"\xD7"),u()()),n&2){let e=w(2);Gm("title",e.clearAllText),Mt("tabindex",e.tabFocusOnClearButton()?0:-1)}}function dV(n,t){if(n&1&&x(0,cV,1,1,"ng-container",19)(1,uV,4,2,"span",26),n&2){let e=w();Qt(e.clearButtonTemplate?0:1)}}function fV(n,t){if(n&1&&I(0,"span",32),n&2){let e=w().$implicit,r=w(2);y("ngItemLabel",e.label)("escape",r.escapeHTML)}}function pV(n,t){}function hV(n,t){if(n&1){let e=V();d(0,"div",31),C("click",function(){let i=D(e).$implicit,o=w(2);return S(o.toggleItem(i))})("mouseover",function(){let i=D(e).$implicit,o=w(2);return S(o.onItemHover(i))}),x(1,fV,1,2,"ng-template",null,5,Zn)(3,pV,0,0,"ng-template",12),u()}if(n&2){let e=t.$implicit,r=Fe(2),i=w(2);q("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===i.itemsList.markedItem),Mt("role",e.children?"group":"option")("aria-selected",e.selected)("id",e==null?null:e.htmlId)("aria-setsize",i.itemsList.filteredItems.length)("aria-posinset",e.index+1),m(3),y("ngTemplateOutlet",e.children?i.optgroupTemplate||r:i.optionTemplate||r)("ngTemplateOutletContext",Mw(19,ZL,e.value,e,e.index,i.searchTerm))}}function mV(n,t){if(n&1&&(d(0,"span")(1,"span",34),p(2),u(),p(3),u()),n&2){let e=w(3);m(2),ne(e.addTagText),m(),F('"',e.searchTerm,'"')}}function gV(n,t){}function vV(n,t){if(n&1){let e=V();d(0,"div",33),C("mouseover",function(){D(e);let i=w(2);return S(i.itemsList.unmarkItem())})("click",function(){D(e);let i=w(2);return S(i.selectTag())}),x(1,mV,4,2,"ng-template",null,6,Zn)(3,gV,0,0,"ng-template",12),u()}if(n&2){let e=Fe(2),r=w(2);q("ng-option-marked",!r.itemsList.markedItem),m(3),y("ngTemplateOutlet",r.tagTemplate||e)("ngTemplateOutletContext",Kt(4,Rl,r.searchTerm))}}function yV(n,t){if(n&1&&(d(0,"div",35),p(1),u()),n&2){let e=w(3);m(),ne(e.notFoundText)}}function _V(n,t){}function bV(n,t){if(n&1&&x(0,yV,2,1,"ng-template",null,7,Zn)(2,_V,0,0,"ng-template",12),n&2){let e=Fe(1),r=w(2);m(2),y("ngTemplateOutlet",r.notFoundTemplate||e)("ngTemplateOutletContext",Kt(2,Rl,r.searchTerm))}}function wV(n,t){if(n&1&&(d(0,"div",35),p(1),u()),n&2){let e=w(3);m(),ne(e.typeToSearchText)}}function CV(n,t){}function EV(n,t){if(n&1&&x(0,wV,2,1,"ng-template",null,8,Zn)(2,CV,0,0,"ng-template",19),n&2){let e=Fe(1),r=w(2);m(2),y("ngTemplateOutlet",r.typeToSearchTemplate||e)}}function DV(n,t){if(n&1&&(d(0,"div",35),p(1),u()),n&2){let e=w(3);m(),ne(e.loadingText)}}function SV(n,t){}function IV(n,t){if(n&1&&x(0,DV,2,1,"ng-template",null,9,Zn)(2,SV,0,0,"ng-template",12),n&2){let e=Fe(1),r=w(2);m(2),y("ngTemplateOutlet",r.loadingTextTemplate||e)("ngTemplateOutletContext",Kt(2,Rl,r.searchTerm))}}function xV(n,t){if(n&1){let e=V();d(0,"ng-dropdown-panel",28),C("update",function(i){D(e);let o=w();return S(o.viewPortItems=i)})("scroll",function(i){D(e);let o=w();return S(o.scroll.emit(i))})("scrollToEnd",function(i){D(e);let o=w();return S(o.scrollToEnd.emit(i))})("outsideClick",function(){D(e);let i=w();return S(i.close())}),at(1),zm(2,hV,4,24,"div",29,Wm().trackByOption,!0),x(4,vV,4,6,"div",30),lt(),x(5,bV,3,4)(6,EV,3,1)(7,IV,3,4),u()}if(n&2){let e=w();q("ng-select-multiple",e.multiple),y("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.ngClass?e.ngClass:e.classes:null)("id",e.dropdownId)("ariaLabelDropdown",e.ariaLabelDropdown),m(2),qm(e.viewPortItems),m(2),Qt(e.showAddTag?4:-1),m(),Qt(e.showNoItemsFound()?5:-1),m(),Qt(e.showTypeToSearch()?6:-1),m(),Qt(e.loading&&e.itemsList.filteredItems.length===0?7:-1)}}function TV(n,t){if(n&1&&p(0),n&2){let e=w();F(" ",e.notFoundText," ")}}var IS=/[&<>"']/g,MV=RegExp(IS.source),AV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function NV(n){return n&&MV.test(n)?n.replace(IS,t=>AV[t]):n}function it(n){return n!=null}function Fl(n){return typeof n=="object"&&it(n)}function kV(n){return n instanceof Promise}function jf(n){return n instanceof Function}var FV=(()=>{class n{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?NV(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(r){return new(r||n)(b(He))}}static{this.\u0275dir=X({type:n,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[et]})}}return n})(),ev=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-option-tmp",""]]})}}return n})(),RV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-optgroup-tmp",""]]})}}return n})(),OV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-label-tmp",""]]})}}return n})(),PV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-multi-label-tmp",""]]})}}return n})(),LV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-header-tmp",""]]})}}return n})(),VV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-footer-tmp",""]]})}}return n})(),jV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-notfound-tmp",""]]})}}return n})(),BV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-placeholder-tmp",""]]})}}return n})(),UV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-typetosearch-tmp",""]]})}}return n})(),$V=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-loadingtext-tmp",""]]})}}return n})(),tv=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-tag-tmp",""]]})}}return n})(),HV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-loadingspinner-tmp",""]]})}}return n})(),WV=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(r){return new(r||n)(b(Ee))}}static{this.\u0275dir=X({type:n,selectors:[["","ng-clearbutton-tmp",""]]})}}return n})();function xS(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var zV={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function Vf(n){let t=e=>zV[e]||e;return n.replace(/[^\u0000-\u007E]/g,t)}var J0=class{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,r)=>this.mapItem(e,r)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&it(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return this._ngSelect.compareWith?e=r=>this._ngSelect.compareWith(r.value,t):this._ngSelect.bindValue?e=r=>!r.children&&this.resolveNested(r.value,this._ngSelect.bindValue)===t:e=r=>r.value===t||!r.children&&r.label&&r.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(r=>e(r))}addItem(t){let e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=Vf(t).toLocaleLowerCase(),this.filteredItems.find(e=>Vf(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:Vf(t).toLocaleLowerCase();let e=this._ngSelect.searchFn||this._defaultSearchFn,r=this._ngSelect.hideSelected;for(let i of Array.from(this._groups.keys())){let o=[];for(let s of this._groups.get(i)){if(r&&(s.parent&&s.parent.selected||s.selected))continue;let a=this._ngSelect.searchFn?s.value:s;e(t,a)&&o.push(s)}if(o.length>0){let[s]=o.slice(-1);if(s.parent){let a=this._items.find(l=>l===s.parent);this._filteredItems.push(a)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let e=this._getLastMarkedIndex();e>-1?this._markedIndex=e:this._markedIndex=t?this.filteredItems.findIndex(r=>!r.disabled):-1}resolveNested(t,e){if(!Fl(t))return t;if(e.indexOf(".")===-1)return t[e];{let r=e.split("."),i=t;for(let o=0,s=r.length;o<s;++o){if(i==null)return null;i=i[r[o]]}return i}}mapItem(t,e){let r=it(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),i=it(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:it(r)?r.toString():"",value:i,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let e of this.selectedItems){let r=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,i=it(r)?this.findItem(r):null;this._selectionModel.unselect(e,t),this._selectionModel.select(i||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>this.selectedItems.indexOf(e)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let e=t.parent;this._filteredItems.find(i=>i===e)||this._filteredItems.push(e)}else if(t.children)for(let e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,r)=>e.index-r.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(r=>r.selected)&&(this._filteredItems=this._filteredItems.filter(r=>r!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return Vf(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){let r=new Map;if(t.length===0)return r;if(Array.isArray(t[0].value[e])){for(let s of t){let a=(s.value[e]||[]).map((l,c)=>this.mapItem(l,c));r.set(s,a)}return r}let i=jf(this._ngSelect.groupBy),o=s=>{let a=i?e(s.value):s.value[e];return it(a)?a:void 0};for(let s of t){let a=o(s),l=r.get(a);l?l.push(s):r.set(a,[s])}return r}_flatten(t){let e=jf(this._ngSelect.groupBy),r=[];for(let i of Array.from(t.keys())){let o=r.length;if(i===void 0){let h=t.get(void 0)||[];r.push(...h.map(v=>(v.index=o++,v)));continue}let s=Fl(i),a={label:s?"":String(i),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:xS()},l=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>s?i.value:{[l]:i}),f=t.get(i).map(h=>(h.parent=a,h.children=void 0,h.index=o++,h));a.children=f,a.value=c(i,f.map(h=>h.value)),r.push(a),r.push(...f)}return r}},TS=(()=>{class n{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,r,i){let o=this._dimensions,s=o.itemHeight*r,l=Math.max(0,e)/s*r,c=Math.min(r,Math.ceil(l)+(o.itemsPerViewport+1)),h=Math.max(0,c-o.itemsPerViewport),v=Math.min(h,Math.floor(l)),g=o.itemHeight*Math.ceil(v)-o.itemHeight*Math.min(v,i);return g=isNaN(g)?0:g,v=isNaN(v)?-1:v,c=isNaN(c)?-1:c,v-=i,v=Math.max(0,v),c+=i,c=Math.min(r,c),{topPadding:g,scrollHeight:s,start:v,end:c}}setDimensions(e,r){let i=Math.max(1,Math.floor(r/e));this._dimensions={itemHeight:e,panelHeight:r,itemsPerViewport:i}}getScrollTo(e,r,i){let{panelHeight:o}=this.dimensions,s=e+r,a=i,l=a+o;return o>=s&&i===e?null:s>l?a+s-l:e<=a?e:null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=k({token:n,factory:n.\u0275fac})}}return n})(),ES=["top","right","bottom","left"],qV=typeof requestAnimationFrame<"u"?wp:bp,DS=(()=>{class n{constructor(e,r,i,o,s){this._renderer=e,this._zone=r,this._panelService=i,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.ariaLabelDropdown=ga(null),this.update=new H,this.scroll=new H,this.scrollToEnd=new H,this.outsideClick=new H,this._destroy$=new Ne,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:e,panelHeight:r}=this._panelService.dimensions,i=this.markedItem.index*e;return r>i?0:i}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){let r=e.items;this._onItemsChange(r.currentValue,r.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,r=!1){if(!e)return;let i=this.items.indexOf(e);if(i<0||i>=this.itemsLength)return;let o;if(this.virtualScroll){let s=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(i*s,s,this._lastScrollPosition)}else{let s=this._dropdown.querySelector(`#${e.htmlId}`),a=r?s.offsetTop:this._lastScrollPosition;o=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,a)}it(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){let e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),ES.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){ES.forEach(i=>{let o=`ng-select-${i}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});let r=`ng-select-${e}`;this._renderer.addClass(this._dropdown,r),this._renderer.addClass(this._select,r)}_handleScroll(){this._zone.runOutsideAngular(()=>{qn(this.scrollElementRef.nativeElement,"scroll").pipe(rr(this._destroy$),Sp(0,qV)).subscribe(e=>{let r=e.path||e.composedPath&&e.composedPath();if(!r||r.length===0&&!e.target)return;let i=!r||r.length===0?e.target.scrollTop:r[0].scrollTop;this._onContentScrolled(i)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{ni(qn(this._document,"touchstart",{capture:!0}),qn(this._document,"click",{capture:!0})).pipe(rr(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;let r=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&r&&r[0]&&this._select.contains(r[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,r){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(r):(this._setVirtualHeight(),this._updateItems(r))}_updateItems(e){this.update.emit(this.items),e!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let r=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,r),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;e=e||this._scrollablePanel.scrollTop;let r=this._panelService.calculateItems(e,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(r.scrollHeight),this._contentPanel.style.transform=`translateY(${r.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(r.start,r.end)),this.scroll.emit({start:r.start,end:r.end})}),it(e)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{let i=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;this._virtualPadding.style.height=`${i*this.itemsLength}px`;let o=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(i,o),this._panelService.dimensions})}_fireScrollToEnd(e){if(this._scrollToEndFired||e===0)return;let r=this.virtualScroll?this._virtualPadding:this._contentPanel;e+this._dropdown.clientHeight>=r.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if(this.position!=="auto")return this.position;let r=this._select.getBoundingClientRect(),i=document.documentElement.scrollTop||document.body.scrollTop,o=r.top+window.pageYOffset,s=r.height,a=e.getBoundingClientRect().height;return o+s+a>i+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=this._dropdown.shadowRoot?this._dropdown.shadowRoot.querySelector(this.appendTo):document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let e=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect(),i=e.left-r.left;this._dropdown.style.left=i+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){let e=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect(),i=e.height;if(this._currentPosition==="top"){let o=r.bottom-e.bottom;this._dropdown.style.bottom=o+i+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let o=e.top-r.top;this._dropdown.style.top=o+i+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{qn(this._dropdown,"mousedown").pipe(rr(this._destroy$)).subscribe(e=>{e.target.tagName!=="INPUT"&&e.preventDefault()})})}static{this.\u0275fac=function(r){return new(r||n)(b(an),b(Oe),b(TS),b(He),b(pt,8))}}static{this.\u0275cmp=R({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(r,i){if(r&1&&(Be(UL,7,He),Be($L,7,He),Be(HL,7,He)),r&2){let o;le(o=ce())&&(i.contentElementRef=o.first),le(o=ce())&&(i.scrollElementRef=o.first),le(o=ce())&&(i.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",Pe],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue",ariaLabelDropdown:[1,"ariaLabelDropdown"]},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[Yi,et],ngContentSelectors:SS,decls:9,vars:7,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&(Ea(),x(0,WL,2,4,"div",3),d(1,"div",4,0),I(3,"div",null,1),d(5,"div",null,2),rs(7),u()(),x(8,zL,2,4,"div",5)),r&2&&(Qt(i.headerTemplate?0:-1),m(),Mt("aria-label",i.ariaLabelDropdown()),m(2),q("total-padding",i.virtualScroll),m(2),q("scrollable-content",i.virtualScroll&&i.items.length),m(3),Qt(i.footerTemplate?8:-1))},dependencies:[cg],encapsulation:2,changeDetection:0})}}return n})(),GV=(()=>{class n{constructor(e){this.elementRef=e,this.disabled=!1,this.stateChange$=new Ne}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static{this.\u0275fac=function(r){return new(r||n)(b(He))}}static{this.\u0275cmp=R({type:n,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",Pe]},features:[Yi,et],ngContentSelectors:SS,decls:1,vars:0,template:function(r,i){r&1&&(Ea(),rs(0))},encapsulation:2,changeDetection:0})}}return n})(),wr=function(n){return n.Tab="Tab",n.Enter="Enter",n.Esc="Escape",n.Space=" ",n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.Backspace="Backspace",n}(wr||{});function MS(){return new X0}var X0=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,r){if(t.selected=!0,(!t.children||!e&&r)&&this._selected.push(t),e)if(t.parent){let i=t.parent.children.length,o=t.parent.children.filter(s=>s.selected).length;t.parent.selected=i===o}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),r&&this._activeChildren(t)?this._selected=[...this._selected.filter(i=>i.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(i=>!i.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(r=>r!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let r=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...r.filter(i=>i!==t&&!i.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let r of t)r.disabled||(r.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},QV=(()=>{class n{constructor(){this.fixedPlaceholder=!1,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),KV=(()=>{class n{warn(e){console.warn(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),AS=new P("ng-select-selection-model"),Bf=(()=>{class n{constructor(e,r,i,o,s,a,l){this.classes=e,this.autoFocus=r,this.config=i,this._cd=a,this._console=l,this.ariaLabelDropdown="Options List",this.markFirst=!0,this.fixedPlaceholder=!1,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.tabFocusOnClearButton=ga(!0,{transform:Pe}),this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new H,this.focusEvent=new H,this.changeEvent=new H,this.openEvent=new H,this.closeEvent=new H,this.searchEvent=new H,this.clearEvent=new H,this.addEvent=new H,this.removeEvent=new H,this.scroll=new H,this.scrollToEnd=new H,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=xS(),this.escapeHTML=!0,this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Ne,this._keyPress$=new Ne,this._items=[],this.keyDownFn=c=>!0,this.clearItem=c=>{let f=this.selectedItems.find(h=>h.value===c);this.unselect(f)},this.trackByOption=(c,f)=>this.trackByFn?this.trackByFn(f.value):f,this._onChange=c=>{},this._onTouched=()=>{},this._mergeGlobalConfig(i),this.itemsList=new J0(this,o?o():MS()),this.element=s.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e??[]}get disabled(){return this.readonly||this._disabled}get compareWith(){return this._compareWith}set compareWith(e){if(e!=null&&!jf(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return it(this._clearSearchOnAdd)?this._clearSearchOnAdd:it(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return it(this._deselectOnClick)?this._deselectOnClick:it(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}get showAddTag(){if(!this._validTerm)return!1;let e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(r=>r.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(r=>r.label.toLowerCase()===e))&&!this.loading}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let e=this.searchTerm?.trim();return e&&e.length>=this.minTermLength}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=it(e.isOpen.currentValue)),e.groupBy&&(e.items||this._setItems([...this.items])),e.inputAttrs&&this._setInputAttributes()}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),it(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){let r=e.key;if(Object.values(wr).includes(r)){if(this.keyDownFn(e)===!1)return;this.handleKeyCode(e)}else r&&r.length===1&&this._keyPress$.next(r.toLocaleLowerCase())}handleKeyCode(e){let r=e.target;this.clearButton&&this.clearButton.nativeElement===r?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.key){case wr.ArrowDown:this._handleArrowDown(e);break;case wr.ArrowUp:this._handleArrowUp(e);break;case wr.Space:this._handleSpace(e);break;case wr.Enter:this._handleEnter(e);break;case wr.Tab:this._handleTab(e);break;case wr.Esc:this.close(),e.preventDefault();break;case wr.Backspace:this._handleBackspace();break}}handleKeyCodeClear(e){switch(e.key){case wr.Enter:this.handleClearClick(),e.preventDefault();break}}handleMousedown(e){if(this.preventToggleOnRightClick&&e.button===2)return!1;let r=e.target;if(r.tagName!=="INPUT"&&e.preventDefault(),r.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(r.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}r.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value),this._onSelectionChanged())}selectTag(){let e;jf(this.addTag)?e=this.addTag(this.searchTerm):e=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let r=i=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(i,null):this.itemsList.addItem(i);kV(e)?e.then(i=>this.select(r(i))).catch(()=>{}):e&&this.select(r(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}showNoItemsFound(){let e=this.itemsList.filteredItems.length===0;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(r=>r.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let e=this.selectedItems?.[0];this.searchTerm=e?.label??null}_setItems(e){let r=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=it(r)?!Fl(r):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&it(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let e=i=>{this.items=i.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},r=()=>{let i=ni(this.ngOptions.changes,this._destroy$);ni(...this.ngOptions.map(o=>o.stateChange$)).pipe(rr(i)).subscribe(o=>{let s=this.itemsList.findItem(o.value);s.disabled=o.disabled,s.label=o.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(ea(this.ngOptions),rr(this._destroy$)).subscribe(i=>{this.bindLabel=this._defaultLabel,e(i),r()})}_isValidWriteValue(e){if(!it(e)||this.multiple&&e===""||Array.isArray(e)&&e.length===0)return!1;let r=i=>!it(this.compareWith)&&Fl(i)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(i)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(e)?e.every(i=>r(i)):(this._console.warn("Multiple select ngModel should be array."),!1):r(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;let r=i=>{let o=this.itemsList.findItem(i);if(o)this.itemsList.select(o);else{let s=Fl(i),a=!s&&!this.bindValue;s||a?this.itemsList.select(this.itemsList.mapItem(i,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:i},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(i=>r(i)):r(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(rr(this._destroy$),st(e=>this._pressedKeys.push(e)),Ip(200),Ye(()=>this._pressedKeys.length>0),z(()=>this._pressedKeys.join(""))).subscribe(e=>{let r=this.itemsList.findByLabel(e);r&&(this.isOpen?(this.itemsList.markItem(r),this._scrollToMarked(),this._cd.markForCheck()):this.select(r)),this._pressedKeys=[]})}_setInputAttributes(){let e=this.searchInput.nativeElement,r=M({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:"off","aria-controls":this.dropdownId},this.inputAttrs);for(let i of Object.keys(r))e.setAttribute(i,r[i])}_updateNgModel(){let e=[];for(let i of this.selectedItems)if(this.bindValue){let o=null;if(i.children){let s=this.groupValue?this.bindValue:this.groupBy;o=i.value[s||this.groupBy]}else o=this.itemsList.resolveNested(i.value,this.bindValue);e.push(o)}else e.push(i.value);let r=this.selectedItems.map(i=>i.value);this.multiple?(this._onChange(e),this.changeEvent.emit(r)):(this._onChange(it(e[0])?e[0]:null),this.changeEvent.emit(r[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(this.isOpen===!1){if(this.showClear()&&!e.shiftKey&&this.tabFocusOnClearButton())this.focusOnClear(),e.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){let r=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(r<0||r===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.fixedPlaceholder=this.fixedPlaceholder||e.fixedPlaceholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=this.getVirtualScroll(e),this.openOnEnter=it(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}getVirtualScroll(e){return it(this.virtualScroll)?this.virtualScroll:this.isVirtualScrollDisabled(e)}isVirtualScrollDisabled(e){return it(e.disableVirtualScroll)?!e.disableVirtualScroll:!1}static{this.\u0275fac=function(r){return new(r||n)(Ko("class"),Ko("autofocus"),b(QV),b(AS,8),b(He),b(Lr),b(KV))}}static{this.\u0275cmp=R({type:n,selectors:[["ng-select"]],contentQueries:function(r,i,o){if(r&1&&(wt(o,ev,5,Ee),wt(o,RV,5,Ee),wt(o,OV,5,Ee),wt(o,PV,5,Ee),wt(o,LV,5,Ee),wt(o,VV,5,Ee),wt(o,jV,5,Ee),wt(o,BV,5,Ee),wt(o,UV,5,Ee),wt(o,$V,5,Ee),wt(o,tv,5,Ee),wt(o,HV,5,Ee),wt(o,WV,5,Ee),wt(o,GV,5)),r&2){let s;le(s=ce())&&(i.optionTemplate=s.first),le(s=ce())&&(i.optgroupTemplate=s.first),le(s=ce())&&(i.labelTemplate=s.first),le(s=ce())&&(i.multiLabelTemplate=s.first),le(s=ce())&&(i.headerTemplate=s.first),le(s=ce())&&(i.footerTemplate=s.first),le(s=ce())&&(i.notFoundTemplate=s.first),le(s=ce())&&(i.placeholderTemplate=s.first),le(s=ce())&&(i.typeToSearchTemplate=s.first),le(s=ce())&&(i.loadingTextTemplate=s.first),le(s=ce())&&(i.tagTemplate=s.first),le(s=ce())&&(i.loadingSpinnerTemplate=s.first),le(s=ce())&&(i.clearButtonTemplate=s.first),le(s=ce())&&(i.ngOptions=s)}},viewQuery:function(r,i){if(r&1&&(Be(DS,5),Be(qL,7),Be(GL,5)),r&2){let o;le(o=ce())&&(i.dropdownPanel=o.first),le(o=ce())&&(i.searchInput=o.first),le(o=ce())&&(i.clearButton=o.first)}},hostVars:20,hostBindings:function(r,i){r&1&&C("keydown",function(s){return i.handleKeyDown(s)}),r&2&&q("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-filtered",i.filtered)("ng-select-single",i.single)("ng-select-disabled",i.disabled)},inputs:{ariaLabelDropdown:"ariaLabelDropdown",bindLabel:"bindLabel",bindValue:"bindValue",ariaLabel:"ariaLabel",markFirst:[2,"markFirst","markFirst",Pe],placeholder:"placeholder",fixedPlaceholder:"fixedPlaceholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",Pe],closeOnSelect:[2,"closeOnSelect","closeOnSelect",Pe],hideSelected:[2,"hideSelected","hideSelected",Pe],selectOnTab:[2,"selectOnTab","selectOnTab",Pe],openOnEnter:[2,"openOnEnter","openOnEnter",Pe],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",os],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",os],virtualScroll:[2,"virtualScroll","virtualScroll",Pe],selectableGroup:[2,"selectableGroup","selectableGroup",Pe],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",Pe],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",Pe],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",os],tabFocusOnClearButton:[1,"tabFocusOnClearButton"],readonly:[2,"readonly","readonly",Pe],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",Pe],minTermLength:[2,"minTermLength","minTermLength",os],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",Pe],ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",Pe],addTag:"addTag",searchable:[2,"searchable","searchable",Pe],clearable:[2,"clearable","clearable",Pe],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick",keyDownFn:"keyDownFn"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[me([{provide:vr,useExisting:yt(()=>n),multi:!0},TS]),Yi,et],decls:15,vars:20,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],[1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","ariaLabelDropdown"],["aria-atomic","true","aria-live","polite","role","status",1,"ng-visually-hidden"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],[1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","ariaLabelDropdown"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(r,i){if(r&1){let o=V();d(0,"div",10),C("mousedown",function(a){return D(o),S(i.handleMousedown(a))}),d(1,"div",11),x(2,XL,3,1)(3,rV,2,0)(4,oV,1,5,null,12),d(5,"div",13)(6,"input",14,0),C("blur",function(a){return D(o),S(i.onInputBlur(a))})("change",function(a){return D(o),S(a.stopPropagation())})("compositionend",function(){D(o);let a=Fe(7);return S(i.onCompositionEnd(a.value))})("compositionstart",function(){return D(o),S(i.onCompositionStart())})("focus",function(a){return D(o),S(i.onInputFocus(a))})("input",function(){D(o);let a=Fe(7);return S(i.filter(a.value))}),u()()(),x(8,lV,3,1)(9,dV,2,1),d(10,"span",15),I(11,"span",16),u()(),x(12,xV,8,18,"ng-dropdown-panel",17),d(13,"div",18),x(14,TV,1,1),u()}if(r&2){let o;q("ng-appearance-outline",i.appearance==="outline")("ng-has-value",i.hasValue),m(2),Qt(i.selectedItems.length===0&&!i.searchTerm||i.fixedPlaceholder?2:-1),m(),Qt((!i.multiLabelTemplate||!i.multiple)&&i.selectedItems.length>0?3:-1),m(),Qt(i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0?4:-1),m(2),y("disabled",i.disabled)("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("value",(o=i.searchTerm)!==null&&o!==void 0?o:""),Mt("aria-activedescendant",i.isOpen?i.itemsList==null||i.itemsList.markedItem==null?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null)("aria-expanded",i.isOpen)("aria-label",i.ariaLabel)("id",i.labelForId)("tabindex",i.tabIndex),m(2),Qt(i.loading?8:-1),m(),Qt(i.showClear()?9:-1),m(3),Qt(i.isOpen?12:-1),m(2),Qt(i.isOpen&&i.showNoItemsFound()?14:-1)}},dependencies:[cg,FV,DS,Ct],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}.ng-visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);border:0;white-space:nowrap}
`],encapsulation:2,changeDetection:0})}}return n})(),NS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=qt({providers:[{provide:AS,useValue:MS}]})}}return n})();var Uf=class n{constructor(t,e,r,i){this.el=t;this.renderer=e;this.ngZone=r;this.ngSelect=i}openSub;ngAfterViewInit(){let t=this.el.nativeElement.querySelector(".ng-select-container");t&&this.renderer.addClass(t,"form-control"),this.applyFormControlPaddingToInnerInput(),this.openSub=this.ngSelect.openEvent.subscribe(()=>{this.ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{let e=document.querySelector(".ng-dropdown-panel");e&&this.applyBootstrapDropdownClasses(e)})})})}applyBootstrapDropdownClasses(t){this.renderer.addClass(t,"bg-white"),this.renderer.addClass(t,"border"),this.renderer.addClass(t,"rounded"),this.renderer.addClass(t,"shadow"),this.renderer.addClass(t,"mt-1"),this.renderer.addClass(t,"p-2")}applyFormControlPaddingToInnerInput(){let t=this.renderer.createElement("input");this.renderer.addClass(t,"form-control"),this.renderer.setStyle(t,"position","absolute"),this.renderer.setStyle(t,"visibility","hidden"),this.renderer.setStyle(t,"pointer-events","none"),this.renderer.appendChild(document.body,t);let e=getComputedStyle(t),r=e.paddingTop,i=e.paddingRight,o=e.paddingBottom,s=e.paddingLeft;this.renderer.removeChild(document.body,t);let a=this.el.nativeElement.querySelector("input");a&&this.renderer.setStyle(a,"padding-left",s)}ngOnDestroy(){this.openSub?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(b(He),b(an),b(Oe),b(Bf,1))};static \u0275dir=X({type:n,selectors:[["","bootstrapNgSelect",""]]})};var $f=class n{constructor(t){this.http=t}jsonPath=null;setJsonPath(t){this.jsonPath=t}load(){return _(this,null,function*(){if(!this.jsonPath)throw new Error("Caminho do JSON n\xE3o definido. Use setJsonPath(path).");try{return yield zn(this.http.get(this.jsonPath))}catch(t){throw console.error("Erro ao carregar JSON:",t),t}})}static \u0275fac=function(e){return new(e||n)(O(eo))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var YV=["addModal"],JV=["createWorkoutModal"],XV=["editModal"];function e3(n,t){n&1&&(d(0,"div",42)(1,"div"),I(2,"i",43),p(3," Voc\xEA ainda n\xE3o possui treinos. Tente criar um no bot\xE3o acima. "),u()())}function t3(n,t){if(n&1){let e=V();d(0,"li")(1,"a",59),C("click",function(){let i=D(e).$implicit,o=w(2);return S(o.selectWorkout2(i.name))}),p(2),u()()}if(n&2){let e=t.$implicit;m(2),F(" ",e.name," ")}}function n3(n,t){n&1&&(d(0,"li",45)(1,"div",60)(2,"div"),I(3,"i",43),p(4," Voc\xEA ainda n\xE3o possui exercicios no seu treino. Adicione um exercicio abaixo. "),u()()())}function r3(n,t){if(n&1){let e=V();d(0,"li",61)(1,"div",62),C("click",function(){let i=D(e),o=i.$implicit,s=i.index,a=w(2);return S(a.openEditModal(o,s))}),d(2,"div",63),I(3,"i",64),u(),d(4,"div",65)(5,"span"),p(6),u(),d(7,"span",66)(8,"span"),p(9),u()()()()()}if(n&2){let e=t.$implicit;m(6),ne(e.name),m(3),ur("",e.sets,"x",e.reps,"(",e.load,"kg)")}}function i3(n,t){if(n&1){let e=V();d(0,"li",67)(1,"button",8),C("click",function(){D(e),w(2);let i=Fe(8);return S(i.open())}),I(2,"i",9),p(3," Adicionar exerc\xEDcio "),u()()}}function o3(n,t){if(n&1){let e=V();d(0,"ul",44)(1,"li",45)(2,"div",46)(3,"div",47)(4,"button",48),p(5),u(),d(6,"ul",49),x(7,t3,3,1,"li",50),u()(),d(8,"div",51)(9,"button",52),C("click",function(){D(e);let i=w();return S(i.editWorkoutName())}),I(10,"i",53),u(),d(11,"button",54),C("click",function(){D(e);let i=w();return S(i.deleteWorkout())}),I(12,"i",55),u()()()(),x(13,n3,5,0,"li",56)(14,r3,10,4,"li",57)(15,i3,4,0,"li",58),u()}if(n&2){let e=w();m(5),F(" ",e.selectedWorkoutName||"Selecione um treino"," "),m(2),y("ngForOf",e.workouts),m(2),y("disabled",!e.selectedWorkoutName),m(2),y("disabled",!e.selectedWorkoutName),m(2),y("ngIf",e.selectedWorkoutName!=""&&e.selectedWorkoutExercises.length==0),m(),y("ngForOf",e.selectedWorkoutExercises),m(),y("ngIf",e.selectedWorkoutName!="")}}function s3(n,t){if(n&1&&(d(0,"div",68),p(1),u()),n&2){let e=t.item;m(),F(" ",e," ")}}function a3(n,t){if(n&1&&(d(0,"div",69),p(1),u()),n&2){let e=t.searchTerm;m(),F(' \u2795 Criar "',e,'" ')}}var Hf=class n{constructor(t,e,r,i){this.storageService=t;this.jsonloader=e;this.eStorage=r;this.autoSave=i}exercicesData={Peito:["Supino reto com barra","Supino inclinado com barra","Supino reto com halteres","Supino inclinado com halteres","Crucifixo reto","Crucifixo inclinado","Crossover","Flex\xE3o de bra\xE7os"],Costas:["Puxada frente na barra","Puxada frente na polia","Remada curvada com barra","Remada unilateral com halteres","Remada baixa na polia","Remada cavalinho","Levantamento terra"],Ombros:["Desenvolvimento com barra","Desenvolvimento com halteres","Eleva\xE7\xE3o lateral","Eleva\xE7\xE3o frontal","Eleva\xE7\xE3o lateral inclinada","Remada alta","Encolhimento de ombros"],B\u00EDceps:["Rosca direta com barra","Rosca alternada com halteres","Rosca concentrada","Rosca martelo","Rosca Scott","Rosca 21"],Tr\u00EDceps:["Tr\xEDceps testa","Tr\xEDceps na polia (corda)","Tr\xEDceps na polia (barra)","Tr\xEDceps franc\xEAs","Tr\xEDceps banco","Mergulho nas paralelas"],Pernas:["Agachamento livre","Agachamento com barra frontal","Leg press","Cadeira extensora","Cadeira flexora","Stiff","Avan\xE7o com halteres","Afundo com barra"],Gl\u00FAteos:["Eleva\xE7\xE3o de quadril","Cadeira abdutora","Gl\xFAteo no cabo","Agachamento sum\xF4","Avan\xE7o com \xEAnfase nos gl\xFAteos"],Panturrilhas:["Eleva\xE7\xE3o de panturrilha em p\xE9","Eleva\xE7\xE3o de panturrilha sentado","Eleva\xE7\xE3o de panturrilha no leg press"],Abd\u00F4men:["Abdominal supra no solo","Abdominal infra com pernas elevadas","Prancha abdominal","Eleva\xE7\xE3o de pernas na barra fixa","Abdominal na m\xE1quina"]};shouldSave=!1;filteredExerciseOptions=[];selectedMuscleGroup="";submitted=!1;addModal;createWorkoutModal;editModal;editableExercise={name:"",load:0,reps:0,sets:0};editableExerciseIndex=-1;selectedWorkoutExercises=[];workouts=[];selectedWorkoutName="";newWorkoutName="";exerciseOptions=[];filteredOptions=[];newExerciseName="";updateSelectedWorkout(){let t=this.workouts.find(e=>e.name===this.selectedWorkoutName);this.selectedWorkoutExercises=t?.exercises||[],this.shouldSave=!0}newSets=null;newReps=null;newLoad=null;SELECTED_TRAIN_KEY="selected-train";ngOnInit(){return _(this,null,function*(){this.autoSave.register(()=>this.save(),()=>this.shouldSave),this.filteredExerciseOptions=Object.values(this.exercicesData).flat(),this.exerciseOptions=this.filteredExerciseOptions,this.filteredOptions=[...this.filteredExerciseOptions],this.workouts=this.eStorage.getWorkouts()??[];let t=this.storageService.loadData(this.SELECTED_TRAIN_KEY),e=this.workouts.length>0?this.workouts[0].name:"";this.selectWorkout2(t??e),this.newSets=3,this.newReps=12,this.newLoad=0})}searchTerm="";onCloseSelect(){this.filteredOptions=[...this.filteredExerciseOptions]}onSearch(t){console.log(t),this.searchTerm=t.term,this.filteredOptions=this.exerciseOptions.filter(e=>e.toLowerCase().includes(t.term.toLowerCase()))}addCustomItem=t=>this.showAddItem?t:null;showAddItem=!0;addExercise(t){if(this.submitted=!0,t.invalid)return;let e=this.workouts.find(r=>r.name===this.selectedWorkoutName);e&&(e.exercises.push({name:this.newExerciseName,sets:this.newSets,reps:this.newReps,load:this.newLoad}),t.resetForm({sets:this.newSets,reps:this.newReps,load:this.newLoad}),this.submitted=!1,this.addModal.close(),this.shouldSave=!0)}ngOnDestroy(){this.autoSave.unregister(()=>this.save()),this.save()}onWorkoutChange(t){console.log("Workout selecionado:",t),this.updateSelectedWorkout()}addWorkout(){this.newWorkoutName&&!this.workouts.find(t=>t.name===this.newWorkoutName)&&(this.workouts.push({name:this.newWorkoutName,exercises:[]}),this.selectWorkout2(this.newWorkoutName),this.newWorkoutName="",this.shouldSave=!0,this.createWorkoutModal.close())}selectWorkout2(t){this.selectedWorkoutName=t,this.updateSelectedWorkout()}editWorkoutName(){let t=this.selectedWorkoutName,e=prompt("Novo nome do treino:",t);if(e&&t!==e)if(this.workouts.find(i=>i.name===e))alert("J\xE1 existe um treino com esse nome.");else{let i=this.workouts.find(o=>o.name===t);i&&(i.name=e,this.selectedWorkoutName=e,this.shouldSave=!0)}}deleteWorkout(){confirm("Tem certeza que deseja excluir este treino?")&&(this.workouts=this.workouts.filter(t=>t.name!==this.selectedWorkoutName),this.selectedWorkoutName=this.workouts.length?this.workouts[this.workouts.length-1].name:"",this.selectWorkout2(this.selectedWorkoutName),this.shouldSave=!0)}deleteExercise(t){let e=this.workouts.find(r=>r.name===this.selectedWorkoutName);e&&e.exercises.splice(t,1),this.editableExercise&&this.editModal.close()}save(){this.storageService.saveData(this.SELECTED_TRAIN_KEY,this.selectedWorkoutName),this.eStorage.setWorkouts(this.workouts),this.shouldSave=!1}openEditModal(t,e){this.editableExercise=M({},t),this.editableExerciseIndex=e,this.editModal.open()}updateExercise(t){t.valid&&this.editableExerciseIndex>-1&&(this.selectedWorkoutExercises[this.editableExerciseIndex]=M({},this.editableExercise),this.editModal.close())}static \u0275fac=function(e){return new(e||n)(b(Ce),b($f),b(Ae),b(yr))};static \u0275cmp=R({type:n,selectors:[["workouts-v2"]],viewQuery:function(e,r){if(e&1&&(Be(YV,5),Be(JV,5),Be(XV,5)),e&2){let i;le(i=ce())&&(r.addModal=i.first),le(i=ce())&&(r.createWorkoutModal=i.first),le(i=ce())&&(r.editModal=i.first)}},features:[me([Ce])],decls:84,vars:14,consts:[["addModal",""],["exerciseForm","ngForm"],["modalFooter",""],["createWorkoutModal",""],["editModal",""],["editForm","ngForm"],[1,"container","mt-3"],[1,"d-grid","mb-3"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-plus","me-1"],["class","alert alert-warning d-flex justify-content-between align-items-center","role","alert",4,"ngIf"],["class","list-group",4,"ngIf"],["title","Adicionar Exerc\xEDcio"],[1,"row","g-3","align-items-end"],[1,"col-12"],["for","exerciseName",1,"form-label"],["name","exerciseName","placeholder","Digite para pesquisar ...","required","","bootstrapNgSelect","",3,"ngModelChange","search","close","clear","ngModel","items","searchable","addTag"],["ng-option-tmp",""],["ng-tag-tmp",""],[1,"col-4"],["for","sets",1,"form-label"],["type","number","inputmode","numeric","id","sets","name","sets","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","reps",1,"form-label"],["type","number","inputmode","numeric","id","reps","name","reps","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","load",1,"form-label"],["type","number","id","load","name","load","min","0","required","",1,"form-control",3,"ngModelChange","ngModel"],["modalFooter","",1,"d-flex","justify-content-end","w-100"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],["title","Criar Novo Treino"],[1,"col-sm-12","col-md-6"],[1,"input-group"],["type","text","id","workoutName","name","workoutName","placeholder","Nome do treino ...","required","",1,"form-control",3,"ngModelChange","ngModel"],["title","Editar Exerc\xEDcio"],[1,"form-label"],["type","text","name","name","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","setsex","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","repsex","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","loadex","min","0","required","",1,"form-control",3,"ngModelChange","ngModel"],["modalFooter","",1,"d-flex","justify-content-between","w-100"],[1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-trash","me-1"],["role","alert",1,"alert","alert-warning","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-dumbbell","me-2"],[1,"list-group"],[1,"list-group-item","p-2"],[1,"d-flex","justify-content-between","align-items-center","gap-2"],[1,"btn-group","w-100"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle","text-truncate",2,"min-width","200px"],[1,"dropdown-menu","w-100"],[4,"ngFor","ngForOf"],[1,"btn-group"],["type","button","title","Editar treino",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-edit"],["type","button","title","Excluir treino",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-trash"],["class","list-group-item p-2",4,"ngIf"],["class","list-group-item px-3 py-2",4,"ngFor","ngForOf"],["class","list-group-item d-flex justify-content-end p-2",4,"ngIf"],[1,"dropdown-item",3,"click"],["role","alert",1,"alert","alert-warning","d-flex","justify-content-between","align-items-center","mb-0"],[1,"list-group-item","px-3","py-2"],[1,"d-flex","flex-nowrap","w-100",2,"cursor","pointer",3,"click"],[1,"align-content-around","me-3"],[1,"fas","fa-weight-hanging","me-1"],[1,"d-flex","flex-nowrap","justify-content-between","w-100"],[1,"ps-3","align-content-around","text-nowrap"],[1,"list-group-item","d-flex","justify-content-end","p-2"],[1,"my-1"],[1,"custom-add-item"]],template:function(e,r){if(e&1){let i=V();d(0,"div",6)(1,"div",7)(2,"button",8),C("click",function(){D(i);let s=Fe(38);return S(s.open())}),I(3,"i",9),p(4," Novo Treino "),u()(),x(5,e3,4,0,"div",10)(6,o3,16,7,"ul",11),u(),d(7,"app-modal",12,0)(9,"form",null,1)(11,"div",13)(12,"div",14)(13,"label",15),p(14,"Nome do Exerc\xEDcio"),u(),d(15,"ng-select",16),Z("ngModelChange",function(s){return D(i),ee(r.newExerciseName,s)||(r.newExerciseName=s),S(s)}),C("search",function(s){return D(i),S(r.onSearch(s))})("close",function(){return D(i),S(r.onCloseSelect())})("clear",function(){return D(i),S(r.onCloseSelect())}),x(16,s3,2,1,"ng-template",17)(17,a3,2,1,"ng-template",18),u()(),d(18,"div",19)(19,"label",20),p(20,"S\xE9ries"),u(),d(21,"input",21),Z("ngModelChange",function(s){return D(i),ee(r.newSets,s)||(r.newSets=s),S(s)}),u()(),d(22,"div",19)(23,"label",22),p(24,"Repeti\xE7\xF5es"),u(),d(25,"input",23),Z("ngModelChange",function(s){return D(i),ee(r.newReps,s)||(r.newReps=s),S(s)}),u()(),d(26,"div",19)(27,"label",24),p(28,"Carga (kg)"),u(),d(29,"input",25),Z("ngModelChange",function(s){return D(i),ee(r.newLoad,s)||(r.newLoad=s),S(s)}),u()()()(),d(30,"div",26,2)(32,"div")(33,"button",27),C("click",function(){D(i);let s=Fe(10);return S(r.addExercise(s))}),p(34,"Salvar"),u(),d(35,"button",28),C("click",function(){D(i);let s=Fe(8);return S(s.close())}),p(36,"Cancelar"),u()()()(),d(37,"app-modal",29,3)(39,"form")(40,"div",13)(41,"div",30)(42,"form")(43,"div",31)(44,"input",32),Z("ngModelChange",function(s){return D(i),ee(r.newWorkoutName,s)||(r.newWorkoutName=s),S(s)}),u()()()()()(),d(45,"div",26,2)(47,"div")(48,"button",27),C("click",function(){return D(i),S(r.addWorkout())}),p(49,"Salvar"),u(),d(50,"button",28),C("click",function(){D(i);let s=Fe(38);return S(s.close())}),p(51,"Cancelar"),u()()()(),d(52,"app-modal",33,4)(54,"form",null,5)(56,"div",13)(57,"div",14)(58,"label",34),p(59,"Nome do Exerc\xEDcio"),u(),d(60,"input",35),Z("ngModelChange",function(s){return D(i),ee(r.editableExercise.name,s)||(r.editableExercise.name=s),S(s)}),u()(),d(61,"div",19)(62,"label",34),p(63,"S\xE9ries"),u(),d(64,"input",36),Z("ngModelChange",function(s){return D(i),ee(r.editableExercise.sets,s)||(r.editableExercise.sets=s),S(s)}),u()(),d(65,"div",19)(66,"label",34),p(67,"Repeti\xE7\xF5es"),u(),d(68,"input",37),Z("ngModelChange",function(s){return D(i),ee(r.editableExercise.reps,s)||(r.editableExercise.reps=s),S(s)}),u()(),d(69,"div",19)(70,"label",34),p(71,"Carga (kg)"),u(),d(72,"input",38),Z("ngModelChange",function(s){return D(i),ee(r.editableExercise.load,s)||(r.editableExercise.load=s),S(s)}),u()()()(),d(73,"div",39,2)(75,"div")(76,"button",40),C("click",function(){return D(i),S(r.deleteExercise(r.editableExerciseIndex))}),I(77,"i",41),p(78,"Excluir"),u()(),d(79,"div")(80,"button",27),C("click",function(){D(i);let s=Fe(55);return S(r.updateExercise(s))}),p(81,"Salvar"),u(),d(82,"button",28),C("click",function(){D(i);let s=Fe(53);return S(s.close())}),p(83,"Cancelar"),u()()()()}e&2&&(m(5),y("ngIf",r.workouts.length==0),m(),y("ngIf",r.selectedWorkoutName),m(9),K("ngModel",r.newExerciseName),y("items",r.filteredOptions)("searchable",!0)("addTag",r.showAddItem?r.addCustomItem:!1),m(6),K("ngModel",r.newSets),m(4),K("ngModel",r.newReps),m(4),K("ngModel",r.newLoad),m(15),K("ngModel",r.newWorkoutName),m(16),K("ngModel",r.editableExercise.name),m(4),K("ngModel",r.editableExercise.sets),m(4),K("ngModel",r.editableExercise.reps),m(4),K("ngModel",r.editableExercise.load))},dependencies:[Dt,he,Ln,Te,kt,Me,Pn,Qr,Al,je,go,L,ve,W,Un,Zu,NS,Bf,ev,tv,Uf],encapsulation:2})};var l3=["goalsModal"];function c3(n,t){if(n&1){let e=V();d(0,"div",13)(1,"div",14),C("click",function(){let i=D(e).$implicit,o=w();return S(o.selectDay(i))}),d(2,"div",15),O_(),d(3,"svg",16),I(4,"path",17)(5,"path",18),u(),P_(),d(6,"div",19)(7,"div"),p(8),u()()(),d(9,"small"),p(10),u()()()}if(n&2){let e=t.$implicit,r=w();m(2),y("ngClass",r.getColorClass(e)),m(3),q("d-none",!e.hasGoals||r.getPoints(e).score==0),Mt("stroke-dasharray",r.getProgress(e)+", 100"),m(2),q("d-none",!e.hasGoals),m(),F("",r.getPoints(e).score,"/7"),m(),q("opacity-25",!e.hasGoals),m(),ne(e.date.getDate())}}function u3(n,t){if(n&1&&(d(0,"li",26),p(1),d(2,"span"),p(3),d(4,"span",27),p(5),Y(6,"number"),u()()()),n&2){let e=t.$implicit,r=w(2).ngIf,i=w();m(),F(" ",e.label," "),m(2),F(" - Meta: ",i.getGoalLabel(r,e.key).toFixed(0)," "),m(2),ne(J(6,3,i.getExecutedValue(r,e.key),"1.1-1"))}}function d3(n,t){if(n&1&&(d(0,"li",28),p(1),d(2,"span"),p(3),d(4,"span",27),p(5),Y(6,"number"),u()()()),n&2){let e=t.$implicit,r=w(2).ngIf,i=w();m(),F(" ",e.label," "),m(2),F(" - Meta: ",i.getGoalLabel(r,e.key).toFixed(0)," "),m(2),ne(J(6,3,i.getExecutedValue(r,e.key),"1.1-1"))}}function f3(n,t){if(n&1&&(at(0),d(1,"div",20)(2,"p",21)(3,"strong"),p(4,"Crit\xE9rios atingidos:"),u()(),d(5,"ul",22),x(6,u3,7,6,"li",23),u(),d(7,"p",21)(8,"strong"),p(9,"Crit\xE9rios n\xE3o atingidos:"),u()(),d(10,"ul",22),x(11,d3,7,6,"li",24),u()(),I(12,"record-snitch",25),lt()),n&2){let e=t.ngIf,r=w().ngIf,i=w();m(2),q("d-none",e.passed.length===0),m(4),y("ngForOf",e.passed),m(),q("d-none",e.failed.length===0),m(4),y("ngForOf",e.failed),m(),y("history",i.getRecord(r))}}function p3(n,t){if(n&1&&(at(0),x(1,f3,13,7,"ng-container",10),lt()),n&2){let e=t.ngIf,r=w();m(),y("ngIf",r.getPoints(e))}}var Wf=class n{constructor(t,e){this.macrosService=t;this.eStorage=e;this.temporaryWaterGoal=this.eStorage.getProfile()?.waterGoal||2e3}history=[];currentDate=new Date;daysInMonth=[];selectedDay=null;modal;temporaryWaterGoal;ngOnInit(){this.loadMonthData()}get monthName(){return this.currentDate.toLocaleString("default",{month:"long"})}get year(){return this.currentDate.getFullYear()}prevMonth(){this.currentDate=new Date(this.currentDate.setMonth(this.currentDate.getMonth()-1)),this.loadMonthData()}nextMonth(){this.currentDate=new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)),this.loadMonthData()}ngOnChanges(t){t.history&&this.loadMonthData()}buildTolerance(t,e,r){return[t*e,t*r]}getRecord(t){let e=t.date.toISOString().substring(0,10);return this.history.filter(r=>r.date==e)}loadMonthData(){let t=this.currentDate.getFullYear(),e=this.currentDate.getMonth(),r=new Date(t,e+1,0).getDate();this.daysInMonth=[];for(let i=1;i<=r;i++){let o=new Date(t,e,i),s=o.toISOString().substring(0,10),a=this.history.find(A=>A.date===s),l=a?.executed?.meals?.length?this.macrosService.sumMeals(a.executed.meals):null,c=a?.planned?.meals?.length?this.macrosService.sumMeals(a.planned.meals):null,f=this.temporaryWaterGoal,h=ie(M({},c||new In(0,0,0,0,0)),{hydration:f}),v={calories:this.buildTolerance(h.calories,.9,1.1),carbs:this.buildTolerance(h.carbs,.9,1.1),fat:this.buildTolerance(h.fat,.9,1.1),protein:this.buildTolerance(h.protein,.9,1.1),fiber:this.buildTolerance(h.fiber,.75,2),hydration:this.buildTolerance(h.hydration,.5,1)},g=this.eStorage.getWater();console.log("WATER ENTRIES",g),console.log("SNAPDATE",a?.date);let E=g?.find(A=>A.date===s);console.log("WATER ROW",E);let T=E?.amount||0;console.log("Dia:",o),console.log("Hidrata\xE7\xE3o executada:",T),console.log("Meta de hidrata\xE7\xE3o:",h.hydration),console.log("Toler\xE2ncia de hidrata\xE7\xE3o:",v.hydration),this.daysInMonth.push({date:o,data:ie(M({},l||new In(0,0,0,0,0)),{hydration:T}),goals:h,tolerance:v,hasGoals:!!c})}}getPoints(t){let e=0,r=[],i=[];if(!t.hasGoals)return{score:e,passed:r,failed:i};let[o,s]=t.tolerance.hydration;t.data.hydration>=t.goals.hydration*.5?(e++,r.push({key:"hydration_half",label:"Hidrata\xE7\xE3o 50%"})):i.push({key:"hydration_half",label:"Hidrata\xE7\xE3o 50%"}),t.data.hydration>=t.goals.hydration?(e++,r.push({key:"hydration",label:"Hidrata\xE7\xE3o 100%"})):i.push({key:"hydration",label:"Hidrata\xE7\xE3o 100%"});for(let a of["calories","carbs","fat","protein","fiber"]){let[l,c]=t.tolerance[a];t.data[a]>=l&&t.data[a]<=c?(e++,r.push({key:a,label:this.getLabel(a)||""})):i.push({key:a,label:this.getLabel(a)||""})}return{score:e,passed:r,failed:i}}getGoal(t,e){return t?.goals[e]}getGoalLabel(t,e){return e==="hydration_half"?t.goals.hydration*.5:this.getGoal(t,e)||0}getExecutedValue(t,e){return e==="hydration_half"||e==="hydration"?t.data.hydration:t.data[e]||0}getProgress(t){return this.getPoints(t).score/7*100}getColorClass(t){let e=this.getPoints(t).score;return e===0?"gray":e<3.5?"red":e<5?"orange":e<7?"yellow":"green"}getLabel(t){return{calories:"Meta de Calorias",carbs:"Meta de Carboidratos",fat:"Meta de Gorduras",protein:"Meta de Prote\xEDnas",fiber:"Meta de Fibras"}[t]}selectDay(t){this.selectedDay=t,t.hasGoals&&this.modal.open()}get minAvailableDate(){if(!this.history.length)return null;let t=this.history.map(e=>new Date(e.date));return new Date(Math.min(...t.map(e=>e.getTime())))}canGoToPreviousMonth(){return this.minAvailableDate?new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1,1)>=new Date(this.minAvailableDate.getFullYear(),this.minAvailableDate.getMonth(),1):!0}canGoToNextMonth(){let t=new Date;return this.currentDate.getFullYear()<t.getFullYear()||this.currentDate.getFullYear()===t.getFullYear()&&this.currentDate.getMonth()<t.getMonth()}static \u0275fac=function(e){return new(e||n)(b(ut),b(Ae))};static \u0275cmp=R({type:n,selectors:[["record-graph"]],viewQuery:function(e,r){if(e&1&&Be(l3,5),e&2){let i;le(i=ce())&&(r.modal=i.first)}},inputs:{history:"history"},features:[et],decls:19,vars:6,consts:[["goalsModal",""],["modalFooter",""],[1,"card","p-2","mb-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-outline-secondary","btn-sm","border-secondary-subtle",3,"click","disabled"],[1,"mb-0","text-capitalize"],[1,"card","px-2","py-3"],[1,"row","g-2"],["class","col-2 text-center",4,"ngFor","ngForOf"],["modalId","goalsModal","title","Detalhes"],[4,"ngIf"],["modalFooter","",1,"d-flex","justify-content-end","w-100"],[1,"btn","btn-outline-secondary",3,"click"],[1,"col-2","text-center"],[1,"position-relative",3,"click"],[1,"progress-circle","mx-auto",3,"ngClass"],["viewBox","0 0 36 36",1,"circular-chart"],["d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",1,"circle-bg"],["d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",1,"circle"],[1,"inner-text","lh-sm"],[1,"ms-2"],[1,"mb-1"],[1,"ps-3"],["class","text-success",4,"ngFor","ngForOf"],["class","text-danger",4,"ngFor","ngForOf"],[3,"history"],[1,"text-success"],[1,"badge","bg-body-secondary","text-muted",2,"font-size","xx-small","transform","translateY(-2px)"],[1,"text-danger"]],template:function(e,r){if(e&1){let i=V();d(0,"div",2)(1,"div",3)(2,"button",4),C("click",function(){return D(i),S(r.prevMonth())}),p(3,"\u2190"),u(),d(4,"h5",5),p(5),u(),d(6,"button",4),C("click",function(){return D(i),S(r.nextMonth())}),p(7,"\u2192"),u()()(),d(8,"div",6)(9,"div",7),x(10,c3,11,10,"div",8),u()(),d(11,"app-modal",9,0),x(13,p3,2,1,"ng-container",10),d(14,"div",11,1)(16,"div")(17,"button",12),C("click",function(){D(i);let s=Fe(12);return S(s.close())}),p(18,"Cancelar"),u()()()()}e&2&&(m(2),y("disabled",!r.canGoToPreviousMonth()),m(3),We("",r.monthName," ",r.year,""),m(),y("disabled",!r.canGoToNextMonth()),m(4),y("ngForOf",r.daysInMonth),m(3),y("ngIf",r.selectedDay))},dependencies:[L,Ct,ve,W,ln,Un,Gs],styles:[".progress-circle[_ngcontent-%COMP%]{position:relative;width:60px;height:60px}.circular-chart[_ngcontent-%COMP%]{display:block;margin:0 auto;max-width:100%;max-height:100%}.circle-bg[_ngcontent-%COMP%]{fill:none;stroke:#eee;stroke-width:4}.circle[_ngcontent-%COMP%]{fill:none;stroke-width:4;stroke-linecap:round;transform:rotate(-90deg);transform-origin:center;transition:stroke-dasharray 1s ease-out}.inner-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.75rem}.gray[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke:#adb5bd}.red[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke:#dc3545}.orange[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke:#fd7e14}.yellow[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke:#ffc107}.green[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke:#198754}"]})};var zf=class n{constructor(t,e,r){this.historyService=t;this.eStorage=e;this.dbservice=r}allHistory=[];ngOnInit(){return _(this,null,function*(){this.allHistory=this.eStorage.getRecords().reverse()})}static \u0275fac=function(e){return new(e||n)(b($n),b(Ae),b($e))};static \u0275cmp=R({type:n,selectors:[["record-goals"]],decls:2,vars:1,consts:[[1,"container","mt-3"],[3,"history"]],template:function(e,r){e&1&&(d(0,"div",0),I(1,"record-graph",1),u()),e&2&&(m(),y("history",r.allHistory))},dependencies:[L,Wf],encapsulation:2})};var qf=class n{constructor(t){this.router=t}purchase(t=""){this.irParaCheckout()}irParaCheckout(){this.router.navigate(["/checkout"])}scrollToPrice(){let t=document.getElementById("pricing");t&&t.scrollIntoView({behavior:"smooth"})}posCompra(){this.router.navigate(["/pos-compra"])}static \u0275fac=function(e){return new(e||n)(b(Ie))};static \u0275cmp=R({type:n,selectors:[["landig-page"]],decls:335,vars:0,consts:[["name","viewport","content","width=device-width, initial-scale=1"],["href",wb`https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css`,"rel","stylesheet","integrity","sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH","crossorigin","anonymous"],[1,"landing-page"],[1,"purple-grad","text-white","py-5"],[1,"container"],[1,"row","align-items-center","flex-md-row"],[1,"col-md-6","text-center","text-md-start","py-4"],[1,"hero-container"],[1,"hero-title"],[1,"display-4","fw-bold","mb-3"],[1,"text-reset","text-nowrap"],[1,"hero-subtitle"],[1,"lead","mb-4"],[1,"hero-features"],[1,"list-unstyled","mb-4"],[1,"mb-2"],[1,"hero-cta"],[1,"btn","btn-success","text-uppercase","fw-medium","btn-lg","py-3","px-4","mb-2","rounded-pill","move",3,"click"],[1,"small"],[1,"col-md-6","text-center","mb-4","mb-md-0","pt-5","pb-4"],[1,"phone-mockup","mx-auto","float-animation"],[1,"phone-screen"],[1,"app-preview","p-3"],[1,"app-header"],[1,"app-feature","rounded-2"],[1,"bg-light","py-5"],[1,"container","text-center"],[1,"fw-bold","mb-5"],[1,"row","g-4"],[1,"col-md-4"],[1,"p-4","bg-white","shadow-sm","rounded-4","h-100","move","shad"],[1,"fs-1","mb-3"],[1,"fw-bold"],[1,"text-muted"],[1,"py-5","bg-light"],[1,"p-4","bg-white","rounded-4","h-100","shadow-sm"],[1,"fs-2"],[1,"py-5","bg-white"],[1,"p-4","border","rounded","shadow-sm","h-100","text-start"],["id","pricing",1,"py-5"],[1,"row","g-4","justify-content-center"],[1,"card","h-100","border-success-subtle","rounded-4"],[1,"card-body"],[1,"card-title"],[1,"text-success"],[1,"list-unstyled"],[1,"btn","btn-success","rounded-pill","w-100","mt-3","move",3,"click"],[1,"card","h-100","border-primary-subtle","rounded-4"],[1,"text-primary"],[1,"btn","btn-primary","rounded-pill","w-100","mt-3","move",3,"click"],[1,"card","h-100","border-danger-subtle","rounded-4"],[1,"text-danger"],[1,"btn","btn-danger","rounded-pill","w-100","mt-3","move",3,"click"],[1,"bg-white","p-4","rounded-4","shadow-sm","h-100"],[1,"fs-4","text-warning","mb-2"],[1,"text-success","small"],[1,"py-5","text-white","bg-success","bg-gradient"],[1,"col-md-6","col-lg-3"],[1,"p-4","bg-white","text-dark","rounded-4","shadow-sm","h-100"],[1,"fs-3","fw-bold","text-success","mb-3","d-none","d-md-block"],[1,"text-muted","mb-md-3","mb-sm-0"],[1,"purple-grad","text-white","text-center","py-5"],[1,"container","d-flex","flex-column","gap-3","my-4"],[1,"fw-bold","fs-1"],[1,"btn","btn-success","rounded-pill","text-uppercase","fw-medium","btn-lg","py-3","px-5","mt-3","mx-auto","move",3,"click"],[1,"mt-3"]],template:function(e,r){e&1&&(I(0,"meta",0)(1,"link",1),d(2,"div",2)(3,"section",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h1",9),p(10," Alcance sua melhor vers\xE3o com o "),d(11,"span",10),p(12,"Omni Diet"),u()()(),d(13,"div",11)(14,"p",12),p(15," O aplicativo de controle nutricional que vai revolucionar sua jornada de emagrecimento e sa\xFAde "),u()(),d(16,"div",13)(17,"ul",14)(18,"li",15),p(19,"\u2705 Controle total da sua dieta"),u(),d(20,"li",15),p(21,"\u2705 Monitoramento de hidrata\xE7\xE3o"),u(),d(22,"li",15),p(23,"\u2705 Ficha de treino personalizada"),u(),d(24,"li",15),p(25,"\u2705 M\xE9tricas detalhadas de progresso"),u()()(),d(26,"div",16)(27,"button",17),C("click",function(){return r.scrollToPrice()}),p(28," Quero Transformar Minha Vida Agora "),u(),d(29,"div",18),p(30,"\u2713 30 dias de garantia incondicional"),u()()()(),d(31,"div",19)(32,"div",20)(33,"div",21)(34,"div",22)(35,"div",23),p(36,"Omni Diet"),u(),d(37,"div",24),p(38,"\u{1F4CA} Perfil Nutricional"),u(),d(39,"div",24),p(40,"\u{1F37D}\uFE0F Plano Alimentar"),u(),d(41,"div",24),p(42,"\u{1F4A7} Ingest\xE3o de \xC1gua"),u(),d(43,"div",24),p(44,"\u{1F4AA} Ficha de Treino"),u(),d(45,"div",24),p(46,"\u{1F4C8} Recordat\xF3rio"),u()()()()()()()(),d(47,"section",25)(48,"div",26)(49,"h2",27),p(50,"Para quem \xE9 o Omni Diet?"),u(),d(51,"div",28)(52,"div",29)(53,"div",30)(54,"div",31),p(55,"\u{1F9CD}"),u(),d(56,"h5",32),p(57,"Quem tenta emagrecer sozinho"),u(),d(58,"p",33),p(59,"Mas n\xE3o sabe o que comer ou como acompanhar resultados."),u()()(),d(60,"div",29)(61,"div",30)(62,"div",31),p(63,"\u{1F354}"),u(),d(64,"h5",32),p(65,"Quem quer comer melhor"),u(),d(66,"p",33),p(67,"Busca organizar a alimenta\xE7\xE3o sem depender de dietas malucas."),u()()(),d(68,"div",29)(69,"div",30)(70,"div",31),p(71,"\u{1F3CB}\uFE0F"),u(),d(72,"h5",32),p(73,"Quem treina e quer resultado"),u(),d(74,"p",33),p(75,"Mas precisa alinhar alimenta\xE7\xE3o e treino para evoluir de verdade."),u()()()()()(),d(76,"section",34)(77,"div",26)(78,"h2",27),p(79,"Voc\xEA Est\xE1 Cansado de..."),u(),d(80,"div",28)(81,"div",29)(82,"div",35)(83,"div",36),p(84,"\u{1F630}"),u(),d(85,"h5",32),p(86,"Dietas que n\xE3o funcionam"),u(),d(87,"p",33),p(88,"Tentar v\xE1rias dietas sem ver resultados reais e duradouros ou saber quanto tempo vai demorar"),u()()(),d(89,"div",29)(90,"div",35)(91,"div",36),p(92,"\u{1F4F1}"),u(),d(93,"h5",32),p(94,"Apps complicados"),u(),d(95,"p",33),p(96,"Aplicativos confusos, cheios de fun\xE7\xF5es in\xFAteis, que mais atrapalham do que ajudam no seu dia a dia."),u()()(),d(97,"div",29)(98,"div",35)(99,"div",36),p(100,"\u{1F937}\u200D\u2640\uFE0F"),u(),d(101,"h5",32),p(102,"Falta de controle"),u(),d(103,"p",33),p(104,"N\xE3o saber o que comer ou beber no dia a dia, sem metas claras ou dados que mostrem se voc\xEA est\xE1 no caminho certo."),u()()()()()(),d(105,"section",37)(106,"div",26)(107,"h2",27),p(108,"A Solu\xE7\xE3o Completa Est\xE1 Aqui!"),u(),d(109,"div",28)(110,"div",29)(111,"div",38)(112,"h5",32),p(113,"\u{1F464} Perfil Nutricional Personalizado"),u(),d(114,"p"),p(115,"Configure seu perfil com idade, peso, altura e objetivos. O app calcula automaticamente suas necessidades cal\xF3ricas e de macronutrientes."),u(),d(116,"ul")(117,"li"),p(118,"Meta cal\xF3rica ajustada ao seu objetivo"),u(),d(119,"li"),p(120,"Distribui\xE7\xE3o ideal de macronutrientes"),u(),d(121,"li"),p(122,"Meta di\xE1ria de hidrata\xE7\xE3o personalizada"),u()()()(),d(123,"div",29)(124,"div",38)(125,"h5",32),p(126,"\u{1F37D}\uFE0F Plano Alimentar Inteligente"),u(),d(127,"p"),p(128,"Acompanhe seu plano alimentar criado pelo seu nutricionista com facilidade e precis\xE3o."),u(),d(129,"ul")(130,"li"),p(131,"Visualiza\xE7\xE3o clara das refei\xE7\xF5es"),u(),d(132,"li"),p(133,"Controle de calorias e macros em tempo real"),u(),d(134,"li"),p(135,"Fun\xE7\xE3o de copiar refei\xE7\xF5es para outros dias"),u()()()(),d(136,"div",29)(137,"div",38)(138,"h5",32),p(139,"\u{1F6D2} Lista de Compras Autom\xE1tica"),u(),d(140,"p"),p(141,"Organize suas compras com base no seu plano alimentar de forma inteligente."),u(),d(142,"ul")(143,"li"),p(144,"Lista gerada automaticamente"),u(),d(145,"li"),p(146,"Organiza\xE7\xE3o por categorias"),u(),d(147,"li"),p(148,"Nunca mais esque\xE7a ingredientes"),u()()()(),d(149,"div",29)(150,"div",38)(151,"h5",32),p(152,"\u{1F4A7} Controle de Hidrata\xE7\xE3o"),u(),d(153,"p"),p(154,"Monitore sua ingest\xE3o di\xE1ria de \xE1gua com interface simples e visual."),u(),d(155,"ul")(156,"li"),p(157,"Acompanhamento semanal e mensal"),u(),d(158,"li"),p(159,"Bot\xF5es r\xE1pidos para adicionar \xE1gua"),u(),d(160,"li"),p(161,"Hist\xF3rico completo de hidrata\xE7\xE3o"),u()()()(),d(162,"div",29)(163,"div",38)(164,"h5",32),p(165,"\u{1F4AA} Ficha de Treino Completa"),u(),d(166,"p"),p(167,"Registre seus treinos e aumente as cargas progressivamente."),u(),d(168,"ul")(169,"li"),p(170,"Controle de exerc\xEDcios e cargas"),u(),d(171,"li"),p(172,"Progress\xE3o autom\xE1tica"),u(),d(173,"li"),p(174,"Hist\xF3rico de treinos"),u()()()(),d(175,"div",29)(176,"div",38)(177,"h5",32),p(178,"\u{1F4CA} Recordat\xF3rio e M\xE9tricas"),u(),d(179,"p"),p(180,"Veja seu hist\xF3rico completo e m\xE9tricas detalhadas para saber exatamente onde melhorar."),u(),d(181,"ul")(182,"li"),p(183,"An\xE1lise de desvios do plano"),u(),d(184,"li"),p(185,"M\xE9tricas de macronutrientes"),u(),d(186,"li"),p(187,"Identifica\xE7\xE3o de padr\xF5es"),u()()()()()()(),d(188,"section",39)(189,"div",26)(190,"h2",27),p(191,"Invista na Sua Transforma\xE7\xE3o"),u(),d(192,"div",40)(193,"div",29)(194,"div",41)(195,"div",42)(196,"h5",43),p(197,"Plano Mensal"),u(),d(198,"h3",44),p(199,"R$ 19,90"),u(),d(200,"p",33),p(201,"por m\xEAs"),u(),d(202,"ul",45)(203,"li"),p(204,"\u2713 Acesso completo"),u(),d(205,"li"),p(206,"\u2713 Suporte incluso"),u(),d(207,"li"),p(208,"\u2713 Garantia de 30 dias"),u()(),d(209,"button",46),C("click",function(){return r.purchase("mensal")}),p(210," Assinar Mensal "),u()()()(),d(211,"div",29)(212,"div",47)(213,"div",42)(214,"h5",43),p(215,"Plano Trimestral"),u(),d(216,"h3",48),p(217,"R$ 14,90"),u(),d(218,"p",33),p(219,"por m\xEAs (cobrado R$ 44,70)"),u(),d(220,"ul",45)(221,"li"),p(222,"\u2713 Acesso completo"),u(),d(223,"li"),p(224,"\u2713 Suporte incluso"),u(),d(225,"li"),p(226,"\u2713 Garantia de 30 dias"),u()(),d(227,"button",49),C("click",function(){return r.purchase("trimestral")}),p(228," Assinar Trimestral "),u()()()(),d(229,"div",29)(230,"div",50)(231,"div",42)(232,"h5",43),p(233,"Plano Semestral"),u(),d(234,"h3",51),p(235,"R$ 9,90"),u(),d(236,"p",33),p(237,"por m\xEAs (cobrado R$ 59,40)"),u(),d(238,"ul",45)(239,"li"),p(240,"\u2713 Acesso completo"),u(),d(241,"li"),p(242,"\u2713 Suporte incluso"),u(),d(243,"li"),p(244,"\u2713 Garantia de 30 dias"),u()(),d(245,"button",52),C("click",function(){return r.purchase("semestral")}),p(246," Assinar Semestral "),u()()()()()()(),d(247,"section",25)(248,"div",26)(249,"h2",27),p(250,"O Que Nossos Usu\xE1rios Dizem"),u(),d(251,"div",28)(252,"div",29)(253,"div",53)(254,"div",54),p(255,"\u2B50\u2B50\u2B50\u2B50\u2B50"),u(),d(256,"p"),p(257,'"Finalmente encontrei um app que realmente funciona! Perdi 8kg em 3 meses e me sinto incr\xEDvel."'),u(),I(258,"hr"),d(259,"strong"),p(260,"Maria Silva"),u(),I(261,"br"),d(262,"span",55),p(263,"Perdeu 8kg"),u()()(),d(264,"div",29)(265,"div",53)(266,"div",54),p(267,"\u2B50\u2B50\u2B50\u2B50\u2B50"),u(),d(268,"p"),p(269,'"O controle de \xE1gua me ajudou muito! Agora bebo a quantidade certa todos os dias."'),u(),I(270,"hr"),d(271,"strong"),p(272,"Jo\xE3o Santos"),u(),I(273,"br"),d(274,"span",55),p(275,"Melhorou hidrata\xE7\xE3o"),u()()(),d(276,"div",29)(277,"div",53)(278,"div",54),p(279,"\u2B50\u2B50\u2B50\u2B50\u2B50"),u(),d(280,"p"),p(281,'"As m\xE9tricas s\xE3o fant\xE1sticas! Consigo ver exatamente onde preciso melhorar."'),u(),I(282,"hr"),d(283,"strong"),p(284,"Ana Costa"),u(),I(285,"br"),d(286,"span",55),p(287,"Atingiu objetivos"),u()()()()()(),d(288,"section",56)(289,"div",26)(290,"h2",27),p(291,"Resultados que Voc\xEA Vai Alcan\xE7ar"),u(),d(292,"div",28)(293,"div",57)(294,"div",58)(295,"div",59),p(296,"1"),u(),d(297,"h5",32),p(298,"Emagrecimento Sustent\xE1vel"),u(),d(299,"p",60),p(300,"Perca peso de forma saud\xE1vel e mantenha os resultados a longo prazo"),u()()(),d(301,"div",57)(302,"div",58)(303,"div",59),p(304,"2"),u(),d(305,"h5",32),p(306,"Mais Energia e Disposi\xE7\xE3o"),u(),d(307,"p",60),p(308,"Sinta-se mais disposto(a) e energizado(a) no seu dia a dia"),u()()(),d(309,"div",57)(310,"div",58)(311,"div",59),p(312,"3"),u(),d(313,"h5",32),p(314,"H\xE1bitos Saud\xE1veis"),u(),d(315,"p",60),p(316,"Desenvolva uma rela\xE7\xE3o saud\xE1vel com a comida e exerc\xEDcios"),u()()(),d(317,"div",57)(318,"div",58)(319,"div",59),p(320,"4"),u(),d(321,"h5",32),p(322,"Autoestima Elevada"),u(),d(323,"p",60),p(324,"Recupere sua confian\xE7a e se sinta bem com seu corpo"),u()()()()()(),d(325,"section",61)(326,"div",62)(327,"h2",63),p(328,"N\xE3o Perca Mais Tempo!"),u(),d(329,"p"),p(330,"Sua transforma\xE7\xE3o come\xE7a hoje. Junte-se a in\xFAmeras pessoas que j\xE1 mudaram suas vidas com o Omni Diet."),u(),d(331,"button",64),C("click",function(){return r.purchase()}),p(332," Garantir Meu Acesso Agora "),u(),d(333,"p",65),p(334,"\u2713 30 dias de garantia \u2022 \u2713 Acesso imediato \u2022 \u2713 Suporte completo"),u()()()())},styles:[".bg-green[_ngcontent-%COMP%]{background:linear-gradient(45deg,#4caf50,#8bc34a)}.color-green[_ngcontent-%COMP%]{color:linear-gradient(45deg,#4CAF50,#8BC34A)}.move[_ngcontent-%COMP%]{transition:transform .3s ease}.move[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.shad[_ngcontent-%COMP%]{transition:all .3s ease}.shad[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #0000000d}.hero-title[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.hero-subtitle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .2s both}.hero-features[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .4s both}.hero-cta[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .6s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.float-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}.text-shadow-light[_ngcontent-%COMP%]{text-shadow:0 1px 3px rgba(0,0,0,.3)}.phone-mockup[_ngcontent-%COMP%]{width:300px;height:550px;border-radius:40px;background:#1a1a1a;padding:15px;position:relative;box-shadow:0 20px 60px #0000004d}.phone-screen[_ngcontent-%COMP%]{width:100%;height:100%;background:#fff;border-radius:30px;overflow:hidden;display:flex;flex-direction:column}.app-preview[_ngcontent-%COMP%]{padding:20px;height:100%;background:linear-gradient(135deg,#2f8b33e3,#8bc34a);color:#fff;display:flex;flex-direction:column;gap:15px}.app-header[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-align:center;padding:15px 0;background:#ffffff1a;border-radius:15px}.app-feature[_ngcontent-%COMP%]{background:#ffffff26;padding:12px;border-radius:12px;font-size:1rem;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.purple-grad[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5d73d4,#764ba2)}.landing-page[_ngcontent-%COMP%]{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;line-height:1.6;color:#333;overflow-x:hidden}"]})};var Gf=class n{constructor(t){this.router=t}abrirApp(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||n)(b(Ie))};static \u0275cmp=R({type:n,selectors:[["after-purchase"]],decls:52,vars:0,consts:[[1,"container","my-5"],[1,"text-center"],[1,"mb-3"],[1,"lead"],[1,"my-4"],[1,"text-start","mb-4"],[1,"bi","bi-three-dots-vertical"],[1,"bi","bi-box-arrow-up"],[1,"btn","btn-success","mt-4",3,"click"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h2",2),p(3,"\u2705 Compra realizada com sucesso!"),u(),d(4,"p",3),p(5,"Em breve voc\xEA receber\xE1 um WhatsApp com seu c\xF3digo de acesso tempor\xE1rio."),u(),I(6,"hr",4),d(7,"h4",2),p(8,"\u{1F4F1} Como instalar o app"),u(),d(9,"div",5)(10,"p")(11,"strong"),p(12,"Android:"),u()(),d(13,"ol")(14,"li"),p(15,"Abra o app no navegador do celular."),u(),d(16,"li"),p(17,"Toque no menu ("),I(18,"i",6),p(19,") e selecione "),d(20,"strong"),p(21,'"Adicionar \xE0 tela inicial"'),u(),p(22,"."),u()(),d(23,"p")(24,"strong"),p(25,"iOS (iPhone):"),u()(),d(26,"ol")(27,"li"),p(28,"Abra o app no Safari."),u(),d(29,"li"),p(30,"Toque no \xEDcone de compartilhar ("),I(31,"i",7),p(32,")."),u(),d(33,"li"),p(34,"Escolha "),d(35,"strong"),p(36,'"Adicionar \xE0 Tela de In\xEDcio"'),u(),p(37,"."),u()()(),d(38,"h5",2),p(39,"\u{1F510} Ap\xF3s instalar:"),u(),d(40,"p"),p(41,"Abra o app, digite seu "),d(42,"strong"),p(43,"e-mail"),u(),p(44," e o "),d(45,"strong"),p(46,"c\xF3digo tempor\xE1rio"),u(),p(47," recebido para acessar."),u(),d(48,"p"),p(49,"Voc\xEA poder\xE1 definir uma nova senha no primeiro acesso."),u(),d(50,"button",8),C("click",function(){return r.abrirApp()}),p(51,"Ir para o App"),u()()())},encapsulation:2})};var FS=n=>({"is-invalid":n});function h3(n,t){n&1&&(d(0,"div",12),p(1," Email \xE9 obrigat\xF3rio. "),u())}function m3(n,t){n&1&&(d(0,"div",12),p(1," Email inv\xE1lido. "),u())}function g3(n,t){n&1&&(d(0,"div",12),p(1," Telefone \xE9 obrigat\xF3rio. "),u())}function v3(n,t){n&1&&(d(0,"div",12),p(1," Telefone inv\xE1lido. Ex: 11999999999 "),u())}var Qf=class n{constructor(t,e,r){this.fb=t;this.http=e;this.router=r}checkoutForm;loading=!1;preferenciaCriada=!1;ngOnInit(){this.checkoutForm=this.fb.group({email:["",[Nt.required,Nt.email]],telefone:["",[Nt.required,Nt.pattern(/^\(?\d{2}\)?[\s-]?\d{4,5}-?\d{4}$/)]]})}get email(){return this.checkoutForm.get("email")}get telefone(){return this.checkoutForm.get("telefone")}criarPreferencia(){return _(this,null,function*(){if(this.checkoutForm.invalid){this.checkoutForm.markAllAsTouched();return}this.loading=!0,this.router.navigate(["/pos-compra"]);let{email:t,telefone:e}=this.checkoutForm.value;this.loading=!1})}static \u0275fac=function(e){return new(e||n)(b(Vs),b(eo),b(Ie))};static \u0275cmp=R({type:n,selectors:[["app-checkout"]],decls:20,vars:13,consts:[[1,"container","d-flex","justify-content-center","align-items-center","min-vh-100"],[1,"card","p-4","shadow-lg",2,"max-width","500px","width","100%"],[1,"text-center","mb-4"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","telefone",1,"form-label"],["id","telefone","type","tel","formControlName","telefone",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["id","botao-mercado-pago",1,"mt-4"],[1,"invalid-feedback"]],template:function(e,r){e&1&&(d(0,"div",0)(1,"div",1)(2,"h3",2),p(3,"\u{1F4B3} Finalize sua Assinatura"),u(),d(4,"form",3),C("ngSubmit",function(){return r.criarPreferencia()}),d(5,"div",4)(6,"label",5),p(7,"Seu Email"),u(),I(8,"input",6),x(9,h3,2,0,"div",7)(10,m3,2,0,"div",7),u(),d(11,"div",4)(12,"label",8),p(13,"WhatsApp com DDD"),u(),I(14,"input",9),x(15,g3,2,0,"div",7)(16,v3,2,0,"div",7),u(),d(17,"button",10),p(18),u()(),I(19,"div",11),u()()),e&2&&(m(4),y("formGroup",r.checkoutForm),m(4),y("ngClass",Kt(9,FS,(r.email==null?null:r.email.invalid)&&(r.email==null?null:r.email.touched))),m(),y("ngIf",(r.email==null||r.email.errors==null?null:r.email.errors.required)&&(r.email==null?null:r.email.touched)),m(),y("ngIf",(r.email==null||r.email.errors==null?null:r.email.errors.email)&&(r.email==null?null:r.email.touched)),m(4),y("ngClass",Kt(11,FS,(r.telefone==null?null:r.telefone.invalid)&&(r.telefone==null?null:r.telefone.touched))),m(),y("ngIf",(r.telefone==null||r.telefone.errors==null?null:r.telefone.errors.required)&&(r.telefone==null?null:r.telefone.touched)),m(),y("ngIf",(r.telefone==null||r.telefone.errors==null?null:r.telefone.errors.pattern)&&(r.telefone==null?null:r.telefone.touched)),m(),y("disabled",r.loading),m(),F(" ",r.loading?"Carregando...":"Gerar Pagamento"," "))},dependencies:[L,Ct,W,he,Ln,Te,Me,Pn,Ei,Ci,vo],encapsulation:2})};var RS=[{path:"landing-page",component:qf},{path:"checkout",component:Qf},{path:"pos-compra",component:Gf},{path:"login",component:vf,canActivate:[yf]},{path:"",component:bf,children:[{path:"meal-plan",component:df,canActivate:[Bt],data:{title:"Plano Alimentar",description:"Acompanhe o plano alimentar criado pelo seu Nutri"}},{path:"record-meal-editor",component:Df,canActivate:[Bt],data:{title:"Registrar refei\xE7\xE3o",description:""}},{path:"shopping-list",component:ff,canActivate:[Bt],data:{title:"Lista de Compras",description:"Organize suas compras com base no plano alimentar"}},{path:"water-intake",component:cf,canActivate:[Bt],data:{title:"Ingest\xE3o de \xC1gua",description:"Monitore sua ingest\xE3o di\xE1ria de \xE1gua"}},{path:"exercices",component:Hf,canActivate:[Bt],data:{title:"Ficha de treino",description:"Registre seu treino e aumente as cargas"}},{path:"import-food",component:Hs,canActivate:[Bt],data:{title:"Importar Alimentos",description:"Busque alimentos para o aplicativo."}},{path:"profile",component:hf,canActivate:[Bt],data:{title:"Perfil",description:"Preencha seus dados e confira suas necessidades di\xE1rias"}},{path:"tracker",component:gf,canActivate:[Bt],data:{title:"Exercicios",description:"Registre seus exercicios e gasto cal\xF3rico"}},{path:"record-viewer",component:Ef,canActivate:[Bt],data:{title:"Recordat\xF3rio",description:"Veja seu hist\xF3rico de refei\xE7\xF5es registradas"}},{path:"food-substitution",component:zs,canActivate:[Bt],data:{title:"Substitui\xE7\xF5es Alimentares",description:"Encontre alternativas para os alimentos da sua dieta"}},{path:"tools",component:Lf,canActivate:[Bt],data:{title:"Ferramentas",description:"Recursos \xFAteis para voc\xEA"}},{path:"goals",component:zf,canActivate:[Bt],data:{title:"Objetivos",description:"Visualize seu progresso"}},{path:"home",component:pf,canActivate:[Bt],data:{title:"Omni Diet",description:"Sua sa\xFAde em um s\xF3 lugar"}},{path:"",redirectTo:"home",pathMatch:"full"}]},{path:"**",redirectTo:"/login"}];var OS={name:"NutriAppDB",version:1,objectStoresMeta:[{store:"profile",storeConfig:{keyPath:"id",autoIncrement:!1},storeSchema:[]},{store:"foods",storeConfig:{keyPath:"id",autoIncrement:!1},storeSchema:[{name:"description",keypath:"description",options:{unique:!1}},{name:"calories",keypath:"calories",options:{unique:!1}},{name:"updatedAt",keypath:"updatedAt",options:{unique:!1}}]}]};var nv={production:!0,supabaseUrl:"https://rktfcrybdocygcauvfpd.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrdGZjcnliZG9jeWdjYXV2ZnBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc2NjcwODQsImV4cCI6MjA2MzI0MzA4NH0.uF62k7MBvO029wrEXcnF79zIItO3ScixF9fAEjLySVY"};var Pl="Service workers are disabled or not supported by this browser";function y3(n){return Oi(()=>ei(new Error(n)))}var Ks=class{serviceWorker;worker;registration;events;constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=y3(Pl);else{let r=qn(t,"controllerchange").pipe(z(()=>t.controller)),i=Oi(()=>Q(t.controller)),o=tr(i,r);this.worker=o.pipe(Ye(f=>!!f)),this.registration=this.worker.pipe(vt(()=>t.getRegistration()));let c=qn(t,"message").pipe(z(f=>f.data)).pipe(Ye(f=>f&&f.type)).pipe(Ap());c.connect(),this.events=c}}postMessage(t,e){return this.worker.pipe(ot(1),st(r=>{r.postMessage(M({action:t},e))})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(t,e);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=r=>r.type===t:e=r=>t.includes(r.type),this.events.pipe(Ye(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(ot(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ye(e=>e.nonce===t),ot(1),z(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},_3=(()=>{class n{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Ne;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=Pi,this.notificationClicks=Pi,this.subscription=Pi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(z(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(z(i=>i.data)),this.pushManager=this.sw.registration.pipe(z(i=>i.pushManager));let r=this.pushManager.pipe(vt(i=>i.getSubscription()));this.subscription=ni(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Pl));let r={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(vt(s=>s.subscribe(r)),ot(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pl));let e=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(ot(1),vt(e)).toPromise()}decodeBase64(e){return atob(e)}static \u0275fac=function(r){return new(r||n)(O(Ks))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),b3=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=Pi,this.unrecoverable=Pi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pl));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Pl));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(r){return new(r||n)(O(Ks))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var PS=new P("");function w3(n,t,e,r){return()=>{if(!(Ia(r)&&"serviceWorker"in navigator&&e.enabled!==!1))return;let i=n.get(Oe),o=n.get(Tn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,l=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",l),o.onDestroy(()=>{a.removeEventListener("controllerchange",l)})});let s;if(typeof e.registrationStrategy=="function")s=e.registrationStrategy();else{let[a,...l]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=Q(null);break;case"registerWithDelay":s=LS(+l[0]||0);break;case"registerWhenStable":let c=xe(n.get(Tn).whenStable());s=l[0]?ni(c,LS(+l[0])):c;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(ot(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function LS(n){return Q(null).pipe(Tp(n))}function C3(n,t){return new Ks(Ia(t)&&n.enabled!==!1?navigator.serviceWorker:void 0)}var Ol=class{enabled;scope;registrationStrategy};function VS(n,t={}){return lr([_3,b3,{provide:PS,useValue:n},{provide:Ol,useValue:t},{provide:Ks,useFactory:C3,deps:[Ol,vn]},{provide:ts,useFactory:w3,deps:[zt,PS,Ol,vn],multi:!0}])}var E3=kD(nv.supabaseUrl,nv.supabaseKey),jS={providers:[vg(),Fw({eventCoalescing:!0}),yE(RS),nm(he),yS(OS),{provide:Dn,useValue:E3},VS("ngsw-worker.js",{enabled:!ku(),registrationStrategy:"registerWhenStable:30000"})]};var Kf=class n{constructor(t,e,r,i){this.router=t;this.route=e;this.syncService=r;this.planRecordService=i}ngOnInit(){return _(this,null,function*(){window.addEventListener("orientationchange",()=>{setTimeout(()=>{window.scrollTo(0,1)},500)}),yield this.syncService.syncIfNeeded(),this.planRecordService.freezeMissingPlansIfNeeded(),this.setRealViewportHeight(),window.addEventListener("resize",this.setRealViewportHeight)})}setRealViewportHeight=()=>{let t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${t}px`)};static \u0275fac=function(e){return new(e||n)(b(Ie),b(cn),b(Qs),b($n))};static \u0275cmp=R({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){e&1&&I(0,"router-outlet")},dependencies:[Za],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Arial,sans-serif}.list-group-item[_ngcontent-%COMP%]{border-radius:10px;background-color:#f8f9fa}footer[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px}"]})};IC(Kf,jS).catch(n=>console.error(n));
