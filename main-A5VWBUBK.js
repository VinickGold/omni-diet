import{b as Dg,c as Cg,f as lD,g as Eg}from"./chunk-X5YLR3NI.js";import{a as E,b as J,c as Uu,e as On,g as sD,h as aD,i as m}from"./chunk-ODN5LVDJ.js";var Vp=On(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});var Lp=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};jp.default=Lp});var Up=On(Ps=>{"use strict";var v_=Ps&&Ps.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ps,"__esModule",{value:!0});var VN=v_((Eg(),aD(lD))),BN=v_(Vp()),Bp=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=VN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=Object.assign({},this.headers),this.headers[n]=e,this}then(n,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>m(this,null,function*(){var s,a,l;let c=null,u=null,d=null,g=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){let A=yield o.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=A:u=JSON.parse(A))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),D=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&D&&D.length>1&&(d=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,g=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let _=yield o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(u=[],c=null,g=200,f="OK")}catch{o.status===404&&_===""?(g=204,f="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,g=200,f="OK"),c&&this.shouldThrowOnError)throw new BN.default(c)}return{error:c,data:u,count:d,status:g,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}};Ps.default=Bp});var Hp=On(Ls=>{"use strict";var UN=Ls&&Ls.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ls,"__esModule",{value:!0});var $N=UN(Up()),$p=class extends $N.default{select(n){let e=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ls.default=$p});var jc=On(js=>{"use strict";var HN=js&&js.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(js,"__esModule",{value:!0});var WN=HN(Hp()),Wp=class extends WN.default{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}in(n,e){let r=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}};js.default=Wp});var zp=On(Bs=>{"use strict";var qN=Bs&&Bs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});var Vs=qN(jc()),qp=class{constructor(n,{headers:e={},schema:r,fetch:i}){this.url=n,this.headers=e,this.schema=r,this.fetch=i}select(n,{head:e=!1,count:r}={}){let i=e?"HEAD":"GET",o=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Vs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:e,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),e&&o.push(`count=${e}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Vs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Vs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:e}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new Vs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let e="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Vs.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bs.default=qp});var y_=On(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.version=void 0;Vc.version="0.0.0-automated"});var w_=On(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.DEFAULT_HEADERS=void 0;var zN=y_();Bc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zN.version}`}});var b_=On(Us=>{"use strict";var __=Us&&Us.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Us,"__esModule",{value:!0});var GN=__(zp()),QN=__(jc()),ZN=w_(),Gp=class t{constructor(n,{headers:e={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},ZN.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(n){let e=new URL(`${this.url}/${n}`);return new GN.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new t(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,e={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=e);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new QN.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Us.default=Gp});var x_=On(Xe=>{"use strict";var go=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;var D_=go(b_());Xe.PostgrestClient=D_.default;var C_=go(zp());Xe.PostgrestQueryBuilder=C_.default;var E_=go(jc());Xe.PostgrestFilterBuilder=E_.default;var I_=go(Hp());Xe.PostgrestTransformBuilder=I_.default;var S_=go(Up());Xe.PostgrestBuilder=S_.default;var M_=go(Vp());Xe.PostgrestError=M_.default;Xe.default={PostgrestClient:D_.default,PostgrestQueryBuilder:C_.default,PostgrestFilterBuilder:E_.default,PostgrestTransformBuilder:I_.default,PostgrestBuilder:S_.default,PostgrestError:M_.default}});function qu(t,n){return Object.is(t,n)}var He=null,da=!1,zu=1,St=Symbol("SIGNAL");function se(t){let n=He;return He=t,n}function Ig(){return He}var Po={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ha(t){if(da)throw new Error("");if(He===null)return;He.consumerOnSignalRead(t);let n=He.nextProducerIndex++;if(ma(He),n<He.producerNode.length&&He.producerNode[n]!==t&&Fo(He)){let e=He.producerNode[n];ga(e,He.producerIndexOfThis[n])}He.producerNode[n]!==t&&(He.producerNode[n]=t,He.producerIndexOfThis[n]=Fo(He)?xg(t,He,n):0),He.producerLastReadVersion[n]=t.version}function cD(){zu++}function Gu(t){if(!(Fo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===zu)){if(!t.producerMustRecompute(t)&&!Zu(t)){Wu(t);return}t.producerRecomputeValue(t),Wu(t)}}function Sg(t){if(t.liveConsumerNode===void 0)return;let n=da;da=!0;try{for(let e of t.liveConsumerNode)e.dirty||uD(e)}finally{da=n}}function Mg(){return He?.consumerAllowSignalWrites!==!1}function uD(t){t.dirty=!0,Sg(t),t.consumerMarkedDirty?.(t)}function Wu(t){t.dirty=!1,t.lastCleanEpoch=zu}function pa(t){return t&&(t.nextProducerIndex=0),se(t)}function Qu(t,n){if(se(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fo(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)ga(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Zu(t){ma(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(Gu(e),r!==e.version))return!0}return!1}function Ku(t){if(ma(t),Fo(t))for(let n=0;n<t.producerNode.length;n++)ga(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xg(t,n,e){if(Tg(t),t.liveConsumerNode.length===0&&Ag(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=xg(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function ga(t,n){if(Tg(t),t.liveConsumerNode.length===1&&Ag(t))for(let r=0;r<t.producerNode.length;r++)ga(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];ma(i),i.producerIndexOfThis[r]=n}}function Fo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ma(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Tg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ag(t){return t.producerNode!==void 0}function Ng(t){let n=Object.create(dD);n.computation=t;let e=()=>{if(Gu(n),ha(n),n.value===fa)throw n.error;return n.value};return e[St]=n,e}var $u=Symbol("UNSET"),Hu=Symbol("COMPUTING"),fa=Symbol("ERRORED"),dD=J(E({},Po),{value:$u,dirty:!0,error:null,equal:qu,kind:"computed",producerMustRecompute(t){return t.value===$u||t.value===Hu},producerRecomputeValue(t){if(t.value===Hu)throw new Error("Detected cycle in computations.");let n=t.value;t.value=Hu;let e=pa(t),r;try{r=t.computation()}catch(i){r=fa,t.error=i}finally{Qu(t,e)}if(n!==$u&&n!==fa&&r!==fa&&t.equal(n,r)){t.value=n;return}t.value=r,t.version++}});function fD(){throw new Error}var Rg=fD;function kg(){Rg()}function Og(t){Rg=t}var hD=null;function Fg(t){let n=Object.create(Yu);n.value=t;let e=()=>(ha(n),n.value);return e[St]=n,e}function va(t,n){Mg()||kg(),t.equal(t.value,n)||(t.value=n,pD(t))}function Pg(t,n){Mg()||kg(),va(t,n(t.value))}var Yu=J(E({},Po),{equal:qu,value:void 0,kind:"signal"});function pD(t){t.version++,cD(),Sg(t),hD?.()}function H(t){return typeof t=="function"}function wi(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var ya=wi(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Lo(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Oe=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){n=o instanceof ya?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Lg(o)}catch(s){n=n??[],s instanceof ya?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ya(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Lg(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Lo(e,n)}remove(n){let{_finalizers:e}=this;e&&Lo(e,n),n instanceof t&&n._removeParent(this)}};Oe.EMPTY=(()=>{let t=new Oe;return t.closed=!0,t})();var Ju=Oe.EMPTY;function wa(t){return t instanceof Oe||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function Lg(t){H(t)?t():t.unsubscribe()}var en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _i={setTimeout(t,n,...e){let{delegate:r}=_i;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=_i;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _a(t){_i.setTimeout(()=>{let{onUnhandledError:n}=en;if(n)n(t);else throw t})}function jo(){}var jg=Xu("C",void 0,void 0);function Vg(t){return Xu("E",void 0,t)}function Bg(t){return Xu("N",t,void 0)}function Xu(t,n,e){return{kind:t,value:n,error:e}}var Or=null;function bi(t){if(en.useDeprecatedSynchronousErrorHandling){let n=!Or;if(n&&(Or={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=Or;if(Or=null,e)throw r}}else t()}function Ug(t){en.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=t)}var Fr=class extends Oe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,wa(n)&&n.add(this)):this.destination=vD}static create(n,e,r){return new ar(n,e,r)}next(n){this.isStopped?td(Bg(n),this):this._next(n)}error(n){this.isStopped?td(Vg(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?td(jg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gD=Function.prototype.bind;function ed(t,n){return gD.call(t,n)}var nd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){ba(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){ba(r)}else ba(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){ba(e)}}},ar=class extends Fr{constructor(n,e,r){super();let i;if(H(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&en.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&ed(n.next,o),error:n.error&&ed(n.error,o),complete:n.complete&&ed(n.complete,o)}):i=n}this.destination=new nd(i)}};function ba(t){en.useDeprecatedSynchronousErrorHandling?Ug(t):_a(t)}function mD(t){throw t}function td(t,n){let{onStoppedNotification:e}=en;e&&_i.setTimeout(()=>e(t,n))}var vD={closed:!0,next:jo,error:mD,complete:jo};var Di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Mt(t){return t}function rd(...t){return id(t)}function id(t){return t.length===0?Mt:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var k=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=wD(e)?e:new ar(e,r,i);return bi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=$g(r),new r((i,o)=>{let s=new ar({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[Di](){return this}pipe(...e){return id(e)(this)}toPromise(e){return e=$g(e),new e((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function $g(t){var n;return(n=t??en.Promise)!==null&&n!==void 0?n:Promise}function yD(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function wD(t){return t&&t instanceof Fr||yD(t)&&wa(t)}function od(t){return H(t?.lift)}function ie(t){return n=>{if(od(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(t,n,e,r,i){return new sd(t,n,e,r,i)}var sd=class extends Fr{constructor(n,e,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Ci(){return ie((t,n)=>{let e=null;t._refCount++;let r=ne(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var Ei=class extends k{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,od(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Oe;let e=this.getSubject();n.add(this.source.subscribe(ne(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Oe.EMPTY)}return n}refCount(){return Ci()(this)}};var Hg=wi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class t extends k{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new Da(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Hg}next(e){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ju:(this.currentObservers=null,o.push(e),new Oe(()=>{this.currentObservers=null,Lo(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new k;return e.source=this,e}}return t.create=(n,e)=>new Da(n,e),t})(),Da=class extends Fe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:Ju}};var Je=class extends Fe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var xt=new k(t=>t.complete());function Wg(t){return t&&H(t.schedule)}function qg(t){return t[t.length-1]}function Ca(t){return H(qg(t))?t.pop():void 0}function lr(t){return Wg(qg(t))?t.pop():void 0}function Ce(t,n,e,r){var i=arguments.length,o=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(n,e,o):s(n,e))||o);return i>3&&o&&Object.defineProperty(n,e,o),o}function Gg(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})}function zg(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pr(t){return this instanceof Pr?(this.v=t,this):new Pr(t)}function Qg(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(y){return Promise.resolve(y).then(f,d)}}function a(f,y){r[f]&&(i[f]=function(_){return new Promise(function(D,A){o.push([f,_,D,A])>1||l(f,_)})},y&&(i[f]=y(i[f])))}function l(f,y){try{c(r[f](y))}catch(_){g(o[0][3],_)}}function c(f){f.value instanceof Pr?Promise.resolve(f.value.v).then(u,d):g(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function g(f,y){f(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Zg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof zg=="function"?zg(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Ea=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ia(t){return H(t?.then)}function Sa(t){return H(t[Di])}function Ma(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}function xa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _D(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ta=_D();function Aa(t){return H(t?.[Ta])}function Na(t){return Qg(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield Pr(e.read());if(i)return yield Pr(void 0);yield yield Pr(r)}}finally{e.releaseLock()}})}function Ra(t){return H(t?.getReader)}function Pe(t){if(t instanceof k)return t;if(t!=null){if(Sa(t))return bD(t);if(Ea(t))return DD(t);if(Ia(t))return CD(t);if(Ma(t))return Kg(t);if(Aa(t))return ED(t);if(Ra(t))return ID(t)}throw xa(t)}function bD(t){return new k(n=>{let e=t[Di]();if(H(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DD(t){return new k(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function CD(t){return new k(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,_a)})}function ED(t){return new k(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function Kg(t){return new k(n=>{SD(t,n).catch(e=>n.error(e))})}function ID(t){return Kg(Na(t))}function SD(t,n){var e,r,i,o;return Gg(this,void 0,void 0,function*(){try{for(e=Zg(t);r=yield e.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function gt(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ka(t,n=0){return ie((e,r)=>{e.subscribe(ne(r,i=>gt(r,t,()=>r.next(i),n),()=>gt(r,t,()=>r.complete(),n),i=>gt(r,t,()=>r.error(i),n)))})}function Oa(t,n=0){return ie((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Yg(t,n){return Pe(t).pipe(Oa(n),ka(n))}function Jg(t,n){return Pe(t).pipe(Oa(n),ka(n))}function Xg(t,n){return new k(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function em(t,n){return new k(e=>{let r;return gt(e,n,()=>{r=t[Ta](),gt(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function Fa(t,n){if(!t)throw new Error("Iterable cannot be null");return new k(e=>{gt(e,n,()=>{let r=t[Symbol.asyncIterator]();gt(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function tm(t,n){return Fa(Na(t),n)}function nm(t,n){if(t!=null){if(Sa(t))return Yg(t,n);if(Ea(t))return Xg(t,n);if(Ia(t))return Jg(t,n);if(Ma(t))return Fa(t,n);if(Aa(t))return em(t,n);if(Ra(t))return tm(t,n)}throw xa(t)}function pe(t,n){return n?nm(t,n):Pe(t)}function j(...t){let n=lr(t);return pe(t,n)}function Ii(t,n){let e=H(t)?t:()=>t,r=i=>i.error(e());return new k(n?i=>n.schedule(r,0,i):r)}function ad(t){return!!t&&(t instanceof k||H(t.lift)&&H(t.subscribe))}var tn=wi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function nn(t,n){let e=typeof n=="object";return new Promise((r,i)=>{let o=new ar({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{e?r(n.defaultValue):i(new tn)}});t.subscribe(o)})}function V(t,n){return ie((e,r)=>{let i=0;e.subscribe(ne(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:MD}=Array;function xD(t,n){return MD(n)?t(...n):t(n)}function Pa(t){return V(n=>xD(t,n))}var{isArray:TD}=Array,{getPrototypeOf:AD,prototype:ND,keys:RD}=Object;function La(t){if(t.length===1){let n=t[0];if(TD(n))return{args:n,keys:null};if(kD(n)){let e=RD(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function kD(t){return t&&typeof t=="object"&&AD(t)===ND}function ja(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function Lr(...t){let n=lr(t),e=Ca(t),{args:r,keys:i}=La(t);if(r.length===0)return pe([],n);let o=new k(OD(r,n,i?s=>ja(i,s):Mt));return e?o.pipe(Pa(e)):o}function OD(t,n,e=Mt){return r=>{rm(n,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)rm(n,()=>{let c=pe(t[l],n),u=!1;c.subscribe(ne(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function rm(t,n,e){t?gt(e,t,n):n()}function im(t,n,e,r,i,o,s,a){let l=[],c=0,u=0,d=!1,g=()=>{d&&!l.length&&!c&&n.complete()},f=_=>c<r?y(_):l.push(_),y=_=>{o&&n.next(_),c++;let D=!1;Pe(e(_,u++)).subscribe(ne(n,A=>{i?.(A),o?f(A):n.next(A)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<r;){let A=l.shift();s?gt(n,s,()=>y(A)):y(A)}g()}catch(A){n.error(A)}}))};return t.subscribe(ne(n,f,()=>{d=!0,g()})),()=>{a?.()}}function Le(t,n,e=1/0){return H(n)?Le((r,i)=>V((o,s)=>n(r,o,i,s))(Pe(t(r,i))),e):(typeof n=="number"&&(e=n),ie((r,i)=>im(r,i,t,e)))}function Si(t=1/0){return Le(Mt,t)}function om(){return Si(1)}function Mi(...t){return om()(pe(t,lr(t)))}function Va(t){return new k(n=>{Pe(t()).subscribe(n)})}function ld(...t){let n=Ca(t),{args:e,keys:r}=La(t),i=new k(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Pe(e[u]).subscribe(ne(o,g=>{d||(d=!0,c--),a[u]=g},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?ja(r,a):a),o.complete())}))}});return n?i.pipe(Pa(n)):i}function We(t,n){return ie((e,r)=>{let i=0;e.subscribe(ne(r,o=>t.call(n,o,i++)&&r.next(o)))})}function cr(t){return ie((n,e)=>{let r=null,i=!1,o;r=n.subscribe(ne(e,void 0,void 0,s=>{o=Pe(t(s,cr(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function sm(t,n,e,r,i){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(ne(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Fn(t,n){return H(n)?Le(t,n,1):Le(t,1)}function ur(t){return ie((n,e)=>{let r=!1;n.subscribe(ne(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Bt(t){return t<=0?()=>xt:ie((n,e)=>{let r=0;n.subscribe(ne(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Ba(t=FD){return ie((n,e)=>{let r=!1;n.subscribe(ne(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function FD(){return new tn}function hn(t){return ie((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Pn(t,n){let e=arguments.length>=2;return r=>r.pipe(t?We((i,o)=>t(i,o,r)):Mt,Bt(1),e?ur(n):Ba(()=>new tn))}function xi(t){return t<=0?()=>xt:ie((n,e)=>{let r=[];n.subscribe(ne(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function cd(t,n){let e=arguments.length>=2;return r=>r.pipe(t?We((i,o)=>t(i,o,r)):Mt,xi(1),e?ur(n):Ba(()=>new tn))}function ud(t,n){return ie(sm(t,n,arguments.length>=2,!0))}function dd(...t){let n=lr(t);return ie((e,r)=>{(n?Mi(t,e,n):Mi(t,e)).subscribe(r)})}function mt(t,n){return ie((e,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();e.subscribe(ne(r,l=>{i?.unsubscribe();let c=0,u=o++;Pe(t(l,u)).subscribe(i=ne(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function fd(t){return ie((n,e)=>{Pe(t).subscribe(ne(e,()=>e.complete(),jo)),!e.closed&&n.subscribe(e)})}function Ge(t,n,e){let r=H(t)||n||e?{next:t,error:n,complete:e}:t;return r?ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ne(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Mt}var Wm="https://g.co/ng/security#xss",N=class extends Error{code;constructor(n,e){super(_l(n,e)),this.code=n}};function _l(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}var qm=Symbol("InputSignalNode#UNSET"),PD=J(E({},Yu),{transformFn:void 0,applyValueToInputSignal(t,n){va(t,n)}});function zm(t,n){let e=Object.create(PD);e.value=t,e.transformFn=n?.transform;function r(){if(ha(e),e.value===qm)throw new N(-950,!1);return e.value}return r[St]=e,r}function Ko(t){return{toString:t}.toString()}var Ua="__parameters__";function LD(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function Gm(t,n,e){return Ko(()=>{let r=LD(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ua)?l[Ua]:Object.defineProperty(l,Ua,{value:[]})[Ua];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Vr=globalThis;function me(t){for(let n in t)if(t[n]===me)return n;throw Error("Could not find renamed property on target object.")}function jD(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function at(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function Sd(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var VD=me({__forward_ref__:me});function Rt(t){return t.__forward_ref__=Rt,t.toString=function(){return at(this())},t}function st(t){return Qm(t)?t():t}function Qm(t){return typeof t=="function"&&t.hasOwnProperty(VD)&&t.__forward_ref__===Rt}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function bl(t){return am(t,Km)||am(t,Ym)}function Zm(t){return bl(t)!==null}function am(t,n){return t.hasOwnProperty(n)?t[n]:null}function BD(t){let n=t&&(t[Km]||t[Ym]);return n||null}function lm(t){return t&&(t.hasOwnProperty(cm)||t.hasOwnProperty(UD))?t[cm]:null}var Km=me({\u0275prov:me}),cm=me({\u0275inj:me}),Ym=me({ngInjectableDef:me}),UD=me({ngInjectorDef:me}),x=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=M({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jm(t){return t&&!!t.\u0275providers}var $D=me({\u0275cmp:me}),HD=me({\u0275dir:me}),WD=me({\u0275pipe:me}),qD=me({\u0275mod:me}),Ya=me({\u0275fac:me}),$o=me({__NG_ELEMENT_ID__:me}),um=me({__NG_ENV_ID__:me});function ot(t){return typeof t=="string"?t:t==null?"":String(t)}function zD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ot(t)}function GD(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new N(-200,t)}function xf(t,n){throw new N(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),Md;function Xm(){return Md}function vt(t){let n=Md;return Md=t,n}function ev(t,n,e){let r=bl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&X.Optional)return null;if(n!==void 0)return n;xf(t,"Injector")}var QD={},Ho=QD,xd="__NG_DI_FLAG__",Ja="ngTempTokenPath",ZD="ngTokenPath",KD=/\n/gm,YD="\u0275",dm="__source",ki;function JD(){return ki}function dr(t){let n=ki;return ki=t,n}function XD(t,n=X.Default){if(ki===void 0)throw new N(-203,!1);return ki===null?ev(t,void 0,n):ki.get(t,n&X.Optional?null:void 0,n)}function T(t,n=X.Default){return(Xm()||XD)(st(t),n)}function b(t,n=X.Default){return T(t,Dl(n))}function Dl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Td(t){let n=[];for(let e=0;e<t.length;e++){let r=st(t[e]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,o=X.Default;for(let s=0;s<r.length;s++){let a=r[s],l=eC(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(T(i,o))}else n.push(T(r))}return n}function tv(t,n){return t[xd]=n,t.prototype[xd]=n,t}function eC(t){return t[xd]}function tC(t,n,e,r){let i=t[Ja];throw n[dm]&&i.unshift(n[dm]),t.message=nC(`
`+t.message,i,e,r),t[ZD]=i,t[Ja]=null,t}function nC(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==YD?t.slice(2):t;let i=at(n);if(Array.isArray(n))i=n.map(at).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):at(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(KD,`
  `)}`}var Cl=tv(Gm("Optional"),8);var Tf=tv(Gm("SkipSelf"),4);function Ur(t,n){let e=t.hasOwnProperty(Ya);return e?t[Ya]:null}function rC(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function iC(t){return t.flat(Number.POSITIVE_INFINITY)}function Af(t,n){t.forEach(e=>Array.isArray(e)?Af(e,n):n(e))}function nv(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Xa(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function oC(t,n){let e=[];for(let r=0;r<t;r++)e.push(n);return e}function sC(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function Nf(t,n,e){let r=Yo(t,n);return r>=0?t[r|1]=e:(r=~r,sC(t,r,n,e)),r}function hd(t,n){let e=Yo(t,n);if(e>=0)return t[e|1]}function Yo(t,n){return aC(t,n,1)}function aC(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}var Fi={},yt=[],Pi=new x(""),rv=new x("",-1),iv=new x(""),el=class{get(n,e=Ho){if(e===Ho){let r=new Error(`NullInjectorError: No provider for ${at(n)}!`);throw r.name="NullInjectorError",r}return e}};function ov(t,n){let e=t[qD]||null;if(!e&&n===!0)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return e}function pr(t){return t[$D]||null}function sv(t){return t[HD]||null}function av(t){return t[WD]||null}function lv(t){let n=pr(t)||sv(t)||av(t);return n!==null&&n.standalone}function wr(t){return{\u0275providers:t}}function Rf(...t){return{\u0275providers:cv(!0,t),\u0275fromNgModule:!0}}function cv(t,...n){let e=[],r=new Set,i,o=s=>{e.push(s)};return Af(n,s=>{let a=s;Ad(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&uv(i,o),e}function uv(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];kf(i,o=>{n(o,r)})}}function Ad(t,n,e,r){if(t=st(t),!t)return!1;let i=null,o=lm(t),s=!o&&pr(t);if(!o&&!s){let l=t.ngModule;if(o=lm(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Ad(c,n,e,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Af(o.imports,u=>{Ad(u,n,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&uv(c,n)}if(!a){let c=Ur(i)||(()=>new i);n({provide:i,useFactory:c,deps:yt},i),n({provide:iv,useValue:i,multi:!0},i),n({provide:Pi,useValue:()=>T(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;kf(l,u=>{n(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function kf(t,n){for(let e of t)Jm(e)&&(e=e.\u0275providers),Array.isArray(e)?kf(e,n):n(e)}var lC=me({provide:String,useValue:me});function dv(t){return t!==null&&typeof t=="object"&&lC in t}function cC(t){return!!(t&&t.useExisting)}function uC(t){return!!(t&&t.useFactory)}function Li(t){return typeof t=="function"}function dC(t){return!!t.useClass}var El=new x(""),qa={},fC={},pd;function Of(){return pd===void 0&&(pd=new el),pd}var lt=class{},Wo=class extends lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,Rd(n,s=>this.processProvider(s)),this.records.set(rv,Ti(void 0,this)),i.has("environment")&&this.records.set(lt,Ti(void 0,this));let o=this.records.get(El);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(iv,yt,X.Self))}destroy(){Bo(this),this._destroyed=!0;let n=se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(n)}}onDestroy(n){return Bo(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Bo(this);let e=dr(this),r=vt(void 0),i;try{return n()}finally{dr(e),vt(r)}}get(n,e=Ho,r=X.Default){if(Bo(this),n.hasOwnProperty(um))return n[um](this);r=Dl(r);let i,o=dr(this),s=vt(void 0);try{if(!(r&X.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=vC(n)&&bl(n);c&&this.injectableDefInScope(c)?l=Ti(Nd(n),qa):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&X.Self?Of():this.parent;return e=r&X.Optional&&e===Ho?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Ja]=a[Ja]||[]).unshift(at(n)),o)throw a;return tC(a,n,"R3InjectorError",this.source)}else throw a}finally{vt(s),dr(o)}}resolveInjectorInitializers(){let n=se(null),e=dr(this),r=vt(void 0),i;try{let o=this.get(Pi,yt,X.Self);for(let s of o)s()}finally{dr(e),vt(r),se(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(at(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=st(n);let e=Li(n)?n:st(n&&n.provide),r=pC(n);if(!Li(n)&&n.multi===!0){let i=this.records.get(e);i||(i=Ti(void 0,qa,!0),i.factory=()=>Td(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){let r=se(null);try{return e.value===qa&&(e.value=fC,e.value=e.factory()),typeof e.value=="object"&&e.value&&mC(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{se(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=st(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Nd(t){let n=bl(t),e=n!==null?n.factory:Ur(t);if(e!==null)return e;if(t instanceof x)throw new N(204,!1);if(t instanceof Function)return hC(t);throw new N(204,!1)}function hC(t){if(t.length>0)throw new N(204,!1);let e=BD(t);return e!==null?()=>e.factory(t):()=>new t}function pC(t){if(dv(t))return Ti(void 0,t.useValue);{let n=fv(t);return Ti(n,qa)}}function fv(t,n,e){let r;if(Li(t)){let i=st(t);return Ur(i)||Nd(i)}else if(dv(t))r=()=>st(t.useValue);else if(uC(t))r=()=>t.useFactory(...Td(t.deps||[]));else if(cC(t))r=()=>T(st(t.useExisting));else{let i=st(t&&(t.useClass||t.provide));if(gC(t))r=()=>new i(...Td(t.deps));else return Ur(i)||Nd(i)}return r}function Bo(t){if(t.destroyed)throw new N(205,!1)}function Ti(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function gC(t){return!!t.deps}function mC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vC(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function Rd(t,n){for(let e of t)Array.isArray(e)?Rd(e,n):e&&Jm(e)?Rd(e.\u0275providers,n):n(e)}function _t(t,n){t instanceof Wo&&Bo(t);let e,r=dr(t),i=vt(void 0);try{return n()}finally{dr(r),vt(i)}}function hv(){return Xm()!==void 0||JD()!=null}function Ff(t){if(!hv())throw new N(-203,!1)}function yC(t){return typeof t=="function"}var $n=0,Q=1,B=2,nt=3,sn=4,bt=5,qo=6,tl=7,an=8,ji=9,Ln=10,Ee=11,zo=12,fm=13,Gi=14,$t=15,$r=16,Ai=17,jn=18,Il=19,pv=20,fr=21,gd=22,nl=23,Tt=24,wt=25,gv=1;var Hr=7,rl=8,Vi=9,At=10;function hr(t){return Array.isArray(t)&&typeof t[gv]=="object"}function Hn(t){return Array.isArray(t)&&t[gv]===!0}function Pf(t){return(t.flags&4)!==0}function Sl(t){return t.componentOffset>-1}function Ml(t){return(t.flags&1)===1}function gr(t){return!!t.template}function kd(t){return(t[B]&512)!==0}function Jo(t){return(t[B]&256)===256}var Od=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function mv(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var Wn=(()=>{let t=()=>vv;return t.ngInherit=!0,t})();function vv(t){return t.type.prototype.ngOnChanges&&(t.setInput=_C),wC}function wC(){let t=wv(this),n=t?.current;if(n){let e=t.previous;if(e===Fi)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function _C(t,n,e,r,i){let o=this.declaredInputs[r],s=wv(t)||bC(t,{previous:Fi,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Od(c&&c.currentValue,e,l===Fi),mv(t,n,i,e)}var yv="__ngSimpleChanges__";function wv(t){return t[yv]||null}function bC(t,n){return t[yv]=n}var hm=null;var Ut=function(t,n,e){hm?.(t,n,e)},DC="svg",CC="math";function gn(t){for(;Array.isArray(t);)t=t[$n];return t}function _v(t,n){return gn(n[t])}function Wt(t,n){return gn(n[t.index])}function bv(t,n){return t.data[n]}function Dv(t,n){return t[n]}function _r(t,n){let e=n[t];return hr(e)?e:e[$n]}function EC(t){return(t[B]&4)===4}function Lf(t){return(t[B]&128)===128}function IC(t){return Hn(t[nt])}function Bi(t,n){return n==null?null:t[n]}function Cv(t){t[Ai]=0}function jf(t){t[B]&1024||(t[B]|=1024,Lf(t)&&Tl(t))}function SC(t,n){for(;t>0;)n=n[Gi],t--;return n}function xl(t){return!!(t[B]&9216||t[Tt]?.dirty)}function Fd(t){t[Ln].changeDetectionScheduler?.notify(9),t[B]&64&&(t[B]|=1024),xl(t)&&Tl(t)}function Tl(t){t[Ln].changeDetectionScheduler?.notify(0);let n=Wr(t);for(;n!==null&&!(n[B]&8192||(n[B]|=8192,!Lf(n)));)n=Wr(n)}function Ev(t,n){if(Jo(t))throw new N(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(n)}function MC(t,n){if(t[fr]===null)return;let e=t[fr].indexOf(n);e!==-1&&t[fr].splice(e,1)}function Wr(t){let n=t[nt];return Hn(n)?n[nt]:n}function Iv(t){return t[tl]??=[]}function Sv(t){return t.cleanup??=[]}function xC(t,n,e,r){let i=Iv(n);i.push(e),t.firstCreatePass&&Sv(t).push(r,i.length-1)}var Y={lFrame:Ov(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Pd=!1;function TC(){return Y.lFrame.elementDepthCount}function AC(){Y.lFrame.elementDepthCount++}function NC(){Y.lFrame.elementDepthCount--}function Mv(){return Y.bindingsEnabled}function xv(){return Y.skipHydrationRootTNode!==null}function RC(t){return Y.skipHydrationRootTNode===t}function kC(){Y.skipHydrationRootTNode=null}function Z(){return Y.lFrame.lView}function Re(){return Y.lFrame.tView}function P(t){return Y.lFrame.contextLView=t,t[an]}function L(t){return Y.lFrame.contextLView=null,t}function rt(){let t=Tv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Tv(){return Y.lFrame.currentTNode}function OC(){let t=Y.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Yr(t,n){let e=Y.lFrame;e.currentTNode=t,e.isParent=n}function Vf(){return Y.lFrame.isParent}function Bf(){Y.lFrame.isParent=!1}function FC(){return Y.lFrame.contextLView}function Av(){return Pd}function pm(t){let n=Pd;return Pd=t,n}function Al(){let t=Y.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Uf(){return Y.lFrame.bindingIndex}function PC(t){return Y.lFrame.bindingIndex=t}function Nl(){return Y.lFrame.bindingIndex++}function Xo(t){let n=Y.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function LC(){return Y.lFrame.inI18n}function jC(t,n){let e=Y.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ld(n)}function VC(){return Y.lFrame.currentDirectiveIndex}function Ld(t){Y.lFrame.currentDirectiveIndex=t}function BC(t){let n=Y.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function Nv(){return Y.lFrame.currentQueryIndex}function $f(t){Y.lFrame.currentQueryIndex=t}function UC(t){let n=t[Q];return n.type===2?n.declTNode:n.type===1?t[bt]:null}function Rv(t,n,e){if(e&X.SkipSelf){let i=n,o=t;for(;i=i.parent,i===null&&!(e&X.Host);)if(i=UC(o),i===null||(o=o[Gi],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=Y.lFrame=kv();return r.currentTNode=n,r.lView=t,!0}function Hf(t){let n=kv(),e=t[Q];Y.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function kv(){let t=Y.lFrame,n=t===null?null:t.child;return n===null?Ov(t):n}function Ov(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function Fv(){let t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Pv=Fv;function Wf(){let t=Fv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $C(t){return(Y.lFrame.contextLView=SC(t,Y.lFrame.contextLView))[an]}function yn(){return Y.lFrame.selectedIndex}function qr(t){Y.lFrame.selectedIndex=t}function Rl(){let t=Y.lFrame;return bv(t.tView,t.selectedIndex)}function HC(){return Y.lFrame.currentNamespace}var Lv=!0;function kl(){return Lv}function Ol(t){Lv=t}function WC(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=vv(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function Fl(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function za(t,n,e){jv(t,n,3,e)}function Ga(t,n,e,r){(t[B]&3)===e&&jv(t,n,e,r)}function md(t,n){let e=t[B];(e&3)===n&&(e&=16383,e+=1,t[B]=e)}function jv(t,n,e,r){let i=r!==void 0?t[Ai]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(t[Ai]+=65536),(a<o||o==-1)&&(qC(t,e,n,l),t[Ai]=(t[Ai]&4294901760)+l+2),l++}function gm(t,n){Ut(4,t,n);let e=se(null);try{n.call(t)}finally{se(e),Ut(5,t,n)}}function qC(t,n,e,r){let i=e[r]<0,o=e[r+1],s=i?-e[r]:e[r],a=t[s];i?t[B]>>14<t[Ai]>>16&&(t[B]&3)===n&&(t[B]+=16384,gm(a,o)):gm(a,o)}var Oi=-1,zr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r){this.factory=n,this.canSeeViewProviders=e,this.injectImpl=r}};function zC(t){return t instanceof zr}function GC(t){return(t.flags&8)!==0}function QC(t){return(t.flags&16)!==0}function jd(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{let o=i,s=e[++r];ZC(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function Vv(t){return t===3||t===4||t===6}function ZC(t){return t.charCodeAt(0)===64}function Go(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?mm(t,e,i,null,n[++r]):mm(t,e,i,null,null))}}return t}function mm(t,n,e,r,i){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var vd={},Vd=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=Dl(r);let i=this.injector.get(n,vd,r);return i!==vd||e===vd?i:this.parentInjector.get(n,e,r)}};function Bv(t){return t!==Oi}function il(t){return t&32767}function KC(t){return t>>16}function ol(t,n){let e=KC(t),r=n;for(;e>0;)r=r[Gi],e--;return r}var Bd=!0;function sl(t){let n=Bd;return Bd=t,n}var YC=256,Uv=YC-1,$v=5,JC=0,pn={};function XC(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty($o)&&(r=e[$o]),r==null&&(r=e[$o]=JC++);let i=r&Uv,o=1<<i;n.data[t+(i>>$v)]|=o}function al(t,n){let e=Hv(t,n);if(e!==-1)return e;let r=n[Q];r.firstCreatePass&&(t.injectorIndex=n.length,yd(r.data,t),yd(n,null),yd(r.blueprint,null));let i=qf(t,n),o=t.injectorIndex;if(Bv(i)){let s=il(i),a=ol(i,n),l=a[Q].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function yd(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Hv(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function qf(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=Qv(i),r===null)return Oi;if(e++,i=i[Gi],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Oi}function Ud(t,n,e){XC(t,n,e)}function eE(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let o=e[i];if(Vv(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(o===n)return e[i+1];i=i+2}}}return null}function Wv(t,n,e){if(e&X.Optional||t!==void 0)return t;xf(n,"NodeInjector")}function qv(t,n,e,r){if(e&X.Optional&&r===void 0&&(r=null),!(e&(X.Self|X.Host))){let i=t[ji],o=vt(void 0);try{return i?i.get(n,r,e&X.Optional):ev(n,r,e&X.Optional)}finally{vt(o)}}return Wv(r,n,e)}function zv(t,n,e,r=X.Default,i){if(t!==null){if(n[B]&2048&&!(r&X.Self)){let s=iE(t,n,e,r,pn);if(s!==pn)return s}let o=Gv(t,n,e,r,pn);if(o!==pn)return o}return qv(n,e,r,i)}function Gv(t,n,e,r,i){let o=nE(e);if(typeof o=="function"){if(!Rv(n,t,r))return r&X.Host?Wv(i,e,r):qv(n,e,r,i);try{let s;if(s=o(r),s==null&&!(r&X.Optional))xf(e);else return s}finally{Pv()}}else if(typeof o=="number"){let s=null,a=Hv(t,n),l=Oi,c=r&X.Host?n[$t][bt]:null;for((a===-1||r&X.SkipSelf)&&(l=a===-1?qf(t,n):n[a+8],l===Oi||!ym(r,!1)?a=-1:(s=n[Q],a=il(l),n=ol(l,n)));a!==-1;){let u=n[Q];if(vm(o,a,u.data)){let d=tE(a,n,e,s,r,c);if(d!==pn)return d}l=n[a+8],l!==Oi&&ym(r,n[Q].data[a+8]===c)&&vm(o,a,n)?(s=u,a=il(l),n=ol(l,n)):a=-1}}return i}function tE(t,n,e,r,i,o){let s=n[Q],a=s.data[t+8],l=r==null?Sl(a)&&Bd:r!=s&&(a.type&3)!==0,c=i&X.Host&&o===a,u=Qa(a,s,e,l,c);return u!==null?Gr(n,s,u,a):pn}function Qa(t,n,e,r,i){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,g=i?a+u:c;for(let f=d;f<g;f++){let y=s[f];if(f<l&&e===y||f>=l&&y.type===e)return f}if(i){let f=s[l];if(f&&gr(f)&&f.type===e)return l}return null}function Gr(t,n,e,r){let i=t[e],o=n.data;if(zC(i)){let s=i;s.resolving&&GD(zD(o[e]));let a=sl(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?vt(s.injectImpl):null,u=Rv(t,r,X.Default);try{i=t[e]=s.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&WC(e,o[e],n)}finally{c!==null&&vt(c),sl(a),s.resolving=!1,Pv()}}return i}function nE(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty($o)?t[$o]:void 0;return typeof n=="number"?n>=0?n&Uv:rE:n}function vm(t,n,e){let r=1<<t;return!!(e[n+(t>>$v)]&r)}function ym(t,n){return!(t&X.Self)&&!(t&X.Host&&n)}var Br=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return zv(this._tNode,this._lView,n,Dl(r),e)}};function rE(){return new Br(rt(),Z())}function qt(t){return Ko(()=>{let n=t.prototype.constructor,e=n[Ya]||$d(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ya]||$d(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $d(t){return Qm(t)?()=>{let n=$d(st(t));return n&&n()}:Ur(t)}function iE(t,n,e,r,i){let o=t,s=n;for(;o!==null&&s!==null&&s[B]&2048&&!(s[B]&512);){let a=Gv(o,s,e,r|X.Self,pn);if(a!==pn)return a;let l=o.parent;if(!l){let c=s[pv];if(c){let u=c.get(e,pn,r);if(u!==pn)return u}l=Qv(s),s=s[Gi]}o=l}return i}function Qv(t){let n=t[Q],e=n.type;return e===2?n.declTNode:e===1?t[bt]:null}function zf(t){return eE(rt(),t)}function wm(t,n=null,e=null,r){let i=Zv(t,n,e,r);return i.resolveInjectorInitializers(),i}function Zv(t,n=null,e=null,r,i=new Set){let o=[e||yt,Rf(t)];return r=r||(typeof t=="object"?void 0:at(t)),new Wo(o,n||Of(),r||null,i)}var Nt=class t{static THROW_IF_NOT_FOUND=Ho;static NULL=new el;static create(n,e){if(Array.isArray(n))return wm({name:""},e,n,"");{let r=n.name??"";return wm({name:r},n.parent,n.providers,r)}}static \u0275prov=M({token:t,providedIn:"any",factory:()=>T(rv)});static __NG_ELEMENT_ID__=-1};var oE=new x("");oE.__NG_ELEMENT_ID__=t=>{let n=rt();if(n===null)throw new N(204,!1);if(n.type&2)return n.value;if(t&X.Optional)return null;throw new N(204,!1)};var Kv=!1,Gf=(()=>{class t{static __NG_ELEMENT_ID__=sE;static __NG_ENV_ID__=e=>e}return t})(),Hd=class extends Gf{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return Ev(this._lView,n),()=>MC(this._lView,n)}};function sE(){return new Hd(Z())}var Ui=class{},Pl=new x("",{providedIn:"root",factory:()=>!1});var Yv=new x(""),Jv=new x(""),qn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Je(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}return t})();var Wd=class extends Fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,hv()&&(this.destroyRef=b(Gf,{optional:!0})??void 0,this.pendingTasks=b(qn,{optional:!0})??void 0)}emit(n){let e=se(null);try{super.next(n)}finally{se(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Oe&&n.add(a),a}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},de=Wd;function ll(...t){}function Xv(t){let n,e;function r(){t=ll;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function _m(t){return queueMicrotask(()=>t()),()=>{t=ll}}var Qf="isAngularZone",cl=Qf+"_ID",aE=0,xe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new de(!1);onMicrotaskEmpty=new de(!1);onStable=new de(!1);onError=new de(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Kv}=n;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,uE(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,lE,ll,ll);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},lE={};function Zf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cE(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Xv(()=>{t.callbackScheduled=!1,qd(t),t.isCheckStableRunning=!0,Zf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),qd(t)}function uE(t){let n=()=>{cE(t)},e=aE++;t._inner=t._inner.fork({name:"angular",properties:{[Qf]:!0,[cl]:e,[cl+e]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(dE(l))return r.invokeTask(o,s,a,l);try{return bm(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Dm(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return bm(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!fE(l)&&n(),Dm(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,qd(t),Zf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function qd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function bm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Dm(t){t._nesting--,Zf(t)}var zd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new de;onMicrotaskEmpty=new de;onStable=new de;onError=new de;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function dE(t){return ey(t,"__ignore_ng_zone__")}function fE(t){return ey(t,"__scheduler_tick__")}function ey(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Vn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},hE=new x("",{providedIn:"root",factory:()=>{let t=b(xe),n=b(Vn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function Cm(t,n){return zm(t,n)}function pE(t){return zm(qm,t)}var ty=(Cm.required=pE,Cm);function gE(){return Qi(rt(),Z())}function Qi(t,n){return new Dt(Wt(t,n))}var Dt=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=gE}return t})();function mE(t){return t instanceof Dt?t.nativeElement:t}var Em=new Set;function Jr(t){Em.has(t)||(Em.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function vE(t){return typeof t=="function"&&t[St]!==void 0}function es(t,n){Jr("NgSignals");let e=Fg(t),r=e[St];return n?.equal&&(r.equal=n.equal),e.set=i=>va(r,i),e.update=i=>Pg(r,i),e.asReadonly=yE.bind(e),e}function yE(){let t=this[St];if(t.readonlyFn===void 0){let n=()=>this();n[St]=t,t.readonlyFn=n}return t.readonlyFn}function ny(t){return vE(t)&&typeof t.set=="function"}function wE(){return this._results[Symbol.iterator]()}var Gd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Fe}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let r=iC(n);(this._changesDetected=!rC(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=wE};function ry(t){return(t.flags&128)===128}var iy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iy||{}),oy=new Map,_E=0;function bE(){return _E++}function DE(t){oy.set(t[Il],t)}function Qd(t){oy.delete(t[Il])}var Im="__ngContext__";function mr(t,n){hr(n)?(t[Im]=n[Il],DE(n)):t[Im]=n}function sy(t){return ly(t[zo])}function ay(t){return ly(t[sn])}function ly(t){for(;t!==null&&!Hn(t);)t=t[sn];return t}var Zd;function cy(t){Zd=t}function CE(){if(Zd!==void 0)return Zd;if(typeof document<"u")return document;throw new N(210,!1)}var Kf=new x("",{providedIn:"root",factory:()=>EE}),EE="ng",Yf=new x(""),wn=new x("",{providedIn:"platform",factory:()=>"unknown"});var Jf=new x("",{providedIn:"root",factory:()=>CE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IE="h",SE="b";var uy=!1,ME=new x("",{providedIn:"root",factory:()=>uy});var Xf=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Xf||{}),Zi=new x("");var Ni=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ni||{}),dy=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}return t})(),xE=[Ni.EarlyRead,Ni.Write,Ni.MixedReadWrite,Ni.Read],TE=(()=>{class t{ngZone=b(xe);scheduler=b(Ui);errorHandler=b(Vn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){b(Zi,{optional:!0})}execute(){this.executing=!0;for(let e of xE)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[e](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Xf.AFTER_NEXT_RENDER,e):e()}static \u0275prov=M({token:t,providedIn:"root",factory:()=>new t})}return t})(),Kd=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,i,o=null){this.impl=n,this.hooks=e,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function eh(t,n){!n?.injector&&Ff(eh);let e=n?.injector??b(Nt);return Jr("NgAfterNextRender"),NE(t,e,n,!0)}function AE(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function NE(t,n,e,r){let i=n.get(dy);i.impl??=n.get(TE);let o=n.get(Zi,null,{optional:!0}),s=e?.phase??Ni.MixedReadWrite,a=e?.manualCleanup!==!0?n.get(Gf):null,l=new Kd(i.impl,AE(t,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var RE=()=>null;function th(t,n,e=!1){return RE(t,n,e)}function fy(t,n){let e=t.contentQueries;if(e!==null){let r=se(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=t.data[s];$f(o),a.contentQueries(2,n[s],s)}}}finally{se(r)}}}function Yd(t,n,e){$f(0);let r=se(null);try{n(t,e)}finally{se(r)}}function nh(t,n,e){if(Pf(n)){let r=se(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{se(r)}}}var mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mn||{});var $a;function kE(){if($a===void 0&&($a=null,Vr.trustedTypes))try{$a=Vr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $a}function Sm(t){return kE()?.createScriptURL(t)||t}var ul=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wm})`}};function Ki(t){return t instanceof ul?t.changingThisBreaksApplicationSecurity:t}function rh(t,n){let e=OE(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Wm})`)}return e===n}function OE(t){return t instanceof ul&&t.getTypeName()||null}var FE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hy(t){return t=String(t),t.match(FE)?t:"unsafe:"+t}var Ll=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ll||{});function ih(t){let n=gy();return n?n.sanitize(Ll.URL,t)||"":rh(t,"URL")?Ki(t):hy(ot(t))}function PE(t){let n=gy();if(n)return Sm(n.sanitize(Ll.RESOURCE_URL,t)||"");if(rh(t,"ResourceURL"))return Sm(Ki(t));throw new N(904,!1)}function LE(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?PE:ih}function py(t,n,e){return LE(n,e)(t)}function gy(){let t=Z();return t&&t[Ln].sanitizer}var jE=/^>|^->|<!--|-->|--!>|<!-$/g,VE=/(<|>)/g,BE="\u200B$1\u200B";function UE(t){return t.replace(jE,n=>n.replace(VE,BE))}function my(t){return t instanceof Function?t():t}var vr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(vr||{}),Bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bn||{}),$E;function oh(t,n){return $E(t,n)}function Ri(t,n,e,r,i){if(r!=null){let o,s=!1;Hn(r)?o=r:hr(r)&&(s=!0,r=r[$n]);let a=gn(r);t===0&&e!==null?i==null?Dy(n,e,a):dl(n,e,a,i||null,!0):t===1&&e!==null?dl(n,e,a,i||null,!0):t===2?nI(n,a,s):t===3&&n.destroyNode(a),o!=null&&iI(n,t,o,e,i)}}function HE(t,n){return t.createText(n)}function WE(t,n,e){t.setValue(n,e)}function qE(t,n){return t.createComment(UE(n))}function vy(t,n,e){return t.createElement(n,e)}function zE(t,n){yy(t,n),n[$n]=null,n[bt]=null}function GE(t,n,e,r,i,o){r[$n]=i,r[bt]=n,Vl(t,r,e,1,i,o)}function yy(t,n){n[Ln].changeDetectionScheduler?.notify(10),Vl(t,n,n[Ee],2,null,null)}function QE(t){let n=t[zo];if(!n)return wd(t[Q],t);for(;n;){let e=null;if(hr(n))e=n[zo];else{let r=n[At];r&&(e=r)}if(!e){for(;n&&!n[sn]&&n!==t;)hr(n)&&wd(n[Q],n),n=n[nt];n===null&&(n=t),hr(n)&&wd(n[Q],n),e=n&&n[sn]}n=e}}function ZE(t,n,e,r){let i=At+r,o=e.length;r>0&&(e[i-1][sn]=n),r<o-At?(n[sn]=e[i],nv(e,At+r,n)):(e.push(n),n[sn]=null),n[nt]=e;let s=n[$r];s!==null&&e!==s&&wy(s,n);let a=n[jn];a!==null&&a.insertView(t),Fd(n),n[B]|=128}function wy(t,n){let e=t[Vi],r=n[nt];if(hr(r))t[B]|=2;else{let i=r[nt][$t];n[$t]!==i&&(t[B]|=2)}e===null?t[Vi]=[n]:e.push(n)}function sh(t,n){let e=t[Vi],r=e.indexOf(n);e.splice(r,1)}function Jd(t,n){if(t.length<=At)return;let e=At+n,r=t[e];if(r){let i=r[$r];i!==null&&i!==t&&sh(i,r),n>0&&(t[e-1][sn]=r[sn]);let o=Xa(t,At+n);zE(r[Q],r);let s=o[jn];s!==null&&s.detachView(o[Q]),r[nt]=null,r[sn]=null,r[B]&=-129}return r}function _y(t,n){if(Jo(n))return;let e=n[Ee];e.destroyNode&&Vl(t,n,e,3,null,null),QE(n)}function wd(t,n){if(Jo(n))return;let e=se(null);try{n[B]&=-129,n[B]|=256,n[Tt]&&Ku(n[Tt]),YE(t,n),KE(t,n),n[Q].type===1&&n[Ee].destroy();let r=n[$r];if(r!==null&&Hn(n[nt])){r!==n[nt]&&sh(r,n);let i=n[jn];i!==null&&i.detachView(t)}Qd(n)}finally{se(e)}}function KE(t,n){let e=t.cleanup,r=n[tl];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[tl]=null);let i=n[fr];if(i!==null){n[fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[nl];if(o!==null){n[nl]=null;for(let s of o)s.destroy()}}function YE(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof zr)){let o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ut(4,a,l);try{l.call(a)}finally{Ut(5,a,l)}}else{Ut(4,i,o);try{o.call(i)}finally{Ut(5,i,o)}}}}}function by(t,n,e){return JE(t,n.parent,e)}function JE(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[$n];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===mn.None||o===mn.Emulated)return null}return Wt(r,e)}}function dl(t,n,e,r,i){t.insertBefore(n,e,r,i)}function Dy(t,n,e){t.appendChild(n,e)}function Mm(t,n,e,r,i){r!==null?dl(t,n,e,r,i):Dy(t,n,e)}function Cy(t,n){return t.parentNode(n)}function XE(t,n){return t.nextSibling(n)}function Ey(t,n,e){return tI(t,n,e)}function eI(t,n,e){return t.type&40?Wt(t,e):null}var tI=eI,xm;function jl(t,n,e,r){let i=by(t,r,n),o=n[Ee],s=r.parent||n[bt],a=Ey(s,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Mm(o,i,e[l],a,!1);else Mm(o,i,e,a,!1);xm!==void 0&&xm(o,r,n,e,i)}function Uo(t,n){if(n!==null){let e=n.type;if(e&3)return Wt(n,t);if(e&4)return Xd(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return Uo(t,r);{let i=t[n.index];return Hn(i)?Xd(-1,i):gn(i)}}else{if(e&128)return Uo(t,n.next);if(e&32)return oh(n,t)()||gn(t[n.index]);{let r=Iy(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Wr(t[$t]);return Uo(i,r)}else return Uo(t,n.next)}}}return null}function Iy(t,n){if(n!==null){let r=t[$t][bt],i=n.projection;return r.projection[i]}return null}function Xd(t,n){let e=At+t+1;if(e<n.length){let r=n[e],i=r[Q].firstChild;if(i!==null)return Uo(r,i)}return n[Hr]}function nI(t,n,e){t.removeChild(null,n,e)}function ah(t,n,e,r,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=r[e.index],l=e.type;if(s&&n===0&&(a&&mr(gn(a),r),e.flags|=2),(e.flags&32)!==32)if(l&8)ah(t,n,e.child,r,i,o,!1),Ri(n,t,i,a,o);else if(l&32){let c=oh(e,r),u;for(;u=c();)Ri(n,t,i,u,o);Ri(n,t,i,a,o)}else l&16?Sy(t,n,r,e,i,o):Ri(n,t,i,a,o);e=s?e.projectionNext:e.next}}function Vl(t,n,e,r,i,o){ah(e,r,t.firstChild,n,i,o,!1)}function rI(t,n,e){let r=n[Ee],i=by(t,e,n),o=e.parent||n[bt],s=Ey(o,e,n);Sy(r,0,n,e,i,s)}function Sy(t,n,e,r,i,o){let s=e[$t],l=s[bt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ri(n,t,i,u,o)}else{let c=l,u=s[nt];ry(r)&&(c.flags|=128),ah(t,n,c,u,i,o,!0)}}function iI(t,n,e,r,i){let o=e[Hr],s=gn(e);o!==s&&Ri(n,t,r,o,i);for(let a=At;a<e.length;a++){let l=e[a];Vl(l[Q],l,t,n,r,o)}}function oI(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:Bn.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),t.setStyle(e,r,i,o))}}function sI(t,n,e){t.setAttribute(n,"style",e)}function My(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function xy(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&jd(t,n,r),i!==null&&My(t,n,i),o!==null&&sI(t,n,o)}function aI(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var Ty="ng-template";function lI(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&aI(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(lh(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function lh(t){return t.type===4&&t.value!==Ty}function cI(t,n,e){let r=t.type===4&&!e?Ty:t.value;return n===r}function uI(t,n,e){let r=4,i=t.attrs,o=i!==null?hI(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!rn(r)&&!rn(l))return!1;if(s&&rn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!cI(t,l,e)||l===""&&n.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!lI(t,i,l,e)){if(rn(r))return!1;s=!0}}else{let c=n[++a],u=dI(l,i,lh(t),e);if(u===-1){if(rn(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(t){return(t&1)===0}function dI(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pI(n,t)}function Ay(t,n,e=!1){for(let r=0;r<n.length;r++)if(uI(t,n[r],e))return!0;return!1}function fI(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if(!(e&1))return n[e+1]}return null}function hI(t){for(let n=0;n<t.length;n++){let e=t[n];if(Vv(e))return n}return t.length}function pI(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function gI(t,n){e:for(let e=0;e<n.length;e++){let r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Tm(t,n){return t?":not("+n.trim()+")":n}function mI(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(r&2){let a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(n+=Tm(o,i),i=""),r=s,o=o||!rn(r);e++}return i!==""&&(n+=Tm(o,i)),n}function vI(t){return t.map(mI).join(",")}function yI(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!rn(i))break;i=o}r++}return{attrs:n,classes:e}}var it={};function v(t=1){Ny(Re(),Z(),yn()+t,!1)}function Ny(t,n,e,r){if(!r)if((n[B]&3)===3){let o=t.preOrderCheckHooks;o!==null&&za(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Ga(n,o,0,e)}qr(e)}function I(t,n=X.Default){let e=Z();if(e===null)return T(t,n);let r=rt();return zv(r,e,st(t),n)}function Ry(){let t="invalid";throw new Error(t)}function ky(t,n,e,r,i,o){let s=se(null);try{let a=null;i&vr.SignalBased&&(a=n[r][St]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&vr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,r):mv(n,a,r,o)}finally{se(s)}}function Bl(t,n,e,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[$n]=i,d[B]=r|4|128|8|64|1024,(c!==null||t&&t[B]&2048)&&(d[B]|=2048),Cv(d),d[nt]=d[Gi]=t,d[an]=e,d[Ln]=s||t&&t[Ln],d[Ee]=a||t&&t[Ee],d[ji]=l||t&&t[ji]||null,d[bt]=o,d[Il]=bE(),d[qo]=u,d[pv]=c,d[$t]=n.type==2?t[$t]:d,d}function Yi(t,n,e,r,i){let o=t.data[n];if(o===null)o=wI(t,n,e,r,i),LC()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let s=OC();o.injectorIndex=s===null?-1:s.injectorIndex}return Yr(o,!0),o}function wI(t,n,e,r,i){let o=Tv(),s=Vf(),a=s?o:o&&o.parent,l=t.data[n]=EI(t,a,e,n,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Oy(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Fy(t,n,e,r,i){let o=yn(),s=r&2;try{qr(-1),s&&n.length>wt&&Ny(t,n,wt,!1),Ut(s?2:0,i),e(r,i)}finally{qr(o),Ut(s?3:1,i)}}function ch(t,n,e){Mv()&&(AI(t,n,e,Wt(e,n)),(e.flags&64)===64&&jy(t,n,e))}function uh(t,n,e=Wt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?e(n,t):t[s];t[i++]=a}}}function Py(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=dh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function dh(t,n,e,r,i,o,s,a,l,c,u){let d=wt+r,g=d+i,f=_I(d,g),y=typeof c=="function"?c():c;return f[Q]={type:t,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:u}}function _I(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:it);return e}function bI(t,n,e,r){let o=r.get(ME,uy)||e===mn.ShadowDom,s=t.selectRootElement(n,o);return DI(s),s}function DI(t){CI(t)}var CI=()=>null;function EI(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return xv()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Am(t,n,e,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;r??={};let a,l=vr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?Nm(r,e,c,a,l):Nm(r,e,c,a)}return r}function Nm(t,n,e,r,i){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,r):o=t[e]=[n,r],i!==void 0&&o.push(i)}function II(t,n,e){let r=n.directiveStart,i=n.directiveEnd,o=t.data,s=n.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],g=e?e.get(d):null,f=g?g.inputs:null,y=g?g.outputs:null;l=Am(0,d.inputs,u,l,f),c=Am(1,d.outputs,u,c,y);let _=l!==null&&s!==null&&!lh(n)?UI(l,u,s):null;a.push(_)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function SI(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fh(t,n,e,r,i,o,s,a){let l=Wt(n,e),c=n.inputs,u;!a&&c!=null&&(u=c[r])?(ph(t,e,u,r,i),Sl(n)&&MI(e,n.index)):n.type&3?(r=SI(r),i=s!=null?s(i,n.value||"",r):i,o.setProperty(l,r,i)):n.type&12}function MI(t,n){let e=_r(n,t);e[B]&16||(e[B]|=64)}function hh(t,n,e,r){if(Mv()){let i=r===null?null:{"":-1},o=RI(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Ly(t,n,e,s,i,a),i&&kI(e,r,i)}e.mergedAttrs=Go(e.mergedAttrs,e.attrs)}function Ly(t,n,e,r,i,o){for(let c=0;c<r.length;c++)Ud(al(e,n),t,r[c].type);FI(e,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Oy(t,n,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];e.mergedAttrs=Go(e.mergedAttrs,u.hostAttrs),PI(t,e,n,l,u),OI(l,u,i),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}II(t,e,o)}function xI(t,n,e,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;TI(s)!=a&&s.push(a),s.push(e,r,o)}}function TI(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function AI(t,n,e,r){let i=e.directiveStart,o=e.directiveEnd;Sl(e)&&LI(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||al(e,n),mr(r,n);let s=e.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=Gr(n,t,a,e);if(mr(c,n),s!==null&&BI(n,a-i,c,l,e,s),gr(l)){let u=_r(e.index,n);u[an]=Gr(n,t,a,e)}}}function jy(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,s=VC();try{qr(o);for(let a=r;a<i;a++){let l=t.data[a],c=n[a];Ld(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&NI(l,c)}}finally{qr(-1),Ld(s)}}function NI(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function RI(t,n){let e=t.directiveRegistry,r=null,i=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(Ay(n,s.selectors,!1))if(r||(r=[]),gr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;ef(t,n,l)}else r.unshift(s),ef(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ef(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function kI(t,n,e){if(n){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new N(-301,!1);r.push(n[i],o)}}}function OI(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;gr(n)&&(e[""]=t)}}function FI(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function PI(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new zr(o,gr(i),I);t.blueprint[r]=s,e[r]=s,xI(t,n,r,Oy(t,e,i.hostVars,it),i)}function Vy(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function LI(t,n,e){let r=Wt(n,t),i=Py(e),o=t[Ln].rendererFactory,s=Ul(t,Bl(t,i,null,Vy(e),r,n,null,o.createRenderer(r,e),null,null,null));t[n.index]=s}function jI(t,n,e,r,i,o){let s=Wt(t,n);VI(n[Ee],s,o,t.value,e,r,i)}function VI(t,n,e,r,i,o,s){if(o==null)t.removeAttribute(n,i,e);else{let a=s==null?ot(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}function BI(t,n,e,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];ky(r,e,l,c,u,d)}}function UI(t,n,e){let r=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return r}function By(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function Ul(t,n){return t[zo]?t[fm][sn]=n:t[zo]=n,t[fm]=n,n}function Uy(t,n){let e=t[ji],r=e?e.get(Vn,null):null;r&&r.handleError(n)}function ph(t,n,e,r,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=n[s],u=t.data[s];ky(u,c,r,a,l,i)}}function $I(t,n){let e=_r(n,t),r=e[Q];HI(r,e);let i=e[$n];i!==null&&e[qo]===null&&(e[qo]=th(i,e[ji])),gh(r,e,e[an])}function HI(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function gh(t,n,e){Hf(n);try{let r=t.viewQuery;r!==null&&Yd(1,r,e);let i=t.template;i!==null&&Fy(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[jn]?.finishViewCreation(t),t.staticContentQueries&&fy(t,n),t.staticViewQueries&&Yd(2,t.viewQuery,e);let o=t.components;o!==null&&WI(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[B]&=-5,Wf()}}function WI(t,n){for(let e=0;e<n.length;e++)$I(t,n[e])}function $y(t,n,e,r){let i=se(null);try{let o=n.tView,a=t[B]&4096?4096:16,l=Bl(t,o,e,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[$r]=c;let u=t[jn];return u!==null&&(l[jn]=u.createEmbeddedView(o)),gh(o,l,e),l}finally{se(i)}}function tf(t,n){return!n||n.firstChild===null||ry(t)}function Hy(t,n,e,r=!0){let i=n[Q];if(ZE(i,n,t,e),r){let s=Xd(e,t),a=n[Ee],l=Cy(a,t[Hr]);l!==null&&GE(i,t[bt],a,n,l,s)}let o=n[qo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fl(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(gn(o)),Hn(o)&&qI(o,r);let s=e.type;if(s&8)fl(t,n,e.child,r);else if(s&32){let a=oh(e,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=Iy(n,e);if(Array.isArray(a))r.push(...a);else{let l=Wr(n[$t]);fl(l[Q],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function qI(t,n){for(let e=At;e<t.length;e++){let r=t[e],i=r[Q].firstChild;i!==null&&fl(r[Q],r,i,n)}t[Hr]!==t[$n]&&n.push(t[Hr])}var Wy=[];function zI(t){return t[Tt]??GI(t)}function GI(t){let n=Wy.pop()??Object.create(ZI);return n.lView=t,n}function QI(t){t.lView[Tt]!==t&&(t.lView=null,Wy.push(t))}var ZI=J(E({},Po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Tl(t.lView)},consumerOnSignalRead(){this.lView[Tt]=this}});function KI(t){let n=t[Tt]??Object.create(YI);return n.lView=t,n}var YI=J(E({},Po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=Wr(t.lView);for(;n&&!qy(n[Q]);)n=Wr(n);n&&jf(n)},consumerOnSignalRead(){this.lView[Tt]=this}});function qy(t){return t.type!==2}function zy(t){if(t[nl]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[nl])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[B]&8192)}}var JI=100;function Gy(t,n=!0,e=0){let i=t[Ln].rendererFactory,o=!1;o||i.begin?.();try{XI(t,e)}catch(s){throw n&&Uy(t,s),s}finally{o||i.end?.()}}function XI(t,n){let e=Av();try{pm(!0),nf(t,n);let r=0;for(;xl(t);){if(r===JI)throw new N(103,!1);r++,nf(t,1)}}finally{pm(e)}}function eS(t,n,e,r){if(Jo(n))return;let i=n[B],o=!1,s=!1;Hf(n);let a=!0,l=null,c=null;o||(qy(t)?(c=zI(n),l=pa(c)):Ig()===null?(a=!1,c=KI(n),l=pa(c)):n[Tt]&&(Ku(n[Tt]),n[Tt]=null));try{Cv(n),PC(t.bindingStartIndex),e!==null&&Fy(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&za(n,f,null)}else{let f=t.preOrderHooks;f!==null&&Ga(n,f,0,null),md(n,0)}if(s||tS(n),zy(n),Qy(n,0),t.contentQueries!==null&&fy(t,n),!o)if(u){let f=t.contentCheckHooks;f!==null&&za(n,f)}else{let f=t.contentHooks;f!==null&&Ga(n,f,1),md(n,1)}rS(t,n);let d=t.components;d!==null&&Ky(n,d,0);let g=t.viewQuery;if(g!==null&&Yd(2,g,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&za(n,f)}else{let f=t.viewHooks;f!==null&&Ga(n,f,2),md(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[gd]){for(let f of n[gd])f();n[gd]=null}o||(n[B]&=-73)}catch(u){throw o||Tl(n),u}finally{c!==null&&(Qu(c,l),a&&QI(c)),Wf()}}function Qy(t,n){for(let e=sy(t);e!==null;e=ay(e))for(let r=At;r<e.length;r++){let i=e[r];Zy(i,n)}}function tS(t){for(let n=sy(t);n!==null;n=ay(n)){if(!(n[B]&2))continue;let e=n[Vi];for(let r=0;r<e.length;r++){let i=e[r];jf(i)}}}function nS(t,n,e){let r=_r(n,t);Zy(r,e)}function Zy(t,n){Lf(t)&&nf(t,n)}function nf(t,n){let r=t[Q],i=t[B],o=t[Tt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&Zu(o)),s||=!1,o&&(o.dirty=!1),t[B]&=-9217,s)eS(r,t,r.template,t[an]);else if(i&8192){zy(t),Qy(t,1);let a=r.components;a!==null&&Ky(t,a,1)}}function Ky(t,n,e){for(let r=0;r<n.length;r++)nS(t,n[r],e)}function rS(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)qr(~i);else{let o=i,s=e[++r],a=e[++r];jC(s,o);let l=n[o];Ut(24,l),a(2,l),Ut(25,l)}}}finally{qr(-1)}}function mh(t,n){let e=Av()?64:1088;for(t[Ln].changeDetectionScheduler?.notify(n);t;){t[B]|=e;let r=Wr(t);if(kd(t)&&!r)return t;t=r}return null}var Qr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,e=n[Q];return fl(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r}get context(){return this._lView[an]}get dirty(){return!!(this._lView[B]&9280)||!!this._lView[Tt]?.dirty}set context(n){this._lView[an]=n}get destroyed(){return Jo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[nt];if(Hn(n)){let e=n[rl],r=e?e.indexOf(this):-1;r>-1&&(Jd(n,r),Xa(e,r))}this._attachedToViewContainer=!1}_y(this._lView[Q],this._lView)}onDestroy(n){Ev(this._lView,n)}markForCheck(){mh(this._cdRefInjectingView||this._lView,4)}markForRefresh(){jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){Fd(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,Gy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=kd(this._lView),e=this._lView[$r];e!==null&&!n&&sh(e,this._lView),yy(this._lView[Q],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=n;let e=kd(this._lView),r=this._lView[$r];r!==null&&!e&&wy(r,this._lView),Fd(this._lView)}},Zr=(()=>{class t{static __NG_ELEMENT_ID__=sS}return t})(),iS=Zr,oS=class extends iS{_declarationLView;_declarationTContainer;elementRef;constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=$y(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new Qr(i)}};function sS(){return vh(rt(),Z())}function vh(t,n){return t.type&4?new oS(n,t,Qi(t,n)):null}var xV=new RegExp(`^(\\d+)*(${SE}|${IE})*(.*)`);var aS=()=>null;function rf(t,n){return aS(t,n)}var of=class{},hl=class{},sf=class{resolveComponentFactory(n){throw Error(`No component factory found for ${at(n)}.`)}},$i=class{static NULL=new sf},Hi=class{},_n=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>lS()}return t})();function lS(){let t=Z(),n=rt(),e=_r(n.index,t);return(hr(e)?e:t)[Ee]}var cS=(()=>{class t{static \u0275prov=M({token:t,providedIn:"root",factory:()=>null})}return t})();function pl(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Sd(i,a);else if(o==2){let l=a,c=n[++s];r=Sd(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}var gl=class extends $i{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=pr(n);return new Wi(e,this.ngModule)}};function Rm(t,n){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:vr.None;n?e.push({propName:s,templateName:r,isSignal:(a&vr.SignalBased)!==0}):e.push({propName:s,templateName:r})}return e}function uS(t){let n=t.toLowerCase();return n==="svg"?DC:n==="math"?CC:null}var Wi=class extends hl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let n=this.componentDef,e=n.inputTransforms,r=Rm(n.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return Rm(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=vI(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=se(null);try{i=i||this.ngModule;let s=i instanceof lt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Vd(n,s):n,l=a.get(Hi,null);if(l===null)throw new N(407,!1);let c=a.get(cS,null),u=a.get(Ui,null),d={rendererFactory:l,sanitizer:c,changeDetectionScheduler:u},g=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",y=r?bI(g,r,this.componentDef.encapsulation,a):vy(g,f,uS(f)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let D=null;y!==null&&(D=th(y,a,!0));let A=dh(0,null,null,1,0,null,null,null,null,null,null),re=Bl(null,A,null,_,null,null,d,g,a,null,D);Hf(re);let z,ce,Ne=null;try{let Me=this.componentDef,yi,Bu=null;Me.findHostDirectiveDefs?(yi=[],Bu=new Map,Me.findHostDirectiveDefs(Me,yi,Bu),yi.push(Me)):yi=[Me];let oD=dS(re,y);Ne=fS(oD,y,Me,yi,re,d,g),ce=bv(A,wt),y&&gS(g,Me,y,r),e!==void 0&&mS(ce,this.ngContentSelectors,e),z=pS(Ne,Me,yi,Bu,re,[vS]),gh(A,re,null)}catch(Me){throw Ne!==null&&Qd(Ne),Qd(re),Me}finally{Wf()}return new af(this.componentType,z,Qi(ce,re),re,ce)}finally{se(o)}}},af=class extends of{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new Qr(i,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;ph(o[Q],o,i,n,e),this.previousInputValues.set(n,e);let s=_r(this._tNode.index,o);mh(s,1)}}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function dS(t,n){let e=t[Q],r=wt;return t[r]=n,Yi(e,r,2,"#host",null)}function fS(t,n,e,r,i,o,s){let a=i[Q];hS(r,t,n,s);let l=null;n!==null&&(l=th(n,i[ji]));let c=o.rendererFactory.createRenderer(n,e),u=Bl(i,Py(e),null,Vy(e),i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&ef(a,t,r.length-1),Ul(i,u),i[t.index]=u}function hS(t,n,e,r){for(let i of t)n.mergedAttrs=Go(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(pl(n,n.mergedAttrs,!0),e!==null&&xy(r,e,n))}function pS(t,n,e,r,i,o){let s=rt(),a=i[Q],l=Wt(s,i);Ly(a,i,s,e,null,r);for(let u=0;u<e.length;u++){let d=s.directiveStart+u,g=Gr(i,a,d,s);mr(g,i)}jy(a,i,s),l&&mr(l,i);let c=Gr(i,a,s.directiveStart+s.componentOffset,s);if(t[an]=i[an]=c,o!==null)for(let u of o)u(c,n);return nh(a,s,i),c}function gS(t,n,e,r){if(r)jd(t,e,["ng-version","19.1.1"]);else{let{attrs:i,classes:o}=yI(n.selectors[0]);i&&jd(t,e,i),o&&o.length>0&&My(t,e,o.join(" "))}}function mS(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}function vS(){let t=rt();Fl(Z()[Q],t)}var br=(()=>{class t{static __NG_ELEMENT_ID__=yS}return t})();function yS(){let t=rt();return Jy(t,Z())}var wS=br,Yy=class extends wS{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Qi(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){let n=qf(this._hostTNode,this._hostLView);if(Bv(n)){let e=ol(n,this._hostLView),r=il(n),i=e[Q].data[r+8];return new Br(i,e)}else return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=km(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-At}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=rf(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,tf(this._hostTNode,s)),a}createComponent(n,e,r,i,o){let s=n&&!yC(n),a;if(s)a=e;else{let y=e||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let l=s?n:new Wi(pr(n)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let _=(s?c:this.parentInjector).get(lt,null);_&&(o=_)}let u=pr(l.componentType??{}),d=rf(this._lContainer,u?.id??null),g=d?.firstChild??null,f=l.create(c,i,g,o);return this.insertImpl(f.hostView,a,tf(this._hostTNode,d)),f}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(IC(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[nt],c=new Yy(l,l[bt],l[nt]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return Hy(s,i,o,r),n.attachToViewContainerRef(),nv(_d(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=km(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=Jd(this._lContainer,e);r&&(Xa(_d(this._lContainer),e),_y(r[Q],r))}detach(n){let e=this._adjustIndex(n,-1),r=Jd(this._lContainer,e);return r&&Xa(_d(this._lContainer),e)!=null?new Qr(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function km(t){return t[rl]}function _d(t){return t[rl]||(t[rl]=[])}function Jy(t,n){let e,r=n[t.index];return Hn(r)?e=r:(e=By(r,n,null,t),n[t.index]=e,Ul(n,e)),bS(e,n,t,r),new Yy(e,t,n)}function _S(t,n){let e=t[Ee],r=e.createComment(""),i=Wt(n,t),o=Cy(e,i);return dl(e,o,r,XE(e,i),!1),r}var bS=ES,DS=()=>!1;function CS(t,n,e){return DS(t,n,e)}function ES(t,n,e,r){if(t[Hr])return;let i;e.type&8?i=gn(r):i=_S(n,e),t[Hr]=i}var lf=class t{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},cf=class t{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let r=n.contentQueries!==null?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)yh(n,e).matches!==null&&this.queries[e].setDirty()}},uf=class{flags;read;predicate;constructor(n,e,r=null){this.flags=e,this.read=r,typeof n=="string"?this.predicate=RS(n):this.predicate=n}},df=class t{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},ff=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,e,IS(e,o)),this.matchTNodeWithReadOption(n,e,Qa(e,n,o,!1,!1))}else r===Zr?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Qa(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Dt||i===br||i===Zr&&e.type&4)this.addMatch(e.index,-2);else{let o=Qa(e,n,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function IS(t,n){let e=t.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1]}return null}function SS(t,n){return t.type&11?Qi(t,n):t.type&4?vh(t,n):null}function MS(t,n,e,r){return e===-1?SS(n,t):e===-2?xS(t,n,r):Gr(t,t[Q],e,n)}function xS(t,n,e){if(e===Dt)return Qi(n,t);if(e===Zr)return vh(n,t);if(e===br)return Jy(n,t)}function Xy(t,n,e,r){let i=n[jn].queries[r];if(i.matches===null){let o=t.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(MS(n,u,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function hf(t,n,e,r){let i=t.queries.getByIndex(e),o=i.matches;if(o!==null){let s=Xy(t,n,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let c=o[a+1],u=n[-l];for(let d=At;d<u.length;d++){let g=u[d];g[$r]===g[nt]&&hf(g[Q],g,c,r)}if(u[Vi]!==null){let d=u[Vi];for(let g=0;g<d.length;g++){let f=d[g];hf(f[Q],f,c,r)}}}}}return r}function TS(t,n){return t[jn].queries[n].queryList}function AS(t,n,e){let r=new Gd((e&4)===4);return xC(t,n,r,r.destroy),(n[jn]??=new cf).queries.push(new lf(r))-1}function NS(t,n,e){let r=Re();return r.firstCreatePass&&(kS(r,new uf(t,n,e),-1),(n&2)===2&&(r.staticViewQueries=!0)),AS(r,Z(),n)}function RS(t){return t.split(",").map(n=>n.trim())}function kS(t,n,e){t.queries===null&&(t.queries=new df),t.queries.track(new ff(n,e))}function yh(t,n){return t.queries.getByIndex(n)}function OS(t,n){let e=t[Q],r=yh(e,n);return r.crossesNgTemplate?hf(e,t,n,[]):Xy(e,t,r,n)}var yr=class{},Qo=class{};var pf=class extends yr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gl(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=ov(n);this._bootstrapComponents=my(o.bootstrap),this._r3Injector=Zv(n,e,[{provide:yr,useValue:this},{provide:$i,useValue:this.componentFactoryResolver},...r],at(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},gf=class extends Qo{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new pf(this.moduleType,n,[])}};var ml=class extends yr{injector;componentFactoryResolver=new gl(this);instance=null;constructor(n){super();let e=new Wo([...n.providers,{provide:yr,useValue:this},{provide:$i,useValue:this.componentFactoryResolver}],n.parent||Of(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function $l(t,n,e=null){return new ml({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var FS=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=cv(!1,e.type),i=r.length>0?$l([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=M({token:t,providedIn:"environment",factory:()=>new t(T(lt))})}return t})();function ee(t){return Ko(()=>{let n=e0(t),e=J(E({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(FS).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mn.Emulated,styles:t.styles||yt,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Jr("NgStandalone"),t0(e);let r=t.dependencies;return e.directiveDefs=Fm(r,!1),e.pipeDefs=Fm(r,!0),e.id=jS(e),e})}function PS(t){return pr(t)||sv(t)}function LS(t){return t!==null}function zt(t){return Ko(()=>({type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Om(t,n){if(t==null)return Fi;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=vr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(e[o]=a!==vr.None?[r,a]:r,n[o]=s):e[o]=r}return e}function ye(t){return Ko(()=>{let n=e0(t);return t0(n),n})}function wh(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function e0(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Fi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Om(t.inputs,n),outputs:Om(t.outputs),debugInfo:null}}function t0(t){t.features?.forEach(n=>n(t))}function Fm(t,n){if(!t)return null;let e=n?av:PS;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(LS)}function jS(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function VS(t){return Object.getPrototypeOf(t.prototype).constructor}function ct(t){let n=VS(t.type),e=!0,r=[t];for(;n;){let i;if(gr(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new N(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let s=t;s.inputs=Ha(t.inputs),s.inputTransforms=Ha(t.inputTransforms),s.declaredInputs=Ha(t.declaredInputs),s.outputs=Ha(t.outputs);let a=i.hostBindings;a&&WS(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&$S(t,l),c&&HS(t,c),BS(t,i),jD(t.outputs,i.outputs),gr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ct&&(e=!1)}}n=Object.getPrototypeOf(n)}US(r)}function BS(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];if(r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function US(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Go(i.hostAttrs,e=Go(e,i.hostAttrs))}}function Ha(t){return t===Fi?{}:t===yt?[]:t}function $S(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function HS(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function WS(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function _h(t){let n=t.inputConfig,e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}t.inputTransforms=e}function n0(t){return zS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function qS(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function zS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function bh(t,n,e){return t[n]=e}function vn(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function qi(t,n,e,r){let i=vn(t,n,e);return vn(t,n+1,r)||i}function r0(t,n,e,r,i){let o=qi(t,n,e,r);return vn(t,n+2,i)||o}function GS(t,n,e,r,i,o){let s=qi(t,n,e,r);return qi(t,n+2,i,o)||s}function QS(t){return(t.flags&32)===32}function ZS(t,n,e,r,i,o,s,a,l){let c=n.consts,u=Yi(n,t,4,s||null,a||null);hh(n,e,u,Bi(c,l)),Fl(n,u);let d=u.tView=dh(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function i0(t,n,e,r,i,o,s,a,l,c){let u=e+wt,d=n.firstCreatePass?ZS(u,n,t,r,i,o,s,a,l):n.data[u];Yr(d,!1);let g=KS(n,t,d,e);kl()&&jl(n,t,g,d),mr(g,t);let f=By(g,t,g,d);return t[u]=f,Ul(t,f),CS(f,d,t),Ml(d)&&ch(n,t,d),l!=null&&uh(t,d,c),d}function O(t,n,e,r,i,o,s,a){let l=Z(),c=Re(),u=Bi(c.consts,o);return i0(l,c,t,n,e,r,i,u,s,a),O}var KS=YS;function YS(t,n,e,r){return Ol(!0),n[Ee].createComment("")}var Dh=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var o0=new x("");function Xr(t){return!!t&&typeof t.then=="function"}function s0(t){return!!t&&typeof t.subscribe=="function"}var Hl=new x("");var a0=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=b(Hl,{optional:!0})??[];injector=b(Nt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=_t(this.injector,i);if(Xr(o))e.push(o);else if(s0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JS=(()=>{class t{static \u0275prov=M({token:t,providedIn:"root",factory:()=>new mf})}return t})(),mf=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}},ts=new x("");function XS(){Og(()=>{throw new N(600,!1)})}function eM(t){return t.isBoundToModule}var tM=10;function nM(t,n,e){try{let r=e();return Xr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}var Un=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(hE);afterRenderManager=b(dy);zonelessEnabled=b(Pl);rootEffectScheduler=b(JS);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Fe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=b(qn).hasPendingTasks.pipe(V(e=>!e));constructor(){b(Zi,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=b(lt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){let i=e instanceof hl;if(!this._injector.get(a0).done){let g=!i&&lv(e),f=!1;throw new N(405,f)}let s;i?s=e:s=this._injector.get($i).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=eM(s)?void 0:this._injector.get(yr),l=r||s.selector,c=s.create(Nt.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(o0,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Za(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Xf.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new N(101,!1);let e=se(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,se(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Hi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<tM;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)rM(r,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>xl(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Za(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ts,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Za(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new N(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Za(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function rM(t,n,e,r){if(!e&&!xl(t))return;Gy(t,n,e&&!r?0:1)}function bn(t,n,e,r){let i=Z(),o=Nl();if(vn(i,o,n)){let s=Re(),a=Rl();jI(a,i,t,n,e,r)}return bn}function l0(t,n,e,r){return vn(t,Nl(),e)?n+ot(e)+r:it}function iM(t,n,e,r,i,o){let s=Uf(),a=qi(t,s,e,i);return Xo(2),a?n+ot(e)+r+ot(i)+o:it}function oM(t,n,e,r,i,o,s,a){let l=Uf(),c=r0(t,l,e,i,s);return Xo(3),c?n+ot(e)+r+ot(i)+o+ot(s)+a:it}function sM(t,n,e,r,i,o,s,a,l,c,u,d,g,f){let y=Uf(),_=GS(t,y,e,i,s,l);return _=qi(t,y+4,u,g)||_,Xo(6),_?n+ot(e)+r+ot(i)+o+ot(s)+a+ot(l)+c+ot(u)+d+ot(g)+f:it}function Wa(t,n){return t<<17|n<<2}function Kr(t){return t>>17&32767}function aM(t){return(t&2)==2}function lM(t,n){return t&131071|n<<17}function vf(t){return t|2}function zi(t){return(t&131068)>>2}function bd(t,n){return t&-131069|n<<2}function cM(t){return(t&1)===1}function yf(t){return t|1}function uM(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Kr(s),l=zi(s);t[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Yo(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let g=Kr(t[a+1]);t[r+1]=Wa(g,a),g!==0&&(t[g+1]=bd(t[g+1],r)),t[a+1]=lM(t[a+1],r)}else t[r+1]=Wa(a,0),a!==0&&(t[a+1]=bd(t[a+1],r)),a=r;else t[r+1]=Wa(l,0),a===0?a=r:t[l+1]=bd(t[l+1],r),l=r;c&&(t[r+1]=vf(t[r+1])),Pm(t,u,r,!0),Pm(t,u,r,!1),dM(n,u,t,r,o),s=Wa(a,l),o?n.classBindings=s:n.styleBindings=s}function dM(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Yo(o,n)>=0&&(e[r+1]=yf(e[r+1]))}function Pm(t,n,e,r){let i=t[e+1],o=n===null,s=r?Kr(i):zi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];fM(l,n)&&(a=!0,t[s+1]=r?yf(c):vf(c)),s=r?Kr(c):zi(c)}a&&(t[e+1]=r?vf(i):yf(i))}function fM(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Yo(t,n)>=0:!1}var on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hM(t){return t.substring(on.key,on.keyEnd)}function pM(t){return gM(t),c0(t,u0(t,0,on.textEnd))}function c0(t,n){let e=on.textEnd;return e===n?-1:(n=on.keyEnd=mM(t,on.key=n,e),u0(t,n,e))}function gM(t){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=t.length}function u0(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function mM(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function C(t,n,e){let r=Z(),i=Nl();if(vn(r,i,n)){let o=Re(),s=Rl();fh(o,s,r,t,n,r[Ee],e,!1)}return C}function wf(t,n,e,r,i){let o=n.inputs,s=i?"class":"style";ph(t,e,o[s],s,r)}function Ji(t,n,e){return f0(t,n,e,!1),Ji}function zn(t,n){return f0(t,n,null,!0),zn}function d0(t){yM(EM,vM,t,!0)}function vM(t,n){for(let e=pM(n);e>=0;e=c0(n,e))Nf(t,hM(n),!0)}function f0(t,n,e,r){let i=Z(),o=Re(),s=Xo(2);if(o.firstUpdatePass&&p0(o,t,s,r),n!==it&&vn(i,s,n)){let a=o.data[yn()];g0(o,a,i,i[Ee],t,i[s+1]=SM(n,e),r,s)}}function yM(t,n,e,r){let i=Re(),o=Xo(2);i.firstUpdatePass&&p0(i,null,o,r);let s=Z();if(e!==it&&vn(s,o,e)){let a=i.data[yn()];if(m0(a,r)&&!h0(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Sd(l,e||"")),wf(i,a,s,e,r)}else IM(i,a,s,s[Ee],s[o+1],s[o+1]=CM(t,n,e),r,o)}}function h0(t,n){return n>=t.expandoStartIndex}function p0(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[yn()],s=h0(t,e);m0(o,r)&&n===null&&!s&&(n=!1),n=wM(i,o,n,r),uM(i,o,n,e,s,r)}}function wM(t,n,e,r){let i=BC(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=Dd(null,t,n,e,r),e=Zo(e,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=Dd(i,t,n,e,r),o===null){let l=_M(t,n,r);l!==void 0&&Array.isArray(l)&&(l=Dd(null,t,n,l[1],r),l=Zo(l,n.attrs,r),bM(t,n,r,l))}else o=DM(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function _M(t,n,e){let r=e?n.classBindings:n.styleBindings;if(zi(r)!==0)return t[Kr(r)]}function bM(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[Kr(i)]=r}function DM(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Zo(r,s,e)}return Zo(r,n.attrs,e)}function Dd(t,n,e,r,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],r=Zo(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),r}function Zo(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Nf(t,s,e?!0:n[++o]))}return t===void 0?null:t}function CM(t,n,e){if(e==null||e==="")return yt;let r=[],i=Ki(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function EM(t,n,e){let r=String(n);r!==""&&!r.includes(" ")&&Nf(t,r,e)}function IM(t,n,e,r,i,o,s,a){i===it&&(i=yt);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let g=l<i.length?i[l+1]:void 0,f=c<o.length?o[c+1]:void 0,y=null,_;u===d?(l+=2,c+=2,g!==f&&(y=d,_=f)):d===null||u!==null&&u<d?(l+=2,y=u):(c+=2,y=d,_=f),y!==null&&g0(t,n,e,r,y,_,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}function g0(t,n,e,r,i,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],u=cM(c)?Lm(l,n,e,i,zi(c),s):void 0;if(!vl(u)){vl(o)||aM(c)&&(o=Lm(l,null,e,i,a,s));let d=_v(yn(),e);oI(r,s,d,i,o)}}function Lm(t,n,e,r,i,o){let s=n===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,g=e[i+1];g===it&&(g=d?yt:void 0);let f=d?hd(g,r):u===r?g:void 0;if(c&&!vl(f)&&(f=hd(l,r)),vl(f)&&(a=f,s))return a;let y=t[i+1];i=s?Kr(y):zi(y)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=hd(l,r))}return a}function vl(t){return t!==void 0}function SM(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=at(Ki(t)))),t}function m0(t,n){return(t.flags&(n?8:16))!==0}function MM(t,n,e,r,i,o){let s=n.consts,a=Bi(s,i),l=Yi(n,t,2,r,a);return hh(n,e,l,Bi(s,o)),l.attrs!==null&&pl(l,l.attrs,!1),l.mergedAttrs!==null&&pl(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function h(t,n,e,r){let i=Z(),o=Re(),s=wt+t,a=i[Ee],l=o.firstCreatePass?MM(s,o,i,n,e,r):o.data[s],c=xM(o,i,l,a,n,t);i[s]=c;let u=Ml(l);return Yr(l,!0),xy(a,c,l),!QS(l)&&kl()&&jl(o,i,c,l),TC()===0&&mr(c,i),AC(),u&&(ch(o,i,l),nh(o,l,i)),r!==null&&uh(i,l),h}function p(){let t=rt();Vf()?Bf():(t=t.parent,Yr(t,!1));let n=t;RC(n)&&kC(),NC();let e=Re();return e.firstCreatePass&&(Fl(e,t),Pf(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&GC(n)&&wf(e,n,Z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&QC(n)&&wf(e,n,Z(),n.stylesWithoutHost,!1),p}function R(t,n,e,r){return h(t,n,e,r),p(),R}var xM=(t,n,e,r,i,o)=>(Ol(!0),vy(r,i,HC()));function TM(t,n,e,r,i){let o=n.consts,s=Bi(o,r),a=Yi(n,t,8,"ng-container",s);s!==null&&pl(a,s,!0);let l=Bi(o,i);return hh(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function Dr(t,n,e){let r=Z(),i=Re(),o=t+wt,s=i.firstCreatePass?TM(o,i,r,n,e):i.data[o];Yr(s,!0);let a=AM(i,r,s,t);return r[o]=a,kl()&&jl(i,r,a,s),mr(a,r),Ml(s)&&(ch(i,r,s),nh(i,s,r)),e!=null&&uh(r,s),Dr}function Cr(){let t=rt(),n=Re();return Vf()?Bf():(t=t.parent,Yr(t,!1)),n.firstCreatePass&&(Fl(n,t),Pf(t)&&n.queries.elementEnd(t)),Cr}var AM=(t,n,e,r)=>(Ol(!0),qE(n[Ee],""));function _e(){return Z()}var jr=void 0;function NM(t){let n=t,e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var RM=["en",[["a","p"],["AM","PM"],jr],[["AM","PM"],jr,jr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jr,"{1} 'at' {0}",jr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",NM],Cd={};function kt(t){let n=kM(t),e=jm(n);if(e)return e;let r=n.split("-")[0];if(e=jm(r),e)return e;if(r==="en")return RM;throw new N(701,!1)}function jm(t){return t in Cd||(Cd[t]=Vr.ng&&Vr.ng.common&&Vr.ng.common.locales&&Vr.ng.common.locales[t]),Cd[t]}var Te=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Te||{});function kM(t){return t.toLowerCase().replace(/_/g,"-")}var yl="en-US";var OM=yl;function FM(t){typeof t=="string"&&(OM=t.toLowerCase().replace(/_/g,"-"))}var PM=(t,n,e)=>{};function S(t,n,e,r){let i=Z(),o=Re(),s=rt();return v0(o,i,i[Ee],s,t,n,r),S}function LM(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===r){let a=n[tl],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function v0(t,n,e,r,i,o,s){let a=Ml(r),c=t.firstCreatePass&&Sv(t),u=n[an],d=Iv(n),g=!0;if(r.type&3||s){let _=Wt(r,n),D=s?s(_):_,A=d.length,re=s?ce=>s(gn(ce[r.index])):r.index,z=null;if(!s&&a&&(z=LM(t,n,i,r.index)),z!==null){let ce=z.__ngLastListenerFn__||z;ce.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,g=!1}else{o=Bm(r,n,u,o),PM(_,i,o);let ce=e.listen(D,i,o);d.push(o,ce),c&&c.push(i,re,A,A+1)}}else o=Bm(r,n,u,o);let f=r.outputs,y;if(g&&f!==null&&(y=f[i])){let _=y.length;if(_)for(let D=0;D<_;D+=2){let A=y[D],re=y[D+1],Ne=n[A][re].subscribe(o),Me=d.length;d.push(o,Ne),c&&c.push(i,r.index,Me,-(Me+1))}}}function Vm(t,n,e,r){let i=se(null);try{return Ut(6,n,e),e(r)!==!1}catch(o){return Uy(t,o),!1}finally{Ut(7,n,e),se(i)}}function Bm(t,n,e,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?_r(t.index,n):n;mh(s,5);let a=Vm(n,e,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Vm(n,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function F(t=1){return $C(t)}function jM(t,n){let e=null,r=fI(t);for(let i=0;i<n.length;i++){let o=n[i];if(o==="*"){e=i;continue}if(r===null?Ay(t,o,!0):gI(r,o))return i}return e}function y0(t){let n=Z()[$t][bt];if(!n.projection){let e=t?t.length:1,r=n.projection=oC(e,null),i=r.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=t?jM(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function w0(t,n=0,e,r,i,o){let s=Z(),a=Re(),l=r?t+1:null;l!==null&&i0(s,a,l,r,i,o,null,e);let c=Yi(a,wt+t,16,null,e||null);c.projection===null&&(c.projection=n),Bf();let d=!s[qo]||xv();s[$t][bt].projection[c.projection]===null&&l!==null?VM(s,a,l):d&&(c.flags&32)!==32&&rI(a,s,c)}function VM(t,n,e){let r=wt+e,i=n.data[r],o=t[r],s=rf(o,i.tView.ssrId),a=$y(t,i,void 0,{dehydratedView:s});Hy(o,a,0,tf(i,s))}function Wl(t,n,e){return _0(t,"",n,"",e),Wl}function _0(t,n,e,r,i){let o=Z(),s=l0(o,n,e,r);if(s!==it){let a=Re(),l=Rl();fh(a,l,o,t,s,o[Ee],i,!1)}return _0}function Gn(t,n,e){NS(t,n,e)}function Dn(t){let n=Z(),e=Re(),r=Nv();$f(r+1);let i=yh(e,r);if(t.dirty&&EC(n)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=OS(n,r);t.reset(o,mE),t.notifyOnChanges()}return!0}return!1}function Cn(){return TS(Z(),Nv())}function BM(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function ei(t){let n=FC();return Dv(n,wt+t)}function w(t,n=""){let e=Z(),r=Re(),i=t+wt,o=r.firstCreatePass?Yi(r,i,1,n,null):r.data[i],s=UM(r,e,o,n,t);e[i]=s,kl()&&jl(r,e,s,o),Yr(o,!1)}var UM=(t,n,e,r,i)=>(Ol(!0),HE(n[Ee],r));function fe(t){return G("",t,""),fe}function G(t,n,e){let r=Z(),i=l0(r,t,n,e);return i!==it&&ql(r,yn(),i),G}function ti(t,n,e,r,i){let o=Z(),s=iM(o,t,n,e,r,i);return s!==it&&ql(o,yn(),s),ti}function Er(t,n,e,r,i,o,s){let a=Z(),l=oM(a,t,n,e,r,i,o,s);return l!==it&&ql(a,yn(),l),Er}function Ch(t,n,e,r,i,o,s,a,l,c,u,d,g){let f=Z(),y=sM(f,t,n,e,r,i,o,s,a,l,c,u,d,g);return y!==it&&ql(f,yn(),y),Ch}function ql(t,n,e){let r=_v(n,t);WE(t[Ee],r,e)}function U(t,n,e){ny(n)&&(n=n());let r=Z(),i=Nl();if(vn(r,i,n)){let o=Re(),s=Rl();fh(o,s,r,t,n,r[Ee],e,!1)}return U}function W(t,n){let e=ny(t);return e&&t.set(n),e}function $(t,n){let e=Z(),r=Re(),i=rt();return v0(r,e,e[Ee],i,t,n),$}function $M(t,n,e){let r=Re();if(r.firstCreatePass){let i=gr(t);_f(e,r.data,r.blueprint,i,!0),_f(n,r.data,r.blueprint,i,!1)}}function _f(t,n,e,r,i){if(t=st(t),Array.isArray(t))for(let o=0;o<t.length;o++)_f(t[o],n,e,r,i);else{let o=Re(),s=Z(),a=rt(),l=Li(t)?t:st(t.provide),c=fv(t),u=a.providerIndexes&1048575,d=a.directiveStart,g=a.providerIndexes>>20;if(Li(t)||!t.multi){let f=new zr(c,i,I),y=Id(l,n,i?u:u+g,d);y===-1?(Ud(al(a,s),o,l),Ed(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[y]=f,s[y]=f)}else{let f=Id(l,n,u+g,d),y=Id(l,n,u,u+g),_=f>=0&&e[f],D=y>=0&&e[y];if(i&&!D||!i&&!_){Ud(al(a,s),o,l);let A=qM(i?WM:HM,e.length,i,r,c);!i&&D&&(e[y].providerFactory=A),Ed(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(A),s.push(A)}else{let A=b0(e[i?y:f],c,!i&&r);Ed(o,t,f>-1?f:y,A)}!i&&r&&D&&e[y].componentProviders++}}}function Ed(t,n,e,r){let i=Li(n),o=dC(n);if(i||o){let l=(o?st(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function b0(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Id(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function HM(t,n,e,r){return bf(this.multi,[])}function WM(t,n,e,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Gr(e,e[Q],this.providerFactory.index,r);o=a.slice(0,s),bf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],bf(i,o);return o}function bf(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function qM(t,n,e,r,i){let o=new zr(t,e,I);return o.multi=[],o.index=n,o.componentProviders=0,b0(o,i,r&&!e),o}function he(t,n=[]){return e=>{e.providersResolver=(r,i)=>$M(r,i?i(t):t,n)}}function Ir(t,n,e,r){return zM(Z(),Al(),t,n,e,r)}function ns(t,n,e,r,i){return C0(Z(),Al(),t,n,e,r,i)}function D0(t,n,e,r,i,o){return GM(Z(),Al(),t,n,e,r,i,o)}function Eh(t,n){let e=t[n];return e===it?void 0:e}function zM(t,n,e,r,i,o){let s=n+e;return vn(t,s,i)?bh(t,s+1,o?r.call(o,i):r(i)):Eh(t,s+1)}function C0(t,n,e,r,i,o,s){let a=n+e;return qi(t,a,i,o)?bh(t,a+2,s?r.call(s,i,o):r(i,o)):Eh(t,a+2)}function GM(t,n,e,r,i,o,s,a){let l=n+e;return r0(t,l,i,o,s)?bh(t,l+3,a?r.call(a,i,o,s):r(i,o,s)):Eh(t,l+3)}function ut(t,n){let e=Re(),r,i=t+wt;e.firstCreatePass?(r=QM(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Ur(r.type,!0)),s,a=vt(I);try{let l=sl(!1),c=o();return sl(l),BM(e,Z(),i,c),c}finally{vt(a)}}function QM(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function dt(t,n,e,r){let i=t+wt,o=Z(),s=Dv(o,i);return ZM(o,i)?C0(o,Al(),n,s.transform,e,r,s):s.transform(e,r)}function ZM(t,n){return t[Q].data[n].pure}var Df=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},zl=(()=>{class t{compileModuleSync(e){return new gf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=ov(e),o=my(i.declarations).reduce((s,a)=>{let l=pr(a);return l&&s.push(new Wi(l)),s},[]);return new Df(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var KM=(()=>{class t{zone=b(xe);changeDetectionScheduler=b(Ui);applicationRef=b(Un);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YM=new x("",{factory:()=>!1});function E0({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new xe(J(E({},S0()),{scheduleInRootZone:e})),[{provide:xe,useFactory:t},{provide:Pi,multi:!0,useFactory:()=>{let r=b(KM,{optional:!0});return()=>r.initialize()}},{provide:Pi,multi:!0,useFactory:()=>{let r=b(JM);return()=>{r.initialize()}}},n===!0?{provide:Yv,useValue:!0}:[],{provide:Jv,useValue:e??Kv}]}function I0(t){let n=t?.ignoreChangesOutsideZone,e=t?.scheduleInRootZone,r=E0({ngZoneFactory:()=>{let i=S0(t);return i.scheduleInRootZone=e,i.shouldCoalesceEventChangeDetection&&Jr("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:e});return wr([{provide:YM,useValue:!0},{provide:Pl,useValue:!1},r])}function S0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var JM=(()=>{class t{subscription=new Oe;initialized=!1;zone=b(xe);pendingTasks=b(qn);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var XM=(()=>{class t{appRef=b(Un);taskService=b(qn);ngZone=b(xe);zonelessEnabled=b(Pl);tracing=b(Zi,{optional:!0});disableScheduling=b(Yv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Oe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(cl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(Jv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zd||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?_m:Xv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(cl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_m(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ex(){return typeof $localize<"u"&&$localize.locale||yl}var rs=new x("",{providedIn:"root",factory:()=>b(rs,X.Optional|X.SkipSelf)||ex()});var Cf=new x(""),tx=new x("");function Vo(t){return!t.moduleRef}function nx(t){let n=Vo(t)?t.r3Injector:t.moduleRef.injector,e=n.get(xe);return e.run(()=>{Vo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(Vn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{r.handleError(o)}})}),Vo(t)){let o=()=>n.destroy(),s=t.platformInjector.get(Cf);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Cf);s.add(o),t.moduleRef.onDestroy(()=>{Za(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return nM(r,e,()=>{let o=n.get(a0);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(rs,yl);if(FM(s||yl),!n.get(tx,!0))return Vo(t)?n.get(Un):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Vo(t)){let l=n.get(Un);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return rx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function rx(t,n){let e=t.injector.get(Un);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new N(-403,!1);n.push(t)}var Ka=null;function ix(t=[],n){return Nt.create({name:n,providers:[{provide:El,useValue:"platform"},{provide:Cf,useValue:new Set([()=>Ka=null])},...t]})}function ox(t=[]){if(Ka)return Ka;let n=ix(t);return Ka=n,XS(),sx(n),n}function sx(t){let n=t.get(Yf,null);_t(t,()=>{n?.forEach(e=>e())})}function M0(){return!1}var ni=(()=>{class t{static __NG_ELEMENT_ID__=ax}return t})();function ax(t){return lx(rt(),Z(),(t&16)===16)}function lx(t,n,e){if(Sl(t)&&!e){let r=_r(t.index,n);return new Qr(r,r)}else if(t.type&175){let r=n[$t];return new Qr(r,n)}return null}var Ef=class{constructor(){}supports(n){return n0(n)}create(n){return new If(n)}},cx=(t,n)=>n,If=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||cx}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let s=!r||e&&e.currentIndex<Um(r,i,o)?e:r,a=Um(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let g=0;g<c;g++){let f=g<o.length?o[g]:o[g]=0,y=f+g;u<=y&&y<c&&(o[g]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!n0(n))throw new N(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),r=!0):(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,qS(n,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),r=!0):(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new Sf(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new wl),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wl),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Sf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},Mf=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},wl=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Mf,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Um(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function $m(){return new Ih([new Ef])}var Ih=(()=>{class t{factories;static \u0275prov=M({token:t,providedIn:"root",factory:$m});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||$m()),deps:[[t,new Tf,new Cl]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new N(901,!1)}}return t})();function x0(t){try{let{rootComponent:n,appProviders:e,platformProviders:r}=t,i=ox(r),o=[E0({}),{provide:Ui,useExisting:XM},...e||[]],s=new ml({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return nx({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function Sr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function is(t,n){Jr("NgSignals");let e=Ng(t);return n?.equal&&(e[St].equal=n.equal),e}function Qn(t){let n=se(null);try{return t()}finally{se(n)}}var Hm=class{[St];constructor(n){this[St]=n}destroy(){this[St].destroy()}};function T0(t){let n=pr(t);if(!n)return null;let e=new Wi(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var L0=null;function Jn(){return L0}function j0(t){L0??=t}var tc=class{};var Qe=new x(""),Ph=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>b(ux),providedIn:"platform"})}return t})(),V0=new x(""),ux=(()=>{class t extends Ph{_location;_history;_doc=b(Qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jn().getBaseHref(this._doc)}onPopState(e){let r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Lh(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function A0(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,r=e-(t[e-1]==="/"?1:0);return t.slice(0,r)+t.slice(e)}function Kn(t){return t&&t[0]!=="?"?"?"+t:t}var Xn=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>b(jh),providedIn:"root"})}return t})(),B0=new x(""),jh=(()=>{class t extends Xn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Lh(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Kn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(T(Ph),T(B0,8))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),U0=(()=>{class t extends Xn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Lh(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Kn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(T(Ph),T(B0,8))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),eo=(()=>{class t{_subject=new Fe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=hx(A0(N0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Kn(r))}normalize(e){return t.stripTrailingSlash(fx(this._basePath,N0(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Kn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Kn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Kn;static joinWithSlash=Lh;static stripTrailingSlash=A0;static \u0275fac=function(r){return new(r||t)(T(Xn))};static \u0275prov=M({token:t,factory:()=>dx(),providedIn:"root"})}return t})();function dx(){return new eo(T(Xn))}function fx(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function N0(t){return t.replace(/\/index.html$/,"")}function hx(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var $0=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}($0||{});var ft=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ft||{}),ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ve||{}),Ot=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Ot||{}),Ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function px(t){return kt(t)[Te.LocaleId]}function gx(t,n,e){let r=kt(t),i=[r[Te.DayPeriodsFormat],r[Te.DayPeriodsStandalone]],o=Gt(i,n);return Gt(o,e)}function mx(t,n,e){let r=kt(t),i=[r[Te.DaysFormat],r[Te.DaysStandalone]],o=Gt(i,n);return Gt(o,e)}function vx(t,n,e){let r=kt(t),i=[r[Te.MonthsFormat],r[Te.MonthsStandalone]],o=Gt(i,n);return Gt(o,e)}function yx(t,n){let r=kt(t)[Te.Eras];return Gt(r,n)}function Gl(t,n){let e=kt(t);return Gt(e[Te.DateFormat],n)}function Ql(t,n){let e=kt(t);return Gt(e[Te.TimeFormat],n)}function Zl(t,n){let r=kt(t)[Te.DateTimeFormat];return Gt(r,n)}function Yn(t,n){let e=kt(t),r=e[Te.NumberSymbols][n];if(typeof r>"u"){if(n===Ft.CurrencyDecimal)return e[Te.NumberSymbols][Ft.Decimal];if(n===Ft.CurrencyGroup)return e[Te.NumberSymbols][Ft.Group]}return r}function wx(t,n){return kt(t)[Te.NumberFormats][n]}function H0(t){if(!t[Te.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Te.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _x(t){let n=kt(t);return H0(n),(n[Te.ExtraData][2]||[]).map(r=>typeof r=="string"?Sh(r):[Sh(r[0]),Sh(r[1])])}function bx(t,n,e){let r=kt(t);H0(r);let i=[r[Te.ExtraData][0],r[Te.ExtraData][1]],o=Gt(i,n)||[];return Gt(o,e)||[]}function Gt(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function Sh(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var Dx=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kl={},Cx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ex(t,n,e,r){let i=kx(t);n=Zn(e,n)||n;let s=[],a;for(;n;)if(a=Cx.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let l=i.getTimezoneOffset();r&&(l=q0(r,l),i=Rx(i,r,!0));let c="";return s.forEach(u=>{let d=Ax(u);c+=d?d(i,e,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function nc(t,n,e){let r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function Zn(t,n){let e=px(t);if(Kl[e]??={},Kl[e][n])return Kl[e][n];let r="";switch(n){case"shortDate":r=Gl(t,Ot.Short);break;case"mediumDate":r=Gl(t,Ot.Medium);break;case"longDate":r=Gl(t,Ot.Long);break;case"fullDate":r=Gl(t,Ot.Full);break;case"shortTime":r=Ql(t,Ot.Short);break;case"mediumTime":r=Ql(t,Ot.Medium);break;case"longTime":r=Ql(t,Ot.Long);break;case"fullTime":r=Ql(t,Ot.Full);break;case"short":let i=Zn(t,"shortTime"),o=Zn(t,"shortDate");r=Yl(Zl(t,Ot.Short),[i,o]);break;case"medium":let s=Zn(t,"mediumTime"),a=Zn(t,"mediumDate");r=Yl(Zl(t,Ot.Medium),[s,a]);break;case"long":let l=Zn(t,"longTime"),c=Zn(t,"longDate");r=Yl(Zl(t,Ot.Long),[l,c]);break;case"full":let u=Zn(t,"fullTime"),d=Zn(t,"fullDate");r=Yl(Zl(t,Ot.Full),[u,d]);break}return r&&(Kl[e][n]=r),r}function Yl(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return n!=null&&r in n?n[r]:e})),t}function ln(t,n,e="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),o+s}function Ix(t,n){return ln(t,3).substring(0,n)}function je(t,n,e=0,r=!1,i=!1){return function(o,s){let a=Sx(t,o);if((e>0||a>-e)&&(a+=e),t===3)a===0&&e===-12&&(a=12);else if(t===6)return Ix(a,n);let l=Yn(s,Ft.MinusSign);return ln(a,n,l,r,i)}}function Sx(t,n){switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function we(t,n,e=ft.Format,r=!1){return function(i,o){return Mx(i,o,t,n,e,r)}}function Mx(t,n,e,r,i,o){switch(e){case 2:return vx(n,i,r)[t.getMonth()];case 1:return mx(n,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let c=_x(n),u=bx(n,i,r),d=c.findIndex(g=>{if(Array.isArray(g)){let[f,y]=g,_=s>=f.hours&&a>=f.minutes,D=s<y.hours||s===y.hours&&a<y.minutes;if(f.hours<y.hours){if(_&&D)return!0}else if(_||D)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return gx(n,i,r)[s<12?0:1];case 3:return yx(n,r)[t.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function Jl(t){return function(n,e,r){let i=-1*r,o=Yn(e,Ft.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+ln(s,2,o)+ln(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+ln(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+ln(s,2,o)+":"+ln(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+ln(s,2,o)+":"+ln(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var xx=0,ec=4;function Tx(t){let n=nc(t,xx,1).getDay();return nc(t,0,1+(n<=ec?ec:ec+7)-n)}function W0(t){let n=t.getDay(),e=n===0?-3:ec-n;return nc(t.getFullYear(),t.getMonth(),t.getDate()+e)}function Mh(t,n=!1){return function(e,r){let i;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=W0(e),s=Tx(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ln(i,t,Yn(r,Ft.MinusSign))}}function Xl(t,n=!1){return function(e,r){let o=W0(e).getFullYear();return ln(o,t,Yn(r,Ft.MinusSign),n)}}var xh={};function Ax(t){if(xh[t])return xh[t];let n;switch(t){case"G":case"GG":case"GGG":n=we(3,ve.Abbreviated);break;case"GGGG":n=we(3,ve.Wide);break;case"GGGGG":n=we(3,ve.Narrow);break;case"y":n=je(0,1,0,!1,!0);break;case"yy":n=je(0,2,0,!0,!0);break;case"yyy":n=je(0,3,0,!1,!0);break;case"yyyy":n=je(0,4,0,!1,!0);break;case"Y":n=Xl(1);break;case"YY":n=Xl(2,!0);break;case"YYY":n=Xl(3);break;case"YYYY":n=Xl(4);break;case"M":case"L":n=je(1,1,1);break;case"MM":case"LL":n=je(1,2,1);break;case"MMM":n=we(2,ve.Abbreviated);break;case"MMMM":n=we(2,ve.Wide);break;case"MMMMM":n=we(2,ve.Narrow);break;case"LLL":n=we(2,ve.Abbreviated,ft.Standalone);break;case"LLLL":n=we(2,ve.Wide,ft.Standalone);break;case"LLLLL":n=we(2,ve.Narrow,ft.Standalone);break;case"w":n=Mh(1);break;case"ww":n=Mh(2);break;case"W":n=Mh(1,!0);break;case"d":n=je(2,1);break;case"dd":n=je(2,2);break;case"c":case"cc":n=je(7,1);break;case"ccc":n=we(1,ve.Abbreviated,ft.Standalone);break;case"cccc":n=we(1,ve.Wide,ft.Standalone);break;case"ccccc":n=we(1,ve.Narrow,ft.Standalone);break;case"cccccc":n=we(1,ve.Short,ft.Standalone);break;case"E":case"EE":case"EEE":n=we(1,ve.Abbreviated);break;case"EEEE":n=we(1,ve.Wide);break;case"EEEEE":n=we(1,ve.Narrow);break;case"EEEEEE":n=we(1,ve.Short);break;case"a":case"aa":case"aaa":n=we(0,ve.Abbreviated);break;case"aaaa":n=we(0,ve.Wide);break;case"aaaaa":n=we(0,ve.Narrow);break;case"b":case"bb":case"bbb":n=we(0,ve.Abbreviated,ft.Standalone,!0);break;case"bbbb":n=we(0,ve.Wide,ft.Standalone,!0);break;case"bbbbb":n=we(0,ve.Narrow,ft.Standalone,!0);break;case"B":case"BB":case"BBB":n=we(0,ve.Abbreviated,ft.Format,!0);break;case"BBBB":n=we(0,ve.Wide,ft.Format,!0);break;case"BBBBB":n=we(0,ve.Narrow,ft.Format,!0);break;case"h":n=je(3,1,-12);break;case"hh":n=je(3,2,-12);break;case"H":n=je(3,1);break;case"HH":n=je(3,2);break;case"m":n=je(4,1);break;case"mm":n=je(4,2);break;case"s":n=je(5,1);break;case"ss":n=je(5,2);break;case"S":n=je(6,1);break;case"SS":n=je(6,2);break;case"SSS":n=je(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Jl(0);break;case"ZZZZZ":n=Jl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Jl(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Jl(2);break;default:return null}return xh[t]=n,n}function q0(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Nx(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function Rx(t,n,e){let r=e?-1:1,i=t.getTimezoneOffset(),o=q0(n,i);return Nx(t,r*(o-i))}function kx(t){if(R0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return nc(i,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(Dx))return Ox(r)}let n=new Date(t);if(!R0(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function Ox(t){let n=new Date(0),e=0,r=0,i=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,l,c),n}function R0(t){return t instanceof Date&&!isNaN(t.valueOf())}var Fx=/^(\d+)?\.((\d+)(-(\d+))?)?$/,k0=22,rc=".",os="0",Px=";",Lx=",",Th="#";function jx(t,n,e,r,i,o,s=!1){let a="",l=!1;if(!isFinite(t))a=Yn(e,Ft.Infinity);else{let c=$x(t);s&&(c=Ux(c));let u=n.minInt,d=n.minFrac,g=n.maxFrac;if(o){let re=o.match(Fx);if(re===null)throw new Error(`${o} is not a valid digit info`);let z=re[1],ce=re[3],Ne=re[5];z!=null&&(u=Ah(z)),ce!=null&&(d=Ah(ce)),Ne!=null?g=Ah(Ne):ce!=null&&d>g&&(g=d)}Hx(c,d,g);let f=c.digits,y=c.integerLen,_=c.exponent,D=[];for(l=f.every(re=>!re);y<u;y++)f.unshift(0);for(;y<0;y++)f.unshift(0);y>0?D=f.splice(y,f.length):(D=f,f=[0]);let A=[];for(f.length>=n.lgSize&&A.unshift(f.splice(-n.lgSize,f.length).join(""));f.length>n.gSize;)A.unshift(f.splice(-n.gSize,f.length).join(""));f.length&&A.unshift(f.join("")),a=A.join(Yn(e,r)),D.length&&(a+=Yn(e,i)+D.join("")),_&&(a+=Yn(e,Ft.Exponential)+"+"+_)}return t<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function Vx(t,n,e){let r=wx(n,$0.Decimal),i=Bx(r,Yn(n,Ft.MinusSign));return jx(t,i,n,Ft.Group,Ft.Decimal,e)}function Bx(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Px),i=r[0],o=r[1],s=i.indexOf(rc)!==-1?i.split(rc):[i.substring(0,i.lastIndexOf(os)+1),i.substring(i.lastIndexOf(os)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(Th));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===os?e.minFrac=e.maxFrac=u+1:d===Th?e.maxFrac=u+1:e.posSuf+=d}let c=a.split(Lx);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-e.posPre.length-e.posSuf.length,d=o.indexOf(Th);e.negPre=o.substring(0,d).replace(/'/g,""),e.negSuf=o.slice(d+u).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function Ux(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function $x(t){let n=Math.abs(t)+"",e=0,r,i,o,s,a;for((i=n.indexOf(rc))>-1&&(n=n.replace(rc,"")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;n.charAt(o)===os;o++);if(o===(a=n.length))r=[0],i=1;else{for(a--;n.charAt(a)===os;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(n.charAt(o))}return i>k0&&(r=r.splice(0,k0-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function Hx(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(n,i),e),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=n+t.integerLen,u=r.reduceRight(function(d,g,f,y){return g=g+d,y[f]=g<10?g:g-10,l&&(y[f]===0&&f>=c?y.pop():l=!1),g>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function Ah(t){let n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function ic(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Nh=/\s+/,O0=[],Qt=(()=>{class t{_ngEl;_renderer;initialClasses=O0;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(Nh):O0}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Nh):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Nh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(I(Dt),I(_n))};static \u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Rh=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ze=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Rh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),F0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);F0(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(I(br),I(Zr),I(Ih))};static \u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function F0(t,n){t.context.$implicit=n.item}var Ve=(()=>{class t{_viewContainer;_context=new kh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){P0("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){P0("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(I(br),I(Zr))};static \u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),kh=class{$implicit=null;ngIf=null};function P0(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${at(n)}'.`)}function z0(t,n){return new N(2100,!1)}var Wx="mediumDate",qx=new x(""),zx=new x(""),G0=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,o){if(e==null||e===""||e!==e)return null;try{let s=r??this.defaultOptions?.dateFormat??Wx,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ex(e,s,o||this.locale,a)}catch(s){throw z0(t,s.message)}}static \u0275fac=function(r){return new(r||t)(I(rs,16),I(qx,24),I(zx,24))};static \u0275pipe=wh({name:"date",type:t,pure:!0})}return t})();var to=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!Gx(e))return null;i||=this._locale;try{let o=Qx(e);return Vx(o,i,r)}catch(o){throw z0(t,o.message)}}static \u0275fac=function(r){return new(r||t)(I(rs,16))};static \u0275pipe=wh({name:"number",type:t,pure:!0})}return t})();function Gx(t){return!(t==null||t===""||t!==t)}function Qx(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ae=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=zt({type:t});static \u0275inj=Ht({})}return t})(),Vh="browser",Zx="server";function Q0(t){return t===Vh}function Bh(t){return t===Zx}var Z0=(()=>{class t{static \u0275prov=M({token:t,providedIn:"root",factory:()=>new Oh(b(Qe),window)})}return t})(),Oh=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=Kx(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Kx(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Xi=class{};var as=class{},sc=class{},ri=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,e);let i=(n.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(n,e){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(n,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var $h=class{encodeKey(n){return K0(n)}encodeValue(n){return K0(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Yx(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var Jx=/%(\d[a-f0-9])/gi,Xx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function K0(t){return encodeURIComponent(t).replace(Jx,(n,e)=>Xx[e]??n)}function oc(t){return`${t}`}var En=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new $h,n.fromString){if(n.fromObject)throw new N(2805,!1);this.map=Yx(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let r=n.fromObject[e],i=Array.isArray(r)?r.map(oc):[oc(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(oc(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(oc(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var Hh=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function eT(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Y0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function J0(t){return typeof Blob<"u"&&t instanceof Blob}function X0(t){return typeof FormData<"u"&&t instanceof FormData}function tT(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ew="Content-Type",iw="X-Request-URL",ow="text/plain",sw="application/json",nT=`${sw}, ${ow}, */*`,ss=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,e,r,i){this.url=e,this.method=n.toUpperCase();let o;if(eT(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ri,this.context??=new Hh,!this.params)this.params=new En,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Y0(this.body)||J0(this.body)||X0(this.body)||tT(this.body)?this.body:this.body instanceof En?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||X0(this.body)?null:J0(this.body)?this.body.type||null:Y0(this.body)?null:typeof this.body=="string"?ow:this.body instanceof En?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?sw:null}clone(n={}){let e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((g,f)=>g.set(f,n.setHeaders[f]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((g,f)=>g.set(f,n.setParams[f]),u)),new t(e,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},no=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(no||{}),ls=class{headers;status;statusText;url;ok;type;constructor(n,e=200,r="OK"){this.headers=n.headers||new ri,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Wh=class t extends ls{constructor(n={}){super(n)}type=no.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ac=class t extends ls{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=no.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},lc=class extends ls{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},rT=200,iT=204;function Uh(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var cs=(()=>{class t{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof ss)o=e;else{let l;i.headers instanceof ri?l=i.headers:l=new ri(i.headers);let c;i.params&&(i.params instanceof En?c=i.params:c=new En({fromObject:i.params})),o=new ss(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=j(o).pipe(Fn(l=>this.handler.handle(l)));if(e instanceof ss||i.observe==="events")return s;let a=s.pipe(We(l=>l instanceof ac));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(V(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(V(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(V(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(V(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new En().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Uh(i,r))}post(e,r,i={}){return this.request("POST",e,Uh(i,r))}put(e,r,i={}){return this.request("PUT",e,Uh(i,r))}static \u0275fac=function(r){return new(r||t)(T(as))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();var oT=new x("");function aw(t,n){return n(t)}function sT(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}function aT(t,n,e){return(r,i)=>_t(e,()=>n(r,o=>t(o,i)))}var lT=new x(""),qh=new x(""),cT=new x(""),lw=new x("",{providedIn:"root",factory:()=>!0});function uT(){let t=null;return(n,e)=>{t===null&&(t=(b(lT,{optional:!0})??[]).reduceRight(sT,aw));let r=b(qn);if(b(lw)){let o=r.add();return t(n,e).pipe(hn(()=>r.remove(o)))}else return t(n,e)}}var tw=(()=>{class t extends as{backend;injector;chain=null;pendingTasks=b(qn);contributeToStability=b(lw);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(qh),...this.injector.get(cT,[])]));this.chain=r.reduceRight((i,o)=>aT(i,o,this.injector),aw)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(hn(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(T(sc),T(lt))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();var dT=/^\)\]\}',?\n/,fT=RegExp(`^${iw}:`,"m");function hT(t){return"responseURL"in t&&t.responseURL?t.responseURL:fT.test(t.getAllResponseHeaders())?t.getResponseHeader(iw):null}var nw=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new N(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?pe(r.\u0275loadImpl()):j(null)).pipe(mt(()=>new k(o=>{let s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((_,D)=>s.setRequestHeader(_,D.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept",nT),!e.headers.has(ew)){let _=e.detectContentTypeHeader();_!==null&&s.setRequestHeader(ew,_)}if(e.responseType){let _=e.responseType.toLowerCase();s.responseType=_!=="json"?_:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let _=s.statusText||"OK",D=new ri(s.getAllResponseHeaders()),A=hT(s)||e.url;return l=new Wh({headers:D,status:s.status,statusText:_,url:A}),l},u=()=>{let{headers:_,status:D,statusText:A,url:re}=c(),z=null;D!==iT&&(z=typeof s.response>"u"?s.responseText:s.response),D===0&&(D=z?rT:0);let ce=D>=200&&D<300;if(e.responseType==="json"&&typeof z=="string"){let Ne=z;z=z.replace(dT,"");try{z=z!==""?JSON.parse(z):null}catch(Me){z=Ne,ce&&(ce=!1,z={error:Me,text:z})}}ce?(o.next(new ac({body:z,headers:_,status:D,statusText:A,url:re||void 0})),o.complete()):o.error(new lc({error:z,headers:_,status:D,statusText:A,url:re||void 0}))},d=_=>{let{url:D}=c(),A=new lc({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(A)},g=!1,f=_=>{g||(o.next(c()),g=!0);let D={type:no.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(D.total=_.total),e.responseType==="text"&&s.responseText&&(D.partialText=s.responseText),o.next(D)},y=_=>{let D={type:no.UploadProgress,loaded:_.loaded};_.lengthComputable&&(D.total=_.total),o.next(D)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),e.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:no.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),e.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(T(Xi))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),cw=new x(""),pT="XSRF-TOKEN",gT=new x("",{providedIn:"root",factory:()=>pT}),mT="X-XSRF-TOKEN",vT=new x("",{providedIn:"root",factory:()=>mT}),cc=class{},yT=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ic(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||t)(T(Qe),T(wn),T(gT))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function wT(t,n){let e=t.url.toLowerCase();if(!b(cw)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let r=b(cc).getToken(),i=b(vT);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var uw=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(uw||{});function _T(t,n){return{\u0275kind:t,\u0275providers:n}}function zh(...t){let n=[cs,nw,tw,{provide:as,useExisting:tw},{provide:sc,useFactory:()=>b(oT,{optional:!0})??b(nw)},{provide:qh,useValue:wT,multi:!0},{provide:cw,useValue:!0},{provide:cc,useClass:yT}];for(let e of t)n.push(...e.\u0275providers);return wr(n)}var rw=new x("");function bT(){return _T(uw.LegacyInterceptors,[{provide:rw,useFactory:uT},{provide:qh,useExisting:rw,multi:!0}])}var uc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=zt({type:t});static \u0275inj=Ht({providers:[zh(bT())]})}return t})();var Qh=class extends tc{supportsDOMEvents=!0},Zh=class t extends Qh{static makeCurrent(){j0(new t)}onAndCancel(n,e,r,i){return n.addEventListener(e,r,i),()=>{n.removeEventListener(e,r,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=DT();return e==null?null:CT(e)}resetBaseElement(){us=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ic(document.cookie,n)}},us=null;function DT(){return us=us||document.querySelector("base"),us?us.getAttribute("href"):null}function CT(t){return new URL(t,document.baseURI).pathname}var ET=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Kh=new x(""),vw=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(T(Kh),T(xe))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),fc=class{_doc;constructor(n){this._doc=n}manager},dc="ng-app-id";function fw(t){for(let n of t)n.remove()}function hw(t,n){let e=n.createElement("style");return e.textContent=t,e}function IT(t,n,e,r){let i=t.head?.querySelectorAll(`style[${dc}="${n}"],link[${dc}="${n}"]`);if(i)for(let o of i)o.removeAttribute(dc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Yh(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var yw=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Bh(o),IT(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,hw);r?.forEach(i=>this.addUsage(i,this.external,Yh))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(fw(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])fw(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,hw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Yh(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(dc,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(T(Qe),T(Kf),T(Jf,8),T(wn))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),Gh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xh=/%COMP%/g,ww="%COMP%",ST=`_nghost-${ww}`,MT=`_ngcontent-${ww}`,xT=!0,TT=new x("",{providedIn:"root",factory:()=>xT});function AT(t){return MT.replace(Xh,t)}function NT(t){return ST.replace(Xh,t)}function _w(t,n){return n.map(e=>e.replace(Xh,t))}var pw=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,s,a,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Bh(a),this.defaultRenderer=new ds(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mn.ShadowDom&&(r=J(E({},r),{encapsulation:mn.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof hc?i.applyToHost(e):i instanceof fs&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case mn.Emulated:o=new hc(l,c,r,this.appId,u,s,a,d,this.tracingService);break;case mn.ShadowDom:return new Jh(l,c,e,r,s,a,this.nonce,d,this.tracingService);default:o=new fs(l,c,r,u,s,a,d,this.tracingService);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(T(vw),T(yw),T(Kf),T(TT),T(Qe),T(wn),T(xe),T(Jf),T(Zi,8))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),ds=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Gh[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(gw(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(gw(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new N(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=Gh[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=Gh[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Bn.DashCase|Bn.Important)?n.style.setProperty(e,r,i&Bn.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Bn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,i){if(typeof n=="string"&&(n=Jn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,i)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function gw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Jh=class extends ds{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=_w(i.id,i.styles);for(let g of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=g,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let g of d){let f=Yh(g,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fs=class extends ds{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,s,a,l,c){super(n,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=c?_w(c,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},hc=class extends fs{contentAttr;hostAttr;constructor(n,e,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(n,e,r,o,s,a,l,c,u),this.contentAttr=AT(u),this.hostAttr=NT(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}},RT=(()=>{class t extends fc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(T(Qe))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),mw=["alt","control","meta","shift"],kT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OT={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},FT=(()=>{class t extends fc{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mw.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=kT[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mw.forEach(s=>{if(s!==i){let a=OT[s];a(e)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(T(Qe))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function pc(t,n){return x0(E({rootComponent:t},PT(n)))}function PT(t){return{appProviders:[...UT,...t?.providers??[]],platformProviders:BT}}function LT(){Zh.makeCurrent()}function jT(){return new Vn}function VT(){return cy(document),document}var BT=[{provide:wn,useValue:Vh},{provide:Yf,useValue:LT,multi:!0},{provide:Qe,useFactory:VT,deps:[]}];var UT=[{provide:El,useValue:"root"},{provide:Vn,useFactory:jT,deps:[]},{provide:Kh,useClass:RT,multi:!0,deps:[Qe,xe,wn]},{provide:Kh,useClass:FT,multi:!0,deps:[Qe]},pw,yw,vw,{provide:Hi,useExisting:pw},{provide:Xi,useClass:ET,deps:[]},[]];var bw=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(T(Qe))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var K="primary",Ss=Symbol("RouteTitle"),ip=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function lo(t){return new ip(t)}function HT(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function WT(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!In(t[e],n[e]))return!1;return!0}function In(t,n){let e=t?op(t):void 0,r=n?op(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Rw(t[i],n[i]))return!1;return!0}function op(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Rw(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function kw(t){return t.length>0?t[t.length-1]:null}function xr(t){return ad(t)?t:Xr(t)?pe(Promise.resolve(t)):j(t)}var qT={exact:Fw,subset:Pw},Ow={exact:zT,subset:GT,ignored:()=>!0};function Dw(t,n,e){return qT[e.paths](t.root,n.root,e.matrixParams)&&Ow[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function zT(t,n){return In(t,n)}function Fw(t,n,e){if(!oi(t.segments,n.segments)||!vc(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!Fw(t.children[r],n.children[r],e))return!1;return!0}function GT(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Rw(t[e],n[e]))}function Pw(t,n,e){return Lw(t,n,n.segments,e)}function Lw(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!oi(i,e)||n.hasChildren()||!vc(i,e,r))}else if(t.segments.length===e.length){if(!oi(t.segments,e)||!vc(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!Pw(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!oi(t.segments,i)||!vc(t.segments,i,r)||!t.children[K]?!1:Lw(t.children[K],n,o,r)}}function vc(t,n,e){return n.every((r,i)=>Ow[e](t[i].parameters,r.parameters))}var tr=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ue([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){return KT.serialize(this)}},ue=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yc(this)}},ii=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=lo(this.parameters),this._parameterMap}toString(){return Vw(this)}};function QT(t,n){return oi(t,n)&&t.every((e,r)=>In(e.parameters,n[r].parameters))}function oi(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function ZT(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(e=e.concat(n(i,r)))}),e}var Ms=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>new co,providedIn:"root"})}return t})(),co=class{parse(n){let e=new ap(n);return new tr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${hs(n.root,!0)}`,r=XT(n.queryParams),i=typeof n.fragment=="string"?`#${YT(n.fragment)}`:"";return`${e}${r}${i}`}},KT=new co;function yc(t){return t.segments.map(n=>Vw(n)).join("/")}function hs(t,n){if(!t.hasChildren())return yc(t);if(n){let e=t.children[K]?hs(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==K&&r.push(`${i}:${hs(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=ZT(t,(r,i)=>i===K?[hs(t.children[K],!1)]:[`${i}:${hs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${yc(t)}/${e[0]}`:`${yc(t)}/(${e.join("//")})`}}function jw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gc(t){return jw(t).replace(/%3B/gi,";")}function YT(t){return encodeURI(t)}function sp(t){return jw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wc(t){return decodeURIComponent(t)}function Cw(t){return wc(t.replace(/\+/g,"%20"))}function Vw(t){return`${sp(t.path)}${JT(t.parameters)}`}function JT(t){return Object.entries(t).map(([n,e])=>`;${sp(n)}=${sp(e)}`).join("")}function XT(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${gc(e)}=${gc(i)}`).join("&"):`${gc(e)}=${gc(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var eA=/^[^\/()?;#]+/;function ep(t){let n=t.match(eA);return n?n[0]:""}var tA=/^[^\/()?;=#]+/;function nA(t){let n=t.match(tA);return n?n[0]:""}var rA=/^[^=?&#]+/;function iA(t){let n=t.match(rA);return n?n[0]:""}var oA=/^[^&#]+/;function sA(t){let n=t.match(oA);return n?n[0]:""}var ap=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[K]=new ue(n,e)),r}parseSegment(){let n=ep(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(n),new ii(wc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=nA(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=ep(this.remaining);i&&(r=i,this.capture(r))}n[wc(e)]=wc(r)}parseQueryParam(n){let e=iA(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let s=sA(this.remaining);s&&(r=s,this.capture(r))}let i=Cw(e),o=Cw(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ep(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new N(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=K);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[K]:new ue([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new N(4011,!1)}};function Bw(t){return t.segments.length>0?new ue([],{[K]:t}):t}function Uw(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=Uw(i);if(r===K&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new ue(t.segments,n);return aA(e)}function aA(t){if(t.numberOfChildren===1&&t.children[K]){let n=t.children[K];return new ue(t.segments.concat(n.segments),n.children)}return t}function si(t){return t instanceof tr}function lA(t,n,e=null,r=null){let i=$w(t);return Hw(i,n,e,r)}function $w(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new ue(o.url,s);return o===t&&(n=a),a}let r=e(t.root),i=Bw(r);return n??i}function Hw(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return tp(i,i,i,e,r);let o=cA(n);if(o.toRoot())return tp(i,i,new ue([],{}),e,r);let s=uA(o,i,t),a=s.processChildren?gs(s.segmentGroup,s.index,o.commands):qw(s.segmentGroup,s.index,o.commands);return tp(i,s.segmentGroup,a,e,r)}function _c(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ys(t){return typeof t=="object"&&t!=null&&t.outlets}function tp(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===n?s=e:s=Ww(t,n,e);let a=Bw(Uw(s));return new tr(a,o,i)}function Ww(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=Ww(o,n,e)}),new ue(t.segments,r)}var bc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&_c(r[0]))throw new N(4003,!1);let i=r.find(ys);if(i&&i!==kw(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cA(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new bc(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new bc(e,n,r)}var oo=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function uA(t,n,e){if(t.isAbsolute)return new oo(n,!0,0);if(!e)return new oo(n,!1,NaN);if(e.parent===null)return new oo(e,!0,0);let r=_c(t.commands[0])?0:1,i=e.segments.length-1+r;return dA(e,i,t.numberOfDoubleDots)}function dA(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new oo(r,!1,i-o)}function fA(t){return ys(t[0])?t[0].outlets:{[K]:t}}function qw(t,n,e){if(t??=new ue([],{}),t.segments.length===0&&t.hasChildren())return gs(t,n,e);let r=hA(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ue(t.segments.slice(0,r.pathIndex),{});return o.children[K]=new ue(t.segments.slice(r.pathIndex),t.children),gs(o,0,i)}else return r.match&&i.length===0?new ue(t.segments,{}):r.match&&!t.hasChildren()?lp(t,n,e):r.match?gs(t,0,i):lp(t,n,e)}function gs(t,n,e){if(e.length===0)return new ue(t.segments,{});{let r=fA(e),i={};if(Object.keys(r).some(o=>o!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let o=gs(t.children[K],n,e);return new ue(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qw(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ue(t.segments,i)}}function hA(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let s=t.segments[i],a=e[r];if(ys(a))break;let l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Iw(l,c,s))return o;r+=2}else{if(!Iw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lp(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(ys(o)){let l=pA(o.outlets);return new ue(r,l)}if(i===0&&_c(e[0])){let l=t.segments[n];r.push(new ii(l.path,Ew(e[0]))),i++;continue}let s=ys(o)?o.outlets[K]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&_c(a)?(r.push(new ii(s,Ew(a))),i+=2):(r.push(new ii(s,{})),i++)}return new ue(r,{})}function pA(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=lp(new ue([],{}),0,r))}),n}function Ew(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function Iw(t,n,e){return t==e.path&&In(n,e.parameters)}var ms="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),Zt=class{id;url;constructor(n,e){this.id=n,this.url=e}},uo=class extends Zt{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ct=class extends Zt{urlAfterRedirects;type=Ke.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Lt||{}),Dc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Dc||{}),er=class extends Zt{reason;code;type=Ke.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mr=class extends Zt{reason;code;type=Ke.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},ws=class extends Zt{error;target;type=Ke.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cc=class extends Zt{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class extends Zt{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},up=class extends Zt{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dp=class extends Zt{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class extends Zt{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hp=class{route;type=Ke.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pp=class{route;type=Ke.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gp=class{snapshot;type=Ke.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{snapshot;type=Ke.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{snapshot;type=Ke.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yp=class{snapshot;type=Ke.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ec=class{routerEvent;position;anchor;type=Ke.Scroll;constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},_s=class{},fo=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function gA(t,n){return t.providers&&!t._injector&&(t._injector=$l(t.providers,n,`Route: ${t.path}`)),t._injector??n}function cn(t){return t.outlet||K}function mA(t,n){let e=t.filter(r=>cn(r)===n);return e.push(...t.filter(r=>cn(r)!==n)),e}function xs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var wp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return xs(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Ts(this.rootInjector)}},Ts=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new wp(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(T(lt))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ic=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=_p(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=_p(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=bp(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return bp(n,this._root).map(e=>e.value)}};function _p(t,n){if(t===n.value)return n;for(let e of n.children){let r=_p(t,e);if(r)return r}return null}function bp(t,n){if(t===n.value)return[n];for(let e of n.children){let r=bp(t,e);if(r.length)return r.unshift(n),r}return[]}var Pt=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function io(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Sc=class extends Ic{snapshot;constructor(n,e){super(n),this.snapshot=e,Ap(this,n)}toString(){return this.snapshot.toString()}};function zw(t){let n=vA(t),e=new Je([new ii("",{})]),r=new Je({}),i=new Je({}),o=new Je({}),s=new Je(""),a=new Kt(e,r,o,s,i,K,t,n.root);return a.snapshot=n.root,new Sc(new Pt(a,[]),n)}function vA(t){let n={},e={},r={},i="",o=new so([],n,r,i,e,K,t,null,{});return new xc("",new Pt(o,[]))}var Kt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(V(c=>c[Ss]))??j(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(n=>lo(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(n=>lo(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Mc(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:E(E({},n.params),t.params),data:E(E({},n.data),t.data),resolve:E(E(E(E({},t.data),n.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&Qw(i)&&(r.resolve[Ss]=i.title),r}var so=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ss]}constructor(n,e,r,i,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},xc=class extends Ic{url;constructor(n,e){super(e),this.url=n,Ap(this,e)}toString(){return Gw(this._root)}};function Ap(t,n){n.value._routerState=t,n.children.forEach(e=>Ap(t,e))}function Gw(t){let n=t.children.length>0?` { ${t.children.map(Gw).join(", ")} } `:"";return`${t.value}${n}`}function np(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,In(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),In(n.params,e.params)||t.paramsSubject.next(e.params),WT(n.url,e.url)||t.urlSubject.next(e.url),In(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Dp(t,n){let e=In(t.params,n.params)&&QT(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||Dp(t.parent,n.parent))}function Qw(t){return typeof t.title=="string"||t.title===null}var yA=new x(""),As=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new de;deactivateEvents=new de;attachEvents=new de;detachEvents=new de;routerOutletData=ty(void 0);parentContexts=b(Ts);location=b(br);changeDetector=b(ni);inputBinder=b(Rc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Cp(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ye({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wn]})}return t})(),Cp=class t{route;childContexts;parent;outletData;__ngOutletInjector(n){return new t(this.route,this.childContexts,n,this.outletData)}constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===Kt?this.route:n===Ts?this.childContexts:n===yA?this.outletData:this.parent.get(n,e)}},Rc=new x(""),Sw=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=Lr([r.queryParams,r.params,r.data]).pipe(mt(([o,s,a],l)=>(a=E(E(E({},o),s),a),l===0?j(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let s=T0(r.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function wA(t,n,e){let r=bs(t,n._root,e?e._root:void 0);return new Sc(r,n)}function bs(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=_A(t,n,e);return new Pt(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>bs(t,a)),s}}let r=bA(n.value),i=n.children.map(o=>bs(t,o));return new Pt(r,i)}}function _A(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bs(t,r,i);return bs(t,r)})}function bA(t){return new Kt(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var Ds=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},Zw="ngNavigationCancelingError";function Tc(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=si(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Kw(!1,Lt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Kw(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[Zw]=!0,e.cancellationCode=n,e}function DA(t){return Yw(t)&&si(t.url)}function Yw(t){return!!t&&t[Zw]}var CA=(t,n,e,r)=>V(i=>(new Ep(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),Ep=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),np(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=io(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=io(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=io(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=io(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new yp(o.value.snapshot))}),n.children.length&&this.forwardEvent(new mp(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(np(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),np(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Ac=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ao=class{component;route;constructor(n,e){this.component=n,this.route=e}};function EA(t,n,e){let r=t._root,i=n?n._root:null;return ps(r,i,e,[r.value])}function IA(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function po(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!Zm(t)?t:n.get(t):r}function ps(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=io(n);return t.children.forEach(s=>{SA(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vs(a,e.getContext(s),i)),i}function SA(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=MA(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ac(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ps(t,n,a?a.children:null,r,i):ps(t,n,e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ao(a.outlet.component,s))}else s&&vs(n,a,i),i.canActivateChecks.push(new Ac(r)),o.component?ps(t,null,a?a.children:null,r,i):ps(t,null,e,r,i);return i}function MA(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!oi(t.url,n.url);case"pathParamsOrQueryParamsChange":return!oi(t.url,n.url)||!In(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dp(t,n)||!In(t.queryParams,n.queryParams);case"paramsChange":default:return!Dp(t,n)}}function vs(t,n,e){let r=io(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?n?vs(s,n.children.getContext(o),e):vs(s,null,e):vs(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new ao(n.outlet.component,i)):e.canDeactivateChecks.push(new ao(null,i)):e.canDeactivateChecks.push(new ao(null,i))}function Ns(t){return typeof t=="function"}function xA(t){return typeof t=="boolean"}function TA(t){return t&&Ns(t.canLoad)}function AA(t){return t&&Ns(t.canActivate)}function NA(t){return t&&Ns(t.canActivateChild)}function RA(t){return t&&Ns(t.canDeactivate)}function kA(t){return t&&Ns(t.canMatch)}function Jw(t){return t instanceof tn||t?.name==="EmptyError"}var mc=Symbol("INITIAL_VALUE");function ho(){return mt(t=>Lr(t.map(n=>n.pipe(Bt(1),dd(mc)))).pipe(V(n=>{for(let e of n)if(e!==!0){if(e===mc)return mc;if(e===!1||OA(e))return e}return!0}),We(n=>n!==mc),Bt(1)))}function OA(t){return si(t)||t instanceof Ds}function FA(t,n){return Le(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?j(J(E({},e),{guardsResult:!0})):PA(s,r,i,t).pipe(Le(a=>a&&xA(a)?LA(r,o,t,n):j(a)),V(a=>J(E({},e),{guardsResult:a})))})}function PA(t,n,e,r){return pe(t).pipe(Le(i=>$A(i.component,i.route,e,n,r)),Pn(i=>i!==!0,!0))}function LA(t,n,e,r){return pe(n).pipe(Fn(i=>Mi(VA(i.route.parent,r),jA(i.route,r),UA(t,i.path,e),BA(t,i.route,e))),Pn(i=>i!==!0,!0))}function jA(t,n){return t!==null&&n&&n(new vp(t)),j(!0)}function VA(t,n){return t!==null&&n&&n(new gp(t)),j(!0)}function BA(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return j(!0);let i=r.map(o=>Va(()=>{let s=xs(n)??e,a=po(o,s),l=AA(a)?a.canActivate(n,t):_t(s,()=>a(n,t));return xr(l).pipe(Pn())}));return j(i).pipe(ho())}function UA(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>IA(s)).filter(s=>s!==null).map(s=>Va(()=>{let a=s.guards.map(l=>{let c=xs(s.node)??e,u=po(l,c),d=NA(u)?u.canActivateChild(r,t):_t(c,()=>u(r,t));return xr(d).pipe(Pn())});return j(a).pipe(ho())}));return j(o).pipe(ho())}function $A(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return j(!0);let s=o.map(a=>{let l=xs(n)??i,c=po(a,l),u=RA(c)?c.canDeactivate(t,n,e,r):_t(l,()=>c(t,n,e,r));return xr(u).pipe(Pn())});return j(s).pipe(ho())}function HA(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return j(!0);let o=i.map(s=>{let a=po(s,t),l=TA(a)?a.canLoad(n,e):_t(t,()=>a(n,e));return xr(l)});return j(o).pipe(ho(),Xw(r))}function Xw(t){return rd(Ge(n=>{if(typeof n!="boolean")throw Tc(t,n)}),V(n=>n===!0))}function WA(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return j(!0);let o=i.map(s=>{let a=po(s,t),l=kA(a)?a.canMatch(n,e):_t(t,()=>a(n,e));return xr(l)});return j(o).pipe(ho(),Xw(r))}var Cs=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Es=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function ro(t){return Ii(new Cs(t))}function qA(t){return Ii(new N(4e3,!1))}function zA(t){return Ii(Kw(!1,Lt.GuardRejected))}var Ip=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return j(r);if(i.numberOfChildren>1||!i.children[K])return qA(`${n.redirectTo}`);i=i.children[K]}}applyRedirectCommands(n,e,r,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:g,params:f,data:y,title:_}=i,D=_t(o,()=>a({params:f,data:y,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:g,title:_}));if(D instanceof tr)throw new Es(D);e=D}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new Es(s);return s}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new tr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new ue(o,s)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new N(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},Sp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GA(t,n,e,r,i){let o=e_(t,n,e);return o.matched?(r=gA(n,r),WA(r,n,e,i).pipe(V(s=>s===!0?o:E({},Sp)))):j(o)}function e_(t,n,e){if(n.path==="**")return QA(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?E({},Sp):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||HT)(e,t,n);if(!i)return E({},Sp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function QA(t){return{matched:!0,parameters:t.length>0?kw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Mw(t,n,e,r){return e.length>0&&YA(t,e,r)?{segmentGroup:new ue(n,KA(r,new ue(e,t.children))),slicedSegments:[]}:e.length===0&&JA(t,e,r)?{segmentGroup:new ue(t.segments,ZA(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ue(t.segments,t.children),slicedSegments:e}}function ZA(t,n,e,r){let i={};for(let o of e)if(kc(t,n,o)&&!r[cn(o)]){let s=new ue([],{});i[cn(o)]=s}return E(E({},r),i)}function KA(t,n){let e={};e[K]=n;for(let r of t)if(r.path===""&&cn(r)!==K){let i=new ue([],{});e[cn(r)]=i}return e}function YA(t,n,e){return e.some(r=>kc(t,n,r)&&cn(r)!==K)}function JA(t,n,e){return e.some(r=>kc(t,n,r))}function kc(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function XA(t,n,e){return n.length===0&&!t.children[e]}var Mp=class{};function eN(t,n,e,r,i,o,s="emptyOnly"){return new xp(t,n,e,r,i,s,o).recognize()}var tN=31,xp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ip(this.urlSerializer,this.urlTree)}noMatchError(n){return new N(4002,`'${n.segmentGroup}'`)}recognize(){let n=Mw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(V(({children:e,rootSnapshot:r})=>{let i=new Pt(r,e),o=new xc("",i),s=lA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new so([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,K,e).pipe(V(r=>({children:r,rootSnapshot:e})),cr(r=>{if(r instanceof Es)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cs?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(V(s=>s instanceof Pt?[s]:[]))}processChildren(n,e,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return pe(o).pipe(Fn(s=>{let a=r.children[s],l=mA(e,s);return this.processSegmentGroup(n,l,a,s,i)}),ud((s,a)=>(s.push(...a),s)),ur(null),cd(),Le(s=>{if(s===null)return ro(r);let a=t_(s);return nN(a),j(a)}))}processSegment(n,e,r,i,o,s,a){return pe(e).pipe(Fn(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,s,a).pipe(cr(c=>{if(c instanceof Cs)return j(null);throw c}))),Pn(l=>!!l),cr(l=>{if(Jw(l))return XA(r,i,o)?j(new Mp):ro(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,s,a,l){return cn(r)!==s&&(s===K||!kc(i,o,r))?ro(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,s,l):ro(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:g}=e_(e,i,o);if(!l)return ro(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tN&&(this.allowRedirects=!1));let f=new so(o,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,xw(i),cn(i),i.component??i._loadedComponent??null,i,Tw(i)),y=Mc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(y.params),f.data=Object.freeze(y.data);let _=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(i,_).pipe(Le(D=>this.processSegment(n,r,e,D.concat(g),s,!1,a)))}matchSegmentAgainstRoute(n,e,r,i,o,s){let a=GA(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),a.pipe(mt(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(mt(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:g,remainingSegments:f}=l,y=new so(g,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,xw(r),cn(r),r.component??r._loadedComponent??null,r,Tw(r)),_=Mc(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:D,slicedSegments:A}=Mw(e,g,f,c);if(A.length===0&&D.hasChildren())return this.processChildren(u,c,D,y).pipe(V(z=>new Pt(y,z)));if(c.length===0&&A.length===0)return j(new Pt(y,[]));let re=cn(r)===o;return this.processSegment(u,c,D,A,re?K:o,!0,y).pipe(V(z=>new Pt(y,z instanceof Pt?[z]:[])))}))):ro(e)))}getChildConfig(n,e,r){return e.children?j({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?j({routes:e._loadedRoutes,injector:e._loadedInjector}):HA(n,e,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(n,e).pipe(Ge(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):zA(e))):j({routes:[],injector:n})}};function nN(t){t.sort((n,e)=>n.value.outlet===K?-1:e.value.outlet===K?1:n.value.outlet.localeCompare(e.value.outlet))}function rN(t){let n=t.value.routeConfig;return n&&n.path===""}function t_(t){let n=[],e=new Set;for(let r of t){if(!rN(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=t_(r.children);n.push(new Pt(r.value,i))}return n.filter(r=>!e.has(r))}function xw(t){return t.data||{}}function Tw(t){return t.resolve||{}}function iN(t,n,e,r,i,o){return Le(s=>eN(t,n,e,r,s.extractedUrl,i,o).pipe(V(({state:a,tree:l})=>J(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function oN(t,n){return Le(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return j(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of n_(l))s.add(c);let a=0;return pe(s).pipe(Fn(l=>o.has(l)?sN(l,r,t,n):(l.data=Mc(l,l.parent,t).resolve,j(void 0))),Ge(()=>a++),xi(1),Le(l=>a===s.size?j(e):xt))})}function n_(t){let n=t.children.map(e=>n_(e)).flat();return[t,...n]}function sN(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Qw(i)&&(o[Ss]=i.title),aN(o,t,n,r).pipe(V(s=>(t._resolvedData=s,t.data=Mc(t,t.parent,e).resolve,null)))}function aN(t,n,e,r){let i=op(t);if(i.length===0)return j({});let o={};return pe(i).pipe(Le(s=>lN(t[s],n,e,r).pipe(Pn(),Ge(a=>{if(a instanceof Ds)throw Tc(new co,a);o[s]=a}))),xi(1),V(()=>o),cr(s=>Jw(s)?xt:Ii(s)))}function lN(t,n,e,r){let i=xs(n)??r,o=po(t,i),s=o.resolve?o.resolve(n,e):_t(i,()=>o(n,e));return xr(s)}function rp(t){return mt(n=>{let e=t(n);return e?pe(e).pipe(V(()=>n)):j(n)})}var r_=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===K);return r}getResolvedTitleForRoute(e){return e.data[Ss]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>b(cN),providedIn:"root"})}return t})(),cN=(()=>{class t extends r_{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(T(bw))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rs=new x("",{providedIn:"root",factory:()=>({})}),uN=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ee({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&R(0,"router-outlet")},dependencies:[As],encapsulation:2})}return t})();function Np(t){let n=t.children&&t.children.map(Np),e=n?J(E({},t),{children:n}):E({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==K&&(e.component=uN),e}var Is=new x(""),Rp=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(zl);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return j(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=xr(e.loadComponent()).pipe(V(i_),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),hn(()=>{this.componentLoaders.delete(e)})),i=new Ei(r,()=>new Fe).pipe(Ci());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=dN(r,this.compiler,e,this.onLoadEndListener).pipe(hn(()=>{this.childrenLoaders.delete(r)})),s=new Ei(o,()=>new Fe).pipe(Ci());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dN(t,n,e,r){return xr(t.loadChildren()).pipe(V(i_),Le(i=>i instanceof Qo||Array.isArray(i)?j(i):pe(n.compileModuleAsync(i))),V(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(Is,[],{optional:!0,self:!0}).flat()),{routes:s.map(Np),injector:o}}))}function fN(t){return t&&typeof t=="object"&&"default"in t}function i_(t){return fN(t)?t.default:t}var kp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>b(hN),providedIn:"root"})}return t})(),hN=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),o_=new x(""),s_=new x("");function pN(t,n,e){let r=t.get(s_),i=t.get(Qe);return t.get(xe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),gN(t))),{onViewTransitionCreated:l}=r;return l&&_t(t,()=>l({transition:a,from:n,to:e})),s})}function gN(t){return new Promise(n=>{eh({read:()=>setTimeout(n)},{injector:t})})}var a_=new x(""),Op=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Fe;transitionAbortSubject=new Fe;configLoader=b(Rp);environmentInjector=b(lt);urlSerializer=b(Ms);rootContexts=b(Ts);location=b(eo);inputBindingEnabled=b(Rc,{optional:!0})!==null;titleStrategy=b(r_);options=b(Rs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(kp);createViewTransition=b(o_,{optional:!0});navigationErrorHandler=b(a_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>j(void 0);rootComponentType=null;constructor(){let e=i=>this.events.next(new hp(i)),r=i=>this.events.next(new pp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(J(E(E({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new Je({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ms,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(We(o=>o.id!==0),V(o=>J(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),mt(o=>{let s=!1,a=!1;return j(o).pipe(mt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Lt.SupersededByNewNavigation),xt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?J(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Mr(l.id,this.urlSerializer.serialize(l.rawUrl),d,Dc.IgnoredSameUrlNavigation)),l.resolve(!1),xt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return j(l).pipe(mt(d=>{let g=this.transitions?.getValue();return this.events.next(new uo(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),g!==this.transitions?.getValue()?xt:Promise.resolve(d)}),iN(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=J(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let g=new Cc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:g,source:f,restoredState:y,extras:_}=l,D=new uo(d,this.urlSerializer.serialize(g),f,y);this.events.next(D);let A=zw(this.rootComponentType).snapshot;return this.currentTransition=o=J(E({},l),{targetSnapshot:A,urlAfterRedirects:g,extras:J(E({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,j(o)}else{let d="";return this.events.next(new Mr(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Dc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),xt}}),Ge(l=>{let c=new cp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),V(l=>(this.currentTransition=o=J(E({},l),{guards:EA(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),FA(this.environmentInjector,l=>this.events.next(l)),Ge(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Tc(this.urlSerializer,l.guardsResult);let c=new up(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),We(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Lt.GuardRejected),!1)),rp(l=>{if(l.guards.canActivateChecks.length)return j(l).pipe(Ge(c=>{let u=new dp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),mt(c=>{let u=!1;return j(c).pipe(oN(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Lt.NoDataFromResolver)}}))}),Ge(c=>{let u=new fp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),rp(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ge(g=>{u.component=g}),V(()=>{})));for(let g of u.children)d.push(...c(g));return d};return Lr(c(l.targetSnapshot.root)).pipe(ur(null),Bt(1))}),rp(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?pe(u).pipe(V(()=>o)):j(o)}),V(l=>{let c=wA(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=J(E({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Ge(()=>{this.events.next(new _s)}),CA(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Bt(1),Ge({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ct(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),fd(this.transitionAbortSubject.pipe(Ge(l=>{throw l}))),hn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Lt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(l=>{if(a=!0,Yw(l))this.events.next(new er(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),DA(l)?this.events.next(new fo(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new ws(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=_t(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Ds){let{message:d,cancellationCode:g}=Tc(this.urlSerializer,u);this.events.next(new er(o.id,this.urlSerializer.serialize(o.extractedUrl),d,g)),this.events.next(new fo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return xt}))}))}cancelNavigationTransition(e,r,i){let o=new er(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mN(t){return t!==ms}var vN=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>b(yN),providedIn:"root"})}return t})(),Tp=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},yN=(()=>{class t extends Tp{static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:()=>b(wN),providedIn:"root"})}return t})(),wN=(()=>{class t extends l_{location=b(eo);urlSerializer=b(Ms);options=b(Rs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=b(kp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new tr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=zw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof uo)this.stateMemento=this.createStateMemento();else if(e instanceof Mr)this.rawUrlTree=r.initialUrl;else if(e instanceof Cc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof _s?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof er&&(e.code===Lt.GuardRejected||e.code===Lt.NoDataFromResolver)?this.restoreHistory(r):e instanceof ws?this.restoreHistory(r,!0):e instanceof Ct&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof tr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function c_(t,n){t.events.pipe(We(e=>e instanceof Ct||e instanceof er||e instanceof ws||e instanceof Mr),V(e=>e instanceof Ct||e instanceof Mr?0:(e instanceof er?e.code===Lt.Redirect||e.code===Lt.SupersededByNewNavigation:!1)?2:1),We(e=>e!==2),Bt(1)).subscribe(()=>{n()})}var _N={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},be=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(Dh);stateManager=b(l_);options=b(Rs,{optional:!0})||{};pendingTasks=b(qn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(Op);urlSerializer=b(Ms);location=b(eo);urlHandlingStrategy=b(kp);_events=new Fe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(vN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Is,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Rc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Oe;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof er&&r.code!==Lt.Redirect&&r.code!==Lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ct)this.navigated=!0;else if(r instanceof fo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mN(i.source)},s);this.scheduleNavigation(a,ms,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}CN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ms,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Np),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let g=i?i.snapshot:this.routerState.snapshot.root;d=$w(g)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return Hw(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=si(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ms,null,r)}navigate(e,r={skipLocationChange:!1}){return DN(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=E({},_N):r===!1?i=E({},bN):i=r,si(e))return Dw(this.currentUrlTree,e,i);let o=this.parseUrl(e);return Dw(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,g)=>{a=d,l=g});let u=this.pendingTasks.add();return c_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DN(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new N(4008,!1)}function CN(t){return!(t instanceof _s)&&!(t instanceof fo)}var u_=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Fe;constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Ct&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(si(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:py(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:si(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(I(be),I(Kt),zf("tabindex"),I(_n),I(Dt),I(Xn))};static \u0275dir=ye({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&S("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&bn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Sr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Sr],replaceUrl:[2,"replaceUrl","replaceUrl",Sr],routerLink:"routerLink"},features:[_h,Wn]})}return t})();var Nc=class{};var EN=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(We(e=>e instanceof Ct),Fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=$l(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return pe(i).pipe(Si())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=j(null);let o=i.pipe(Le(s=>s===null?j(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return pe([o,s]).pipe(Si())}else return o})}static \u0275fac=function(r){return new(r||t)(T(be),T(zl),T(lt),T(Nc),T(Rp))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),d_=new x(""),IN=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof uo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ct?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Mr&&e.code===Dc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ec&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ec(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Ry()};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function Oc(t,...n){return wr([{provide:Is,multi:!0,useValue:t},[],{provide:Kt,useFactory:f_,deps:[be]},{provide:ts,multi:!0,useFactory:h_},n.map(e=>e.\u0275providers)])}function f_(t){return t.routerState.root}function ks(t,n){return{\u0275kind:t,\u0275providers:n}}function h_(){let t=b(Nt);return n=>{let e=t.get(Un);if(n!==e.components[0])return;let r=t.get(be),i=t.get(p_);t.get(Fp)===1&&r.initialNavigation(),t.get(g_,null,X.Optional)?.setUpPreloading(),t.get(d_,null,X.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var p_=new x("",{factory:()=>new Fe}),Fp=new x("",{providedIn:"root",factory:()=>1});function SN(){return ks(2,[{provide:Fp,useValue:0},{provide:Hl,multi:!0,deps:[Nt],useFactory:n=>{let e=n.get(V0,Promise.resolve());return()=>e.then(()=>new Promise(r=>{let i=n.get(be),o=n.get(p_);c_(i,()=>{r(!0)}),n.get(Op).afterPreactivation=()=>(r(!0),o.closed?j(void 0):o),i.initialNavigation()}))}}])}function MN(){return ks(3,[{provide:Hl,multi:!0,useFactory:()=>{let n=b(be);return()=>{n.setUpLocationChangeListener()}}},{provide:Fp,useValue:2}])}var g_=new x("");function xN(t){return ks(0,[{provide:g_,useExisting:EN},{provide:Nc,useExisting:t}])}function TN(){return ks(8,[Sw,{provide:Rc,useExisting:Sw}])}function AN(t){let n=[{provide:o_,useValue:pN},{provide:s_,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return ks(9,n)}var Aw=new x("ROUTER_FORROOT_GUARD"),NN=[eo,{provide:Ms,useClass:co},be,Ts,{provide:Kt,useFactory:f_,deps:[be]},Rp,[]],Ye=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[NN,[],{provide:Is,multi:!0,useValue:e},{provide:Aw,useFactory:FN,deps:[[be,new Cl,new Tf]]},r?.errorHandler?{provide:a_,useValue:r.errorHandler}:[],{provide:Rs,useValue:r||{}},r?.useHash?kN():ON(),RN(),r?.preloadingStrategy?xN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?PN(r):[],r?.bindToComponentInputs?TN().\u0275providers:[],r?.enableViewTransitions?AN().\u0275providers:[],LN()]}}static forChild(e){return{ngModule:t,providers:[{provide:Is,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)(T(Aw,8))};static \u0275mod=zt({type:t});static \u0275inj=Ht({})}return t})();function RN(){return{provide:d_,useFactory:()=>{let t=b(Z0),n=b(xe),e=b(Rs),r=b(Op),i=b(Ms);return e.scrollOffset&&t.setOffset(e.scrollOffset),new IN(i,r,t,n,e)}}}function kN(){return{provide:Xn,useClass:U0}}function ON(){return{provide:Xn,useClass:jh}}function FN(t){return"guarded"}function PN(t){return[t.initialNavigation==="disabled"?MN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?SN().\u0275providers:[]]}var Nw=new x("");function LN(){return[{provide:Nw,useFactory:h_},{provide:ts,multi:!0,useExisting:Nw}]}var m_=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)};var Os=class extends Error{constructor(n,e="FunctionsError",r){super(n),this.name=e,this.context=r}},Fc=class extends Os{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Pc=class extends Os{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Lc=class extends Os{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Pp=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(Pp||{});var jN=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Fs=class{constructor(n,{headers:e={},customFetch:r,region:i=Pp.Any}={}){this.url=n,this.headers=e,this.region=i,this.fetch=m_(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,e={}){var r;return jN(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(y=>{throw new Fc(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Pc(u);if(!u.ok)throw new Lc(u);let g=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return g==="application/json"?f=yield u.json():g==="application/octet-stream"?f=yield u.blob():g==="text/event-stream"?f=u:g==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}};var T_=sD(x_(),1),{PostgrestClient:A_,PostgrestQueryBuilder:_B,PostgrestFilterBuilder:bB,PostgrestTransformBuilder:DB,PostgrestBuilder:CB,PostgrestError:KN}=T_.default;var N_="2.11.2";var R_={"X-Client-Info":`realtime-js/${N_}`},k_="1.0.0",Uc=1e4,O_=1e3,mo=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(mo||{}),jt=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(jt||{}),Yt=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(Yt||{}),Qp=function(t){return t.websocket="websocket",t}(Qp||{}),ai=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(ai||{});var $c=class{constructor(){this.HEADER_LENGTH=1}decode(n,e){return n.constructor===ArrayBuffer?e(this._binaryDecode(n)):e(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let e=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,e,r)}_decodeBroadcast(n,e,r){let i=e.getUint8(1),o=e.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+i));s=s+i;let l=r.decode(n.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var vo=class{constructor(n,e){this.callback=n,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var De=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(De||{}),Kp=(t,n,e={})=>{var r;let i=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,s)=>(o[s]=YN(s,t,n,i),o),{})},YN=(t,n,e,r)=>{let i=n.find(a=>a.name===t),o=i?.type,s=e[t];return o&&!r.includes(o)?F_(o,s):Zp(s)},F_=(t,n)=>{if(t.charAt(0)==="_"){let e=t.slice(1,t.length);return t1(n,e)}switch(t){case De.bool:return JN(n);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return XN(n);case De.json:case De.jsonb:return e1(n);case De.timestamp:return n1(n);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Zp(n);default:return Zp(n)}},Zp=t=>t,JN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},XN=t=>{if(typeof t=="string"){let n=parseFloat(t);if(!Number.isNaN(n))return n}return t},e1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(n){return console.log(`JSON parse error: ${n}`),t}return t},t1=(t,n)=>{if(typeof t!="string")return t;let e=t.length-1,r=t[e];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,e);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>F_(n,a))}return t},n1=t=>typeof t=="string"?t.replace(" ","T"):t,Hc=t=>{let n=t;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var yo=class{constructor(n,e,r={},i=Uc){this.channel=n,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,e){var r;return this._hasReceived(n)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:e}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(e))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var $s=class t{constructor(n,e){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,e,r,i){let o=this.cloneDeep(n),s=this.transformState(e),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let g=u.map(D=>D.presence_ref),f=d.map(D=>D.presence_ref),y=u.filter(D=>f.indexOf(D.presence_ref)<0),_=d.filter(D=>g.indexOf(D.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,e,r,i){let{joins:o,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(f=>f.presence_ref),g=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...g)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,e){return Object.getOwnPropertyNames(n).map(r=>e(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((e,r)=>{let i=n[r];return"metas"in i?e[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):e[r]=i,e},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var nr=function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t}(nr||{});var Hs=class t{constructor(n,e={config:{}},r){this.topic=n,this.params=e,this.socket=r,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new yo(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new vo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new $s(this),this.broadcastEndpointURL=Hc(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>n?.(nr.CHANNEL_ERROR,u)),this._onClose(()=>n?.(nr.CLOSED));let l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",d=>m(this,[d],function*({postgres_changes:u}){var g;if(this.socket.setAuth(),u===void 0){n?.(nr.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,y=(g=f?.length)!==null&&g!==void 0?g:0,_=[];for(let D=0;D<y;D++){let A=f[D],{filter:{event:re,schema:z,table:ce,filter:Ne}}=A,Me=u&&u[D];if(Me&&Me.event===re&&Me.schema===z&&Me.table===ce&&Me.filter===Ne)_.push(Object.assign(Object.assign({},A),{id:Me.id}));else{this.unsubscribe(),n?.(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,n&&n(nr.SUBSCRIBED);return}})).receive("error",u=>{n?.(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return m(this,arguments,function*(n,e={}){return yield this.send({type:"presence",event:"track",payload:n},e.timeout||this.timeout)})}untrack(){return m(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,e,r){return this._on(n,e,r)}send(r){return m(this,arguments,function*(n,e={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=u.body)===null||o===void 0?void 0:o.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,e.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=jt.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new yo(this,Yt.leave,{},n);i.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(n,e,r){return m(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(o),s})}_push(n,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yo(this,n,e,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,e,r){return e}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,e,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Yt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,e,r);if(e&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,_,D;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((D=(_=f.filter)===null||_===void 0?void 0:_.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===s}).map(f=>f.callback(g,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var y,_,D,A,re,z;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let ce=f.id,Ne=(y=f.filter)===null||y===void 0?void 0:y.event;return ce&&((_=e.ids)===null||_===void 0?void 0:_.includes(ce))&&(Ne==="*"||Ne?.toLocaleLowerCase()===((D=e.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{let ce=(re=(A=f?.filter)===null||A===void 0?void 0:A.event)===null||re===void 0?void 0:re.toLocaleLowerCase();return ce==="*"||ce===((z=e?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof g=="object"&&"ids"in g){let y=g.data,{schema:_,table:D,commit_timestamp:A,type:re,errors:z}=y;g=Object.assign(Object.assign({},{schema:_,table:D,commit_timestamp:A,eventType:re,new:{},old:{},errors:z}),this._getPayloadRecords(y))}f.callback(g,r)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,e,r){let i=n.toLocaleLowerCase(),o={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,e){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,e))}),this}static isEqual(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let r in n)if(n[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Yt.close,{},n)}_onError(n){this._on(Yt.error,{},e=>n(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let e={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(e.new=Kp(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(e.old=Kp(n.columns,n.old_record)),e}};var i1=()=>{},o1=typeof WebSocket<"u",s1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ws=class{constructor(n,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=R_,this.params={},this.timeout=Uc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=i1,this.conn=null,this.sendBuffer=[],this.serializer=new $c,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-NPJLHOA5.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${Qp.websocket}`,this.httpEndpoint=Hc(n),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(r=e?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=e?.encode?e.encode:(o,s)=>s(JSON.stringify(o)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vo(()=>m(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(o1){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Yp(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-GFTZZNGD.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:k_}))}disconnect(n,e){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return m(this,null,function*(){let e=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return m(this,null,function*(){let n=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),n})}log(n,e,r){this.logger(n,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case mo.connecting:return ai.Connecting;case mo.open:return ai.Open;case mo.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}channel(n,e={config:{}}){let r=new Hs(`realtime:${n}`,e,this);return this.channels.push(r),r}push(n){let{topic:e,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return m(this,null,function*(){let e=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(Yt.access_token,{access_token:e})})}})}sendHeartbeat(){return m(this,null,function*(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(O_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let e=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${n}"`),e.unsubscribe())}_remove(n){this.channels=this.channels.filter(e=>e._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,e=>{let{topic:r,event:i,payload:o,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){return m(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Yt.error))}_appendParams(n,e){if(Object.keys(e).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${n}${r}${i}`}_workerObjectUrl(n){let e;if(n)e=n;else{let r=new Blob([s1],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}};var Yp=class{constructor(n,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=mo.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var wo=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Wc=class extends wo{constructor(n,e){super(n),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},li=class extends wo{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};var a1=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},zc=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},P_=()=>a1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-NPJLHOA5.js")).Response:Response}),qc=t=>{if(Array.isArray(t))return t.map(e=>qc(e));if(typeof t=="function"||t!==Object(t))return t;let n={};return Object.entries(t).forEach(([e,r])=>{let i=e.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=qc(r)}),n};var ci=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Jp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l1=(t,n,e)=>ci(void 0,void 0,void 0,function*(){let r=yield P_();t instanceof r&&!e?.noResolveJson?t.json().then(i=>{n(new Wc(Jp(i),t.status||500))}).catch(i=>{n(new li(Jp(i),i))}):n(new li(Jp(t),t))}),c1=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),e))};function qs(t,n,e,r,i,o){return ci(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(e,c1(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>l1(l,a,r))})})}function _o(t,n,e,r){return ci(this,void 0,void 0,function*(){return qs(t,"GET",n,e,r)})}function Sn(t,n,e,r,i){return ci(this,void 0,void 0,function*(){return qs(t,"POST",n,r,i,e)})}function L_(t,n,e,r,i){return ci(this,void 0,void 0,function*(){return qs(t,"PUT",n,r,i,e)})}function j_(t,n,e,r){return ci(this,void 0,void 0,function*(){return qs(t,"HEAD",n,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Gc(t,n,e,r,i){return ci(this,void 0,void 0,function*(){return qs(t,"DELETE",n,r,i,e)})}var Et=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},u1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},V_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Qc=class{constructor(n,e={},r,i){this.url=n,this.headers=e,this.bucketId=r,this.fetch=zc(i)}uploadOrUpdate(n,e,r,i){return Et(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},V_),i),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),g=yield d.json();return d.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}upload(n,e,r){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,e,r)})}uploadToSignedUrl(n,e,r,i){return Et(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:V_.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),g=yield d.json();return d.ok?{data:{path:o,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(Be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,e){return Et(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let o=yield Sn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new wo("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}update(n,e,r){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,e,r)})}move(n,e,r){return Et(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}copy(n,e,r){return Et(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}createSignedUrl(n,e,r){return Et(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield Sn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}createSignedUrls(n,e,r){return Et(this,void 0,void 0,function*(){try{let i=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}download(n,e){return Et(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield _o(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}info(n){return Et(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{let r=yield _o(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:qc(r),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}exists(n){return Et(this,void 0,void 0,function*(){let e=this._getFinalPath(n);try{return yield j_(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Be(r)&&r instanceof li){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,e){let r=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return Et(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(e){if(Be(e))return{data:null,error:e};throw e}})}list(n,e,r){return Et(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},u1),e),{prefix:n||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Be(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};var B_="2.7.1";var U_={"X-Client-Info":`storage-js/${B_}`};var bo=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},Zc=class{constructor(n,e={},r){this.url=n,this.headers=Object.assign(Object.assign({},U_),e),this.fetch=zc(r)}listBuckets(){return bo(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}getBucket(n){return bo(this,void 0,void 0,function*(){try{return{data:yield _o(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(e){if(Be(e))return{data:null,error:e};throw e}})}createBucket(n,e={public:!1}){return bo(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}updateBucket(n,e){return bo(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}emptyBucket(n){return bo(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Be(e))return{data:null,error:e};throw e}})}deleteBucket(n){return bo(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(e){if(Be(e))return{data:null,error:e};throw e}})}};var zs=class extends Zc{constructor(n,e={},r){super(n,e,r)}from(n){return new Qc(this.url,this.headers,n,this.fetch)}};var $_="2.49.5";var Gs="";typeof Deno<"u"?Gs="deno":typeof document<"u"?Gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gs="react-native":Gs="node";var d1={"X-Client-Info":`supabase-js-${Gs}/${$_}`},H_={headers:d1},W_={schema:"public"},q_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z_={};Eg();var f1=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},h1=t=>{let n;return t?n=t:typeof fetch>"u"?n=Dg:n=fetch,(...e)=>n(...e)},p1=()=>typeof Headers>"u"?Cg:Headers,G_=(t,n,e)=>{let r=h1(e),i=p1();return(o,s)=>f1(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:t,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var g1=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})};function Q_(t){return t.replace(/\/$/,"")}function Z_(t,n){var e,r;let{db:i,auth:o,realtime:s,global:a}=t,{db:l,auth:c,realtime:u,global:d}=n,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(e=d?.headers)!==null&&e!==void 0?e:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>g1(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}var Kc="2.69.1";var ui=30*1e3,Yc=3,Jc=Yc*ui,K_="http://localhost:9999",Y_="supabase.auth.token";var J_={"X-Client-Info":`gotrue-js/${Kc}`};var Qs="X-Supabase-Api-Version",Xp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eb=6e5;var Zs=class extends Error{constructor(n,e,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}};function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Xc=class extends Zs{constructor(n,e,r){super(n,e,r),this.name="AuthApiError",this.status=e,this.code=r}};function tb(t){return q(t)&&t.name==="AuthApiError"}var Do=class extends Zs{constructor(n,e){super(n),this.name="AuthUnknownError",this.originalError=e}},Mn=class extends Zs{constructor(n,e,r,i){super(n,r,i),this.name=e,this.status=r}},Jt=class extends Mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function nb(t){return q(t)&&t.name==="AuthSessionMissingError"}var Co=class extends Mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},di=class extends Mn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},fi=class extends Mn{constructor(n,e=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function rb(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}var Ks=class extends Mn{constructor(n,e=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Eo=class extends Mn{constructor(n,e){super(n,"AuthRetryableFetchError",e,void 0)}};function eu(t){return q(t)&&t.name==="AuthRetryableFetchError"}var Ys=class extends Mn{constructor(n,e,r){super(n,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}};var rr=class extends Mn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ob=` 	
\r=`.split(""),m1=(()=>{let t=new Array(128);for(let n=0;n<t.length;n+=1)t[n]=-1;for(let n=0;n<ob.length;n+=1)t[ob[n].charCodeAt(0)]=-2;for(let n=0;n<ib.length;n+=1)t[ib[n].charCodeAt(0)]=n;return t})();function sb(t,n,e){let r=m1[t];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)e(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function eg(t){let n=[],e=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{w1(s,r,e)};for(let s=0;s<t.length;s+=1)sb(t.charCodeAt(s),i,o);return n.join("")}function v1(t,n){if(t<=127){n(t);return}else if(t<=2047){n(192|t>>6),n(128|t&63);return}else if(t<=65535){n(224|t>>12),n(128|t>>6&63),n(128|t&63);return}else if(t<=1114111){n(240|t>>18),n(128|t>>12&63),n(128|t>>6&63),n(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function y1(t,n){for(let e=0;e<t.length;e+=1){let r=t.charCodeAt(e);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(t.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}v1(r,n)}}function w1(t,n,e){if(n.utf8seq===0){if(t<=127){e(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=t&31;else if(n.utf8seq===3)n.codepoint=t&15;else if(n.utf8seq===4)n.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|t&63,n.utf8seq-=1,n.utf8seq===0&&e(n.codepoint)}}function ab(t){let n=[],e={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<t.length;i+=1)sb(t.charCodeAt(i),e,r);return new Uint8Array(n)}function lb(t){let n=[];return y1(t,e=>n.push(e)),new Uint8Array(n)}function cb(t){return Math.round(Date.now()/1e3)+t}function ub(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})}var un=()=>typeof window<"u"&&typeof document<"u",hi={tested:!1,writable:!1},Ar=()=>{if(!un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hi.tested)return hi.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),hi.tested=!0,hi.writable=!0}catch{hi.tested=!0,hi.writable=!1}return hi.writable};function db(t){let n={},e=new URL(t);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return e.searchParams.forEach((r,i)=>{n[i]=r}),n}var tu=t=>{let n;return t?n=t:typeof fetch>"u"?n=(...e)=>import("./chunk-NPJLHOA5.js").then(({default:r})=>r(...e)):n=fetch,(...e)=>n(...e)},fb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tg=(t,n,e)=>m(void 0,null,function*(){yield t.setItem(n,JSON.stringify(e))}),Xs=(t,n)=>m(void 0,null,function*(){let e=yield t.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),ea=(t,n)=>m(void 0,null,function*(){yield t.removeItem(n)}),Js=class t{constructor(){this.promise=new t.promiseConstructor((n,e)=>{this.resolve=n,this.reject=e})}};Js.promiseConstructor=Promise;function nu(t){let n=t.split(".");if(n.length!==3)throw new rr("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!X_.test(n[r]))throw new rr("JWT not in base64url format");return{header:JSON.parse(eg(n[0])),payload:JSON.parse(eg(n[1])),signature:ab(n[2]),raw:{header:n[0],payload:n[1]}}}function hb(t){return m(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),t)})})}function pb(t,n){return new Promise((r,i)=>{m(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})})}function _1(t){return("0"+t.toString(16)).substr(-2)}function b1(){let n=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length,i="";for(let o=0;o<56;o++)i+=e.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,_1).join("")}function D1(t){return m(this,null,function*(){let e=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function C1(t){return m(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let e=yield D1(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function pi(t,n,e=!1){return m(this,null,function*(){let r=b1(),i=r;e&&(i+="/PASSWORD_RECOVERY"),yield tg(t,`${n}-code-verifier`,i);let o=yield C1(r);return[o,r===o?"plain":"s256"]})}var E1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gb(t){let n=t.headers.get(Qs);if(!n||!n.match(E1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function mb(t){if(!t)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(t<=n)throw new Error("JWT has expired")}function vb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var I1=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},gi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),S1=[502,503,504];function yb(t){return m(this,null,function*(){var n;if(!fb(t))throw new Eo(gi(t),0);if(S1.includes(t.status))throw new Eo(gi(t),t.status);let e;try{e=yield t.json()}catch(o){throw new Do(gi(o),o)}let r,i=gb(t);if(i&&i.getTime()>=Xp["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new Ys(gi(e),t.status,((n=e.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Ys(gi(e),t.status,e.weak_password.reasons);throw new Xc(gi(e),t.status||500,r)})}var M1=(t,n,e,r)=>{let i={method:t,headers:n?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),e))};function te(t,n,e,r){return m(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[Qs]||(o[Qs]=Xp["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield x1(t,n,e+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function x1(t,n,e,r,i,o){return m(this,null,function*(){let s=M1(n,r,i,o),a;try{a=yield t(e,Object.assign({},s))}catch(l){throw console.error(l),new Eo(gi(l),0)}if(a.ok||(yield yb(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield yb(l)}})}function ir(t){var n;let e=null;T1(t)&&(e=Object.assign({},t),t.expires_at||(e.expires_at=cb(t.expires_in)));let r=(n=t.user)!==null&&n!==void 0?n:t;return{data:{session:e,user:r},error:null}}function ng(t){let n=ir(t);return!n.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(n.data.weak_password=t.weak_password),n}function xn(t){var n;return{data:{user:(n=t.user)!==null&&n!==void 0?n:t},error:null}}function wb(t){return{data:t,error:null}}function _b(t){let{action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o}=t,s=I1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:e,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function bb(t){return t}function T1(t){return t.access_token&&t.refresh_token&&t.expires_in}var A1=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e},Io=class{constructor({url:n="",headers:e={},fetch:r}){this.url=n,this.headers=e,this.fetch=tu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,e="global"){return m(this,null,function*(){try{return yield te(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return m(this,arguments,function*(n,e={}){try{return yield te(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:xn})}catch(i){if(q(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return m(this,null,function*(){try{let{options:e}=n,r=A1(n,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_b,redirectTo:e?.redirectTo})}catch(e){if(q(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(n){return m(this,null,function*(){try{return yield te(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:xn})}catch(e){if(q(e))return{data:{user:null},error:e};throw e}})}listUsers(n){return m(this,null,function*(){var e,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=n?.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:bb});if(u.error)throw u.error;let d=yield u.json(),g=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(y=>{let _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(y.split(";")[1].split("=")[1]);c[`${D}Page`]=_}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return m(this,null,function*(){try{return yield te(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:xn})}catch(e){if(q(e))return{data:{user:null},error:e};throw e}})}updateUserById(n,e){return m(this,null,function*(){try{return yield te(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:e,headers:this.headers,xform:xn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,e=!1){return m(this,null,function*(){try{return yield te(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:e},xform:xn})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return m(this,null,function*(){try{let{data:e,error:r}=yield te(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:r}}catch(e){if(q(e))return{data:null,error:e};throw e}})}_deleteFactor(n){return m(this,null,function*(){try{return{data:yield te(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(e){if(q(e))return{data:null,error:e};throw e}})}};var Db={getItem:t=>Ar()?globalThis.localStorage.getItem(t):null,setItem:(t,n)=>{Ar()&&globalThis.localStorage.setItem(t,n)},removeItem:t=>{Ar()&&globalThis.localStorage.removeItem(t)}};function rg(t={}){return{getItem:n=>t[n]||null,setItem:(n,e)=>{t[n]=e},removeItem:n=>{delete t[n]}}}function Cb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var mi={debug:!!(globalThis&&Ar()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ta=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},ru=class extends ta{};function ig(t,n,e){return m(this,null,function*(){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),mi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>m(this,null,function*(){if(i){mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield e()}finally{mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(n===0)throw mi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ru(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(mi.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}Cb();var N1={url:K_,storageKey:Y_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:J_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Eb(t,n,e){return m(this,null,function*(){return yield e()})}var og=(()=>{class t{constructor(e){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&un()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},N1),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Io({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=tu(o.fetch),this.lock=o.lock||Eb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:un()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ig:this.lock=Eb,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Ar()?this.storage=Db:(this.memoryStorage={},this.storage=rg(this.memoryStorage)):(this.memoryStorage={},this.storage=rg(this.memoryStorage)),un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>m(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kc}) ${new Date().toISOString()}`,...e),this}initialize(){return m(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=m(this,null,function*(){return yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return m(this,null,function*(){var e;try{let r=db(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),un()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=yield this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),rb(s)){let c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>m(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new Do("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return m(this,null,function*(){var r,i,o;try{let s=yield te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ir}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return m(this,null,function*(){var r,i,o;try{let s;if("email"in e){let{email:d,password:g,options:f}=e,y=null,_=null;this.flowType==="pkce"&&([y,_]=yield pi(this.storage,this.storageKey)),s=yield te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:g,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:y,code_challenge_method:_},xform:ir})}else if("phone"in e){let{phone:d,password:g,options:f}=e;s=yield te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:g,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ir})}else throw new di("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return m(this,null,function*(){try{let r;if("email"in e){let{email:s,password:a,options:l}=e;r=yield te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ng})}else if("phone"in e){let{phone:s,password:a,options:l}=e;r=yield te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ng})}else throw new di("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Co}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return m(this,null,function*(){var r,i,o,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return m(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>m(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return m(this,null,function*(){let r=yield Xs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:s,error:a}=yield te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ir});if(yield ea(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Co}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(q(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return m(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=e,l=yield te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ir}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Co}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return m(this,null,function*(){var r,i,o,s,a;try{if("email"in e){let{email:l,options:c}=e,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield pi(this.storage,this.storageKey));let{error:g}=yield te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:d}=yield te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new di("You must provide either an email or phone number.")}catch(l){if(q(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return m(this,null,function*(){var r,i;try{let o,s;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:ir});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(e){return m(this,null,function*(){var r,i,o;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield pi(this.storage,this.storageKey)),yield te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:wb})}catch(s){if(q(s))return{data:null,error:s};throw s}})}reauthenticate(){return m(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return m(this,null,function*(){try{return yield this._useSession(e=>m(this,null,function*(){let{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new Jt;let{error:o}=yield te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return m(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in e){let{email:i,type:o,options:s}=e,{error:a}=yield te(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:o,options:s}=e,{data:a,error:l}=yield te(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new di("You must provide either an email or phone number and a type")}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return m(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return this._useSession(r=>m(this,null,function*(){return r}))}))})}_acquireLock(e,r){return m(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=m(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(m(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,e,()=>m(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(m(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return m(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return m(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=yield Xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<Jc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return m(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return m(this,null,function*(){try{return e?yield te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xn}):yield this._useSession(r=>m(this,null,function*(){var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:yield te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:xn})}))}catch(r){if(q(r))return nb(r)&&(yield this._removeSession(),yield ea(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return m(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(i){return m(this,arguments,function*(e,r={}){try{return yield this._useSession(o=>m(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Jt;let l=s.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield pi(this.storage,this.storageKey));let{data:d,error:g}=yield te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:xn});if(g)throw g;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(o){if(q(o))return{data:{user:null},error:o};throw o}})}setSession(e){return m(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return m(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new Jt;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=nu(e.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(q(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return m(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i;if(!e){let{data:a,error:l}=r;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Jt;let{session:o,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return m(this,null,function*(){try{if(!un())throw new fi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ks("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ks("No code detected.");let{data:z,error:ce}=yield this._exchangeCodeForSession(e.code);if(ce)throw ce;let Ne=new URL(window.location.href);return Ne.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Ne.toString()),{data:{session:z.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new fi("No session defined in URL");let d=Math.round(Date.now()/1e3),g=parseInt(l),f=d+g;c&&(f=parseInt(c));let y=f-d;y*1e3<=ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);let _=f-g;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,d);let{data:D,error:A}=yield this._getUser(s);if(A)throw A;let re={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:g,expires_at:f,refresh_token:a,token_type:u,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:re,redirectType:e.type},error:null}}catch(i){if(q(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return m(this,null,function*(){let r=yield Xs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return m(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return m(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>m(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(tb(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield ea(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let r=ub(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),m(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(e){return m(this,null,function*(){return yield this._useSession(r=>m(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return m(this,arguments,function*(e,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield pi(this.storage,this.storageKey,!0));try{return yield te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(q(a))return{data:null,error:a};throw a}})}getUserIdentities(){return m(this,null,function*(){var e;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}})}linkIdentity(e){return m(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>m(this,null,function*(){var a,l,c,u,d;let{data:g,error:f}=s;if(f)throw f;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield te(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return un()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(q(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(q(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return m(this,null,function*(){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield pb(o=>m(this,null,function*(){return o>0&&(yield hb(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ir})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&eu(s)&&Date.now()+a-i<ui})}catch(i){if(this._debug(r,"error",i),q(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return m(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),un()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return m(this,null,function*(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield Xs(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Jc;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Jc}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=yield this._callRefreshToken(i.refresh_token);s&&(console.error(s),eu(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return m(this,null,function*(){var r,i;if(!e)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Js;let{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Jt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),q(s)){let a={session:null,error:s};return eu(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(e,r,i=!0){return m(this,null,function*(){let o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>m(this,null,function*(){try{yield l.callback(e,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(e){return m(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield tg(this.storage,this.storageKey,e)})}_removeSession(){return m(this,null,function*(){this._debug("#_removeSession()"),yield ea(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&un()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return m(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),ui);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>m(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return m(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return m(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return m(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return m(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>m(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(r=>m(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-e)/ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ui}ms, refresh threshold is ${Yc} ticks`),o<=Yc&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof ta)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return m(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!un()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>m(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return m(this,null,function*(){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>m(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,i){return m(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield pi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`})}_unenroll(e){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(q(r))return{data:null,error:r};throw r}})}_enroll(e){return m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=yield te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(q(r))return{data:null,error:r};throw r}})}_verify(e){return m(this,null,function*(){return this._acquireLock(-1,()=>m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(q(r))return{data:null,error:r};throw r}}))})}_challenge(e){return m(this,null,function*(){return this._acquireLock(-1,()=>m(this,null,function*(){try{return yield this._useSession(r=>m(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(q(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return m(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return m(this,null,function*(){let{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=e?.factors||[],o=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return m(this,null,function*(){return this._acquireLock(-1,()=>m(this,null,function*(){return yield this._useSession(e=>m(this,null,function*(){var r,i;let{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=nu(o.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(i){return m(this,arguments,function*(e,r={keys:[]}){let o=r.keys.find(l=>l.kid===e);if(o||(o=this.jwks.keys.find(l=>l.kid===e),o&&this.jwks_cached_at+eb>Date.now()))return o;let{data:s,error:a}=yield te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new rr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),o=s.keys.find(l=>l.kid===e),!o)throw new rr("No matching signing key found in JWKS");return o})}getClaims(i){return m(this,arguments,function*(e,r={keys:[]}){try{let o=e;if(!o){let{data:_,error:D}=yield this.getSession();if(D||!_.session)return{data:null,error:D};o=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=nu(o);if(mb(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:_}=yield this.getUser(o);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let d=vb(s.alg),g=yield this.fetchJwk(s.kid,r),f=yield crypto.subtle.importKey("jwk",g,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,l,lb(`${c}.${u}`))))throw new rr("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(o){if(q(o))return{data:null,error:o};throw o}})}}return t.nextInstanceID=0,t})();var R1=og,sg=R1;var iu=class extends sg{constructor(n){super(n)}};var k1=function(t,n,e,r){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,n||[])).next())})},or=class{constructor(n,e,r){var i,o,s;if(this.supabaseUrl=n,this.supabaseKey=e,!n)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=Q_(n),l=new URL(a);this.realtimeUrl=new URL("/realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",l),this.storageUrl=new URL("/storage/v1",l),this.functionsUrl=new URL("/functions/v1",l);let c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:W_,realtime:z_,auth:Object.assign(Object.assign({},q_),{storageKey:c}),global:H_},d=Z_(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=G_(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new A_(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Fs(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zs(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,e;return k1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iu({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Ws(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ou=(t,n,e)=>new or(t,n,e);var Ob=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(I(_n),I(Dt))};static \u0275dir=ye({type:t})}return t})(),Ao=(()=>{class t extends Ob{static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275dir=ye({type:t,features:[ct]})}return t})(),vi=new x(""),O1={provide:vi,useExisting:Rt(()=>cg),multi:!0},cg=(()=>{class t extends Ao{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[he([O1]),ct]})}return t})(),F1={provide:vi,useExisting:Rt(()=>Ae),multi:!0};function P1(){let t=Jn()?Jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var L1=new x(""),Ae=(()=>{class t extends Ob{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!P1())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(I(_n),I(Dt),I(L1,8))};static \u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&S("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[he([F1]),ct]})}return t})();function ag(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var hu=new x(""),Fb=new x("");function j1(t){return n=>{if(ag(n.value)||ag(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function V1(t){return ag(t.value)?{required:!0}:null}function Ib(t){return null}function Pb(t){return t!=null}function Lb(t){return Xr(t)?pe(t):t}function jb(t){let n={};return t.forEach(e=>{n=e!=null?E(E({},n),e):n}),Object.keys(n).length===0?null:n}function Vb(t,n){return n.map(e=>e(t))}function B1(t){return!t.validate}function Bb(t){return t.map(n=>B1(n)?n:e=>n.validate(e))}function U1(t){if(!t)return null;let n=t.filter(Pb);return n.length==0?null:function(e){return jb(Vb(e,n))}}function ug(t){return t!=null?U1(Bb(t)):null}function $1(t){if(!t)return null;let n=t.filter(Pb);return n.length==0?null:function(e){let r=Vb(e,n).map(Lb);return ld(r).pipe(V(jb))}}function dg(t){return t!=null?$1(Bb(t)):null}function Sb(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function H1(t){return t._rawValidators}function W1(t){return t._rawAsyncValidators}function lg(t){return t?Array.isArray(t)?t:[t]:[]}function au(t,n){return Array.isArray(t)?t.includes(n):t===n}function Mb(t,n){let e=lg(n);return lg(t).forEach(i=>{au(e,i)||e.push(i)}),e}function xb(t,n){return lg(n).filter(e=>!au(t,e))}var lu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ug(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=dg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},xo=class extends lu{name;get formDirective(){return null}get path(){return null}},aa=class extends lu{_parent=null;name=null;valueAccessor=null},cu=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},q1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},s3=J(E({},q1),{"[class.ng-submitted]":"isSubmitted"}),Ue=(()=>{class t extends cu{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(I(aa,2))};static \u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ct]})}return t})(),Tn=(()=>{class t extends cu{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(I(xo,10))};static \u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[ct]})}return t})();var na="VALID",su="INVALID",So="PENDING",ra="DISABLED",To=class{},uu=class extends To{value;source;constructor(n,e){super(),this.value=n,this.source=e}},oa=class extends To{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},sa=class extends To{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},Mo=class extends To{status;source;constructor(n,e){super(),this.status=n,this.source=e}};function Ub(t){return(pu(t)?t.validators:t)||null}function z1(t){return Array.isArray(t)?ug(t):t||null}function $b(t,n){return(pu(n)?n.asyncValidators:t)||null}function G1(t){return Array.isArray(t)?dg(t):t||null}function pu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Q1(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new N(1e3,"");if(!r[e])throw new N(1001,"")}function Z1(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new N(1002,"")})}var du=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Qn(this.statusReactive)}set status(n){Qn(()=>this.statusReactive.set(n))}_status=is(()=>this.statusReactive());statusReactive=es(void 0);get valid(){return this.status===na}get invalid(){return this.status===su}get pending(){return this.status==So}get disabled(){return this.status===ra}get enabled(){return this.status!==ra}errors;get pristine(){return Qn(this.pristineReactive)}set pristine(n){Qn(()=>this.pristineReactive.set(n))}_pristine=is(()=>this.pristineReactive());pristineReactive=es(!0);get dirty(){return!this.pristine}get touched(){return Qn(this.touchedReactive)}set touched(n){Qn(()=>this.touchedReactive.set(n))}_touched=is(()=>this.touchedReactive());touchedReactive=es(!1);get untouched(){return!this.touched}_events=new Fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Mb(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Mb(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(xb(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(xb(n,this._rawAsyncValidators))}hasValidator(n){return au(this._rawValidators,n)}hasAsyncValidator(n){return au(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(J(E({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new sa(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new sa(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(J(E({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new oa(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new oa(!0,r))}markAsPending(n={}){this.status=So;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Mo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(J(E({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ra,this.errors=null,this._forEachChild(i=>{i.disable(J(E({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new uu(this.value,r)),this._events.next(new Mo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(E({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=na,this._forEachChild(r=>{r.enable(J(E({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(J(E({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===na||this.status===So)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new uu(this.value,e)),this._events.next(new Mo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(J(E({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ra:na}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=So,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=Lb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Mo(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?ra:this.errors?su:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(So)?So:this._anyControlsHaveStatus(su)?su:na}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new oa(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new sa(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){pu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=z1(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=G1(this._rawAsyncValidators)}},fu=class extends du{constructor(n,e,r){super(Ub(e),$b(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){Z1(this,!0,n),Object.keys(n).forEach(r=>{Q1(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var gu=new x("",{providedIn:"root",factory:()=>mu}),mu="always";function K1(t,n){return[...n.path,t]}function Hb(t,n,e=mu){Wb(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),J1(t,n),eR(t,n),X1(t,n),Y1(t,n)}function Tb(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Y1(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function Wb(t,n){let e=H1(t);n.validator!==null?t.setValidators(Sb(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=W1(t);n.asyncValidator!==null?t.setAsyncValidators(Sb(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Tb(n._rawValidators,i),Tb(n._rawAsyncValidators,i)}function J1(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&qb(t,n)})}function X1(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&qb(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function qb(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function eR(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function tR(t,n){t==null,Wb(t,n)}function nR(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function rR(t){return Object.getPrototypeOf(t.constructor)===Ao}function iR(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function oR(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===Ae?e=o:rR(o)?r=o:i=o}),i||r||e||null}var sR={provide:xo,useExisting:Rt(()=>dn)},ia=Promise.resolve(),dn=(()=>{class t extends xo{callSetDisabledState;get submitted(){return Qn(this.submittedReactive)}_submitted=is(()=>this.submittedReactive());submittedReactive=es(!1);_directives=new Set;form;ngSubmit=new de;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new fu({},ug(e),dg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ia.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Hb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ia.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ia.then(()=>{let r=this._findContainer(e.path),i=new fu({});tR(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ia.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){ia.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),iR(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||t)(I(hu,10),I(Fb,10),I(gu,8))};static \u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[he([sR]),ct]})}return t})();function Ab(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Nb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var aR=class extends du{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(Ub(e),$b(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Nb(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ab(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ab(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Nb(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var lR={provide:aa,useExisting:Rt(()=>ke)},Rb=Promise.resolve(),ke=(()=>{class t extends aa{_changeDetectorRef;callSetDisabledState;control=new aR;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new de;constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=oR(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),nR(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Hb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Rb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&Sr(r);Rb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?K1(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(I(xo,9),I(hu,10),I(Fb,10),I(vi,10),I(ni,8),I(gu,8))};static \u0275dir=ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[he([lR]),ct,Wn]})}return t})(),An=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),cR={provide:vi,useExisting:Rt(()=>Vt),multi:!0},Vt=(()=>{class t extends Ao{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&S("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[he([cR]),ct]})}return t})();var uR={provide:vi,useExisting:Rt(()=>fg),multi:!0},fg=(()=>{class t extends Ao{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[he([uR]),ct]})}return t})(),dR=new x("");var fR={provide:vi,useExisting:Rt(()=>Nn),multi:!0};function zb(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function hR(t){return t.split(":")[0]}var Nn=(()=>{class t extends Ao{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r=this._getOptionId(e),i=zb(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=hR(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[he([fR]),ct]})}return t})(),Nr=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(zb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(I(Dt),I(_n),I(Nn,9))};static \u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),pR={provide:vi,useExisting:Rt(()=>Gb),multi:!0};function kb(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function gR(t){return t.split(":")[0]}var Gb=(()=>{class t extends Ao{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=gR(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[he([pR]),ct]})}return t})(),Rr=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(kb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(kb(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(I(Dt),I(_n),I(Gb,9))};static \u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function mR(t){return typeof t=="number"?t:parseFloat(t)}var Qb=(()=>{class t{_validator=Ib;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ib,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ye({type:t,features:[Wn]})}return t})();var vR={provide:hu,useExisting:Rt(()=>la),multi:!0},la=(()=>{class t extends Qb{min;inputName="min";normalizeInput=e=>mR(e);createValidator=e=>j1(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&bn("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[he([vR]),ct]})}return t})(),yR={provide:hu,useExisting:Rt(()=>sr),multi:!0};var sr=(()=>{class t extends Qb{required;inputName="required";normalizeInput=Sr;createValidator=e=>V1;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=qt(t)))(i||t)}})();static \u0275dir=ye({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&bn("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[he([yR]),ct]})}return t})();var Zb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=zt({type:t});static \u0275inj=Ht({})}return t})();var ge=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:gu,useValue:e.callSetDisabledState??mu}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=zt({type:t});static \u0275inj=Ht({imports:[Zb]})}return t})(),Kb=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:dR,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:gu,useValue:e.callSetDisabledState??mu}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=zt({type:t});static \u0275inj=Ht({imports:[Zb]})}return t})();var No=class t{constructor(n,e){this.router=n;this.route=e;this.router.events.pipe(We(r=>r instanceof Ct),V(()=>{let r=this.route.firstChild;for(;r?.firstChild;)r=r.firstChild;return r?.snapshot.data})).subscribe(r=>{this.pageTitle=r?.title||"Title",this.pageDescription=r?.description||"Description"})}title="omni-diet";pageTitle;pageDescription;navigate(n){this.router.navigate([n])}static \u0275fac=function(e){return new(e||t)(I(be),I(Kt))};static \u0275cmp=ee({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){e&1&&R(0,"router-outlet")},dependencies:[As],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Arial,sans-serif}.list-group-item[_ngcontent-%COMP%]{border-radius:10px;background-color:#f8f9fa}footer[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px}"]})};var oe=class t{constructor(){}saveData(n,e){try{let r=JSON.stringify(e,null,2);localStorage.setItem(n,r),console.log(`Dados salvos com sucesso na chave: ${n}`)}catch(r){console.error("Erro ao salvar dados:",r)}}loadData(n){try{let e=localStorage.getItem(n);return e?JSON.parse(e):(console.warn(`Nenhum dado encontrado para a chave: ${n}`),null)}catch(e){return console.error("Erro ao carregar dados:",e),null}}deleteData(n){try{localStorage.removeItem(n),console.log(`Dados removidos com sucesso para a chave: ${n}`)}catch(e){console.error("Erro ao remover dados:",e)}}static \u0275fac=function(e){return new(e||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var wR=t=>({"fw-bold":t}),_R=(t,n,e)=>({"bg-light":!0,"border border-light-subtle":t,"bg-success bg-opacity-10":n,"bg-warning bg-opacity-25":e}),bR=(t,n)=>({"bg-success":t,"bg-primary":n});function DR(t,n){if(t&1){let e=_e();h(0,"div",4),S("click",function(){let i=P(e).$implicit,o=F();return L(o.onDateClicked(i))}),h(1,"div",5),w(2),ut(3,"date"),p(),h(4,"div",6),R(5,"div",7),h(6,"div",8),w(7),p()()()}if(t&2){let e=n.$implicit,r=F();v(),C("ngClass",Ir(11,wR,e===r.selectedDate)),v(),G(" ",dt(3,8,e,"dd/MM")," "),v(2),C("ngClass",D0(13,_R,e===r.selectedDate,r.dailyTotals[e]>=r.waterGoal,e===r.todayStr())),v(),Ji("width",r.getBarWidth(e)),C("ngClass",ns(17,bR,r.dailyTotals[e]>=r.waterGoal,r.waterGoal>r.dailyTotals[e])),bn("aria-label",r.dailyTotals[e]+" ml de \xE1gua ingerida"),v(2),G(" ",r.dailyTotals[e]," ml ")}}var vu=class t{selectedDate=new Date().toISOString().split("T")[0];waterEntries=[];waterGoal=2e3;dateSelected=new de;viewMode="week";displayDays=[];dailyTotals={};ngOnChanges(n){(n.waterEntries||n.selectedDate)&&this.updateChart()}changeViewMode(n){this.viewMode=n,this.updateChart()}onDateClicked(n){console.log("date clicked"),this.dateSelected.emit(n)}updateChart(){console.log("update");let[n,e,r]=this.selectedDate.split("-").map(Number),i=new Date(n,e-1,r),o;if(this.viewMode==="week"){let l=(i.getDay()+6)%7;o=new Date(i),o.setDate(i.getDate()-l)}else o=new Date(i.getFullYear(),i.getMonth(),1);console.log("Claculated Date",o);let s=this.viewMode==="week"?7:30;this.dailyTotals={};for(let a=0;a<s;a++){let l=new Date(o);l.setDate(o.getDate()+a);let c=this.toLocalDateString(l);this.dailyTotals[c]=0}for(let a of this.waterEntries)this.dailyTotals.hasOwnProperty(a.date)&&(this.dailyTotals[a.date]+=a.amount);this.displayDays=Object.keys(this.dailyTotals)}getBarWidth(n){let e=this.dailyTotals[n]||0;return Math.min(e/this.waterGoal*100,100)+"%"}todayStr(){return new Date().toISOString().split("T")[0]}toLocalDateString(n){let e=n.getFullYear(),r=(n.getMonth()+1).toString().padStart(2,"0"),i=n.getDate().toString().padStart(2,"0");return`${e}-${r}-${i}`}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ee({type:t,selectors:[["app-water-intake-chart"]],inputs:{selectedDate:"selectedDate",waterEntries:"waterEntries",waterGoal:"waterGoal"},outputs:{dateSelected:"dateSelected"},features:[he([oe]),Wn],decls:7,vars:5,consts:[["role","group","aria-label","View mode switch",1,"btn-group","mb-3"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"water-chart"],["class","d-flex align-items-center mb-2 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mb-2","cursor-pointer",3,"click"],[2,"font-size","0.9rem","min-width","45px",3,"ngClass"],[1,"bar-container","flex-grow-1","position-relative","rounded",2,"height","24px",3,"ngClass"],[1,"bar-fill","rounded","h-100",3,"ngClass"],[1,"bar-value","position-absolute","top-50","end-0","translate-middle-y","pe-2",2,"font-size","0.85rem"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"button",1),S("click",function(){return r.changeViewMode("week")}),w(2," Semana "),p(),h(3,"button",1),S("click",function(){return r.changeViewMode("month")}),w(4," M\xEAs "),p()(),h(5,"div",2),O(6,DR,8,20,"div",3),p()),e&2&&(v(),zn("active",r.viewMode==="week"),v(2),zn("active",r.viewMode==="month"),v(3),C("ngForOf",r.displayDays))},dependencies:[Ye,ge,ae,Qt,Ze,G0],styles:[".water-chart[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto}.bar-container[_ngcontent-%COMP%]{min-width:120px;position:relative}.bar-fill[_ngcontent-%COMP%]{transition:width .5s ease}.bar-value[_ngcontent-%COMP%]{white-space:nowrap;color:#000;font-weight:600}"]})};var yu=class{constructor(n,e,r){this.amount=n;this.time=e;this.date=r}},wu=class{constructor(n,e,r){this.food=n;this.quantity=e;this.unit=r}},fn=class{constructor(n,e,r=[]){this.name=n;this.time=e;this.foods=r}},_u=class{constructor(n,e=[]){this.day=n;this.meals=e}};var bu=class t{constructor(n,e){this.router=n;this.dataService=e}selectedDate=new Date().toISOString().split("T")[0];amount=null;time="";waterIntakes=[];filteredIntakes=[];dailyGoal=2e3;sensitivityLevel=1;sensitivityValue=100;ngOnInit(){this.loadData();let n=new Date;this.time=`${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`}onDateChangeFromChart(n){console.log("ChartDateChange",n),this.selectedDate=n}addQuickWaterIntake(){var n=this.sensitivityValue;let r=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0});var i=this.selectedDate;let o=this.waterIntakes.find(s=>s.date===i&&s.time===r);if(o)o.amount+=n;else{let s=new yu(n,r,i);this.waterIntakes.push(s)}this.waterIntakes=[...this.waterIntakes],this.updateFilteredData(),this.saveData()}removeQuickWaterIntake(){var n=this.sensitivityValue;let e=this.selectedDate,r=this.waterIntakes.filter(o=>o.date===e).sort((o,s)=>s.time.localeCompare(o.time));if(r.length===0)return;let i=r[0];if(i.amount>n)i.amount-=n;else{let o=this.waterIntakes.indexOf(i);o>-1&&this.waterIntakes.splice(o,1)}this.waterIntakes=[...this.waterIntakes],this.updateFilteredData(),this.saveData()}saveData(){this.dataService.saveData("water-intake",this.waterIntakes)}updateSensitivity(){this.sensitivityValue=50+this.sensitivityLevel*50}loadData(){let n=this.dataService.loadData("water-intake"),e=this.dataService.loadData("profileData");this.dailyGoal=e?.waterGoal??2e3,this.waterIntakes=n??[],this.waterIntakes.sort((r,i)=>{let o=new Date(`${r.date}T${r.time}`).getTime();return new Date(`${i.date}T${i.time}`).getTime()-o}),this.updateFilteredData()}getTotalWaterIntake(){return this.filteredIntakes.reduce((n,e)=>n+e.amount,0)}updateFilteredData(){this.filteredIntakes=this.waterIntakes.filter(n=>n.date===this.selectedDate)}static \u0275fac=function(e){return new(e||t)(I(be),I(oe))};static \u0275cmp=ee({type:t,selectors:[["app-water-intake"]],features:[he([oe])],decls:16,vars:9,consts:[[1,"container","my-4"],[1,"row","g-2","mb-3"],[1,"col-12"],["id","date","type","date",1,"form-control",3,"ngModelChange","change","ngModel"],["type","range","id","waterSensitivity",1,"form-range",3,"ngModelChange","input","ngModel","min","max"],[1,"col-6"],[1,"btn","btn-success","btn-lg","w-100",3,"click"],[1,"fas","fa-glass-water"],[1,"btn","btn-outline-secondary","btn-lg","w-100",3,"click"],[3,"dateSelected","waterEntries","waterGoal","selectedDate"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),$("ngModelChange",function(o){return W(r.selectedDate,o)||(r.selectedDate=o),o}),S("change",function(){return r.loadData()}),p()(),h(4,"div",2)(5,"div")(6,"input",4),$("ngModelChange",function(o){return W(r.sensitivityLevel,o)||(r.sensitivityLevel=o),o}),S("input",function(){return r.updateSensitivity()}),p()()(),h(7,"div",5)(8,"button",6),S("click",function(){return r.addQuickWaterIntake()}),R(9,"i",7),w(10),p()(),h(11,"div",5)(12,"button",8),S("click",function(){return r.removeQuickWaterIntake()}),R(13,"i",7),w(14),p()()(),h(15,"app-water-intake-chart",9),S("dateSelected",function(o){return r.onDateChangeFromChart(o)}),p()()),e&2&&(v(3),U("ngModel",r.selectedDate),v(3),U("ngModel",r.sensitivityLevel),C("min",1)("max",19),v(4),G(" +",r.sensitivityValue,"ml "),v(4),G(" -",r.sensitivityValue,"ml "),v(),C("waterEntries",r.waterIntakes)("waterGoal",r.dailyGoal)("selectedDate",r.selectedDate))},dependencies:[Ye,ge,Ae,fg,Ue,ke,ae,vu],encapsulation:2})};var Du=class t{label;current;goal;unit="";decimalDigits="1.1-1";successColor="bg-success";dangerColor="bg-danger";get percentage(){return Math.min(this.current/this.goal*100,100)}get barClass(){return this.current<=this.goal?this.successColor:this.dangerColor}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ee({type:t,selectors:[["app-progress-bar-card"]],inputs:{label:"label",current:"current",goal:"goal",unit:"unit",decimalDigits:"decimalDigits",successColor:"successColor",dangerColor:"dangerColor"},decls:9,vars:11,consts:[[1,"mb-2"],[1,"d-flex","justify-content-between"],[1,"progress",2,"height","15px"],["role","progressbar",1,"progress-bar"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"div",1)(2,"strong"),w(3),p(),h(4,"small"),w(5),ut(6,"number"),p()(),h(7,"div",2),R(8,"div",3),p()()),e&2&&(v(3),fe(r.label),v(2),Er(" ",dt(6,8,r.current,r.decimalDigits)," / ",r.goal,"",r.unit," "),v(3),d0(r.barClass),Ji("width",r.percentage,"%"))},dependencies:[ae,to,ge],encapsulation:2})};var CR=["modalElement"],ER=["*"];function IR(t,n){t&1&&R(0,"div",12)}var Ro=class t{modalElementRef;modalInstance;modalId="";title="";submit=new de;isVisible=!1;ngAfterViewInit(){}open(){this.isVisible=!0}close(){this.isVisible=!1}onSubmit(){this.submit.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ee({type:t,selectors:[["app-modal"]],viewQuery:function(e,r){if(e&1&&Gn(CR,5),e&2){let i;Dn(i=Cn())&&(r.modalElementRef=i.first)}},inputs:{modalId:"modalId",title:"title"},outputs:{submit:"submit"},ngContentSelectors:ER,decls:16,vars:4,consts:[["modalElement",""],["class","modal-backdrop fade show",4,"ngIf"],["tabindex","-1","aria-hidden","true",1,"modal",3,"ngClass","id"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"modal-backdrop","fade","show"]],template:function(e,r){if(e&1){let i=_e();y0(),O(0,IR,1,0,"div",1),h(1,"div",2,0)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),w(7),p(),h(8,"button",7),S("click",function(){return P(i),L(r.close())}),p()(),h(9,"div",8),w0(10),p(),h(11,"div",9)(12,"button",10),S("click",function(){return P(i),L(r.onSubmit())}),w(13,"Salvar"),p(),h(14,"button",11),S("click",function(){return P(i),L(r.close())}),w(15,"Cancelar"),p()()()()()}e&2&&(C("ngIf",r.isVisible),v(),C("ngClass",r.isVisible?"show d-block":"fade")("id",r.modalId),v(6),fe(r.title))},dependencies:[ae,Qt,Ve],encapsulation:2})};var $e=function(t){return t.readonly="readonly",t.readwrite="readwrite",t}($e||{}),Yb=new x(null),Jb=new x("Indexed DB"),SR=new x("Server Indexed DB");function MR(t,n){return t.objectStoreNames.contains(n)}function pt(t,n,e){if(!t){e("You need to use the openDatabase function to create a database before you query it!");return}MR(t,n)||e(`objectStore does not exists: ${n}`)}function qe(t,n){let e=t.transaction(n.storeName,n.dbMode);return e.onerror=n.error,e.onabort=n.abort,e}function ze(t,n,e,r){return{storeName:n,dbMode:t,error:i=>{e(i)},abort:i=>{e(i)}}}var pg=[];function Ie(t,n,e,r){return new Promise((i,o)=>{t||o("IndexedDB not available");let s=t.open(n,e),a;s.onsuccess=()=>{a=s.result,pg.push(a),i(a)},s.onerror=()=>{o(`IndexedDB error: ${s.error}`)},typeof r=="function"&&(s.onupgradeneeded=l=>{r(l,a)})})}function hg(t,n,e,r,i){return m(this,null,function*(){return new Promise((o,s)=>{if(!t)return;let a=t.open(n,e);a.onupgradeneeded=l=>m(this,null,function*(){let c=l.target.result,u=r.map(g=>m(this,null,function*(){if(!c.objectStoreNames.contains(g.store)){let f=c.createObjectStore(g.store,g.storeConfig);for(let y of g.storeSchema)f.createIndex(y.name,y.keypath,y.options)}}));yield Promise.all(u);let d=i&&i();if(d){let g=Object.keys(d).map(f=>parseInt(f,10)).filter(f=>f>l.oldVersion).sort((f,y)=>f-y);for(let f of g)d[f](c,a.transaction)}c.close(),o()}),a.onsuccess=l=>{l.target.result.close(),o()},a.onerror=l=>{s(l)}})})}function xR(t,n,e){if(!t||!n||!e)throw Error('Params: "dbName", "version", "storeName" are mandatory.');return new k(r=>{try{let i=n+1,o=indexedDB.open(t,i);o.onupgradeneeded=s=>{let a=s.target.result;a.deleteObjectStore(e),a.close(),console.log("onupgradeneeded"),r.next(),r.complete()},o.onerror=s=>r.error(s)}catch(i){r.error(i)}})}function TR(t){return new Promise((n,e)=>{if(!t){e(new Error("No database to close"));return}try{t.close(),n()}catch(r){e(`Error closing database: ${r}`)}})}function Se(){return function(t,n,e){let r=e.value;return e.value=function(...i){let o=r.apply(this,i);return o instanceof k?o.pipe(hn(()=>m(this,null,function*(){let s=pg.map(a=>m(this,null,function*(){yield TR(a)}));yield Promise.all(s),pg.length=0}))):o},e}}var mg=(()=>{class t{constructor(e,r){this.dbConfigs=e,this.indexedDB=r,this.defaultDatabaseName=null,Object.values(this.dbConfigs).forEach((i,o,s)=>this.instanciateConfig(i,s.length===1))}instanciateConfig(e,r){return m(this,null,function*(){if(!e.name)throw new Error("NgxIndexedDB: Please, provide the dbName in the configuration");if((e.isDefault??!1)&&this.defaultDatabaseName)throw new Error("NgxIndexedDB: Only one database can be set as default");((e.isDefault??!1)&&!this.defaultDatabaseName||r)&&(this.defaultDatabaseName=e.name,this.selectedDb=e.name),yield hg(this.indexedDB,e.name,e.version,e.objectStoresMeta,e.migrationFactory),Ie(this.indexedDB,e.name).then(i=>{i.version!==e.version&&(M0()&&(console.warn(`
            Your DB Config doesn't match the most recent version of the DB with name ${e.name}, please update it
            DB current version: ${i.version};
            Your configuration: ${e.version};
            `),console.warn(`Using latest version ${i.version}`)),this.dbConfigs[e.name].version=i.version),i.close()})})}get dbConfig(){return this.dbConfigs[this.selectedDb]}getDatabaseVersion(){return new k(e=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(r=>{e.next(r.version),e.complete()}).catch(r=>e.error(`error during get version of database => ${r} `))})}selectDb(e){if(e=e??this.defaultDatabaseName,!e)throw new Error("No database name specified and no default database set.");if(!Object.keys(this.dbConfigs).includes(e))throw new Error(`NgxIndexedDB: Database ${e} is not initialized.`);this.selectedDb=e}createObjectStore(e,r){return m(this,null,function*(){let i=[e];yield hg(this.indexedDB,this.dbConfig.name,++this.dbConfig.version,i,r)})}createDynamicObjectStore(e,r){return m(this,null,function*(){let i=[e];yield hg(this.indexedDB,this.dbConfig.name,this.dbConfig.version,i,r)})}add(e,r,i){return new k(o=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(s=>{let l=qe(s,ze($e.readwrite,e,d=>o.error(d))).objectStore(e),u=!!i?l.add(r,i):l.add(r);u.onsuccess=d=>m(this,null,function*(){let g=d.target.result,f=l.get(g);f.onsuccess=y=>{o.next(y.target.result),o.complete()},f.onerror=y=>{o.error(y)}}),u.onerror=d=>{o.error(d)}}).catch(s=>o.error(s))})}bulkAdd(e,r){let i=new Promise((o,s)=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(a=>{let c=qe(a,ze($e.readwrite,e,o,s)).objectStore(e),u=r.map(d=>new Promise(g=>{let f=d.key;delete d.key;let _=!!f?c.add(d,f):c.add(d);_.onsuccess=D=>{let A=D.target.result;g(A)}}));o(Promise.all(u))}).catch(a=>s(a))});return pe(i)}bulkDelete(e,r){let i=r.map(o=>new Promise((s,a)=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(l=>{let c=qe(l,ze($e.readwrite,e,a,s));c.objectStore(e).delete(o),c.oncomplete=()=>{this.getAll(e).pipe(Bt(1)).subscribe(d=>{s(d)})}}).catch(l=>a(l))}));return pe(Promise.all(i))}getByKey(e,r){return new k(i=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{let l=qe(o,ze($e.readonly,e,i.error)).objectStore(e).get(r);l.onsuccess=c=>{i.next(c.target.result),i.complete()},l.onerror=c=>{i.error(c)}}).catch(o=>i.error(o))})}bulkGet(e,r){let i=r.map(o=>this.getByKey(e,o));return new k(o=>{Lr(i).subscribe(s=>{o.next(s),o.complete()})})}getByID(e,r){return new k(i=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{pt(o,e,c=>i.error(c));let l=qe(o,ze($e.readonly,e,i.error,i.next)).objectStore(e).get(r);l.onsuccess=c=>{i.next(c.target.result),i.complete()}}).catch(o=>i.error(o))})}getByIndex(e,r,i){return new k(o=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(s=>{pt(s,e,d=>o.error(d));let u=qe(s,ze($e.readonly,e,o.error)).objectStore(e).index(r).get(i);u.onsuccess=d=>{o.next(d.target.result),o.complete()}}).catch(s=>o.error(s))})}getAll(e){return new k(r=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(i=>{pt(i,e,l=>r.error(l));let a=qe(i,ze($e.readonly,e,r.error,r.next)).objectStore(e).getAll();a.onerror=l=>{r.error(l)},a.onsuccess=({target:{result:l}})=>{r.next(l),r.complete()}}).catch(i=>r.error(i))})}update(e,r){return new k(i=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{pt(o,e,c=>i.error(c));let a=qe(o,ze($e.readwrite,e,c=>i.error(c))).objectStore(e),l=a.put(r);l.onsuccess=c=>m(this,null,function*(){let u=c.target.result,d=a.get(u);d.onsuccess=g=>{i.next(g.target.result),i.complete()}})}).catch(o=>i.error(o))})}bulkPut(e,r){let i;return new k(o=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(s=>{pt(s,e,l=>o.error(l)),i=qe(s,ze($e.readwrite,e,l=>o.error(l)));let a=i.objectStore(e);r.forEach((l,c)=>{let u=a.put(l);c===r.length-1&&(u.onsuccess=d=>{i.commit(),o.next(d.target.result),o.complete()}),u.onerror=d=>{i.abort(),o.error(d)}})}).catch(s=>{i?.abort(),o.error(s)})})}delete(e,r){return new k(i=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{pt(o,e,l=>i.error(l));let s=qe(o,ze($e.readwrite,e,l=>i.error(l)));s.objectStore(e).delete(r),s.onerror=l=>i.error(l),s.oncomplete=()=>{this.getAll(e).pipe(Bt(1)).subscribe({next:l=>{i.next(l)},error:l=>i.error(l),complete:()=>i.complete()})}}).catch(o=>i.error(o))})}deleteByKey(e,r){return new k(i=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{pt(o,e,l=>i.error(l));let s=qe(o,ze($e.readwrite,e,l=>i.error(l)));s.objectStore(e).delete(r),s.onerror=l=>i.error(l),s.oncomplete=()=>{i.next(),i.complete()}}).catch(o=>i.error(o))})}deleteAllByIndex(e,r,i,o){return new k(s=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(a=>{pt(a,e,g=>s.error(g));let d=qe(a,ze($e.readwrite,e,s.error)).objectStore(e).index(r).openCursor(i,o);d.onerror=g=>s.error(g),d.onsuccess=g=>{let f=g.target.result;f?(f.delete(),f.continue()):(s.next(),s.complete())}}).catch(a=>s.error(a))})}clear(e){return new k(r=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(i=>{pt(i,e,a=>r.error(a));let o=qe(i,ze($e.readwrite,e,a=>r.error(a)));o.objectStore(e).clear(),o.onerror=a=>r.error(a),o.oncomplete=()=>{r.next(),r.complete()}}).catch(i=>r.error(i))})}deleteDatabase(){return new k(e=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(r=>m(this,null,function*(){r.close();let i=this.indexedDB.deleteDatabase(this.dbConfig.name);i.onsuccess=()=>{e.next(),e.complete()},i.onerror=o=>e.error(o),i.onblocked=()=>{console.warn("Delete blocked: Ensure all tabs, instances, or connections are closed. Database name:",this.dbConfig.name),e.error(new Error("Unable to delete database because it's blocked"))}})).catch(r=>e.error(r))})}openCursor(e){let{storeName:r,query:i,direction:o,mode:s=$e.readonly}=e;return new k(a=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(l=>{pt(l,r,g=>a.error(g));let c=qe(l,ze(s,r,a.error)),d=c.objectStore(r).openCursor(i,o);c.oncomplete=()=>a.complete(),d.onerror=g=>a.error(g),d.onsuccess=g=>{let f=g.target.result;f&&a.next(f)}}).catch(l=>a.error(l))})}openCursorByIndex(e){let{storeName:r,indexName:i,query:o,direction:s,mode:a=$e.readonly}=e;return new k(l=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(c=>{pt(c,r,y=>l.error(y));let u=qe(c,ze(a,r,l.error)),f=u.objectStore(r).index(i).openCursor(o,s);u.oncomplete=()=>l.complete(),f.onerror=y=>l.error(y),f.onsuccess=y=>{let _=y.target.result;_&&l.next(_)}}).catch(c=>l.error(c))})}getAllByIndex(e,r,i,o){return new k(s=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(a=>{pt(a,e,f=>s.error(f));let d=qe(a,ze($e.readonly,e,s.error)).objectStore(e).index(r).openCursor(i,o),g=[];d.onerror=f=>s.error(f),d.onsuccess=f=>{let y=f.target.result;y?(g.push(y.value),y.continue()):(s.next(g),s.complete())}}).catch(a=>s.error(a))})}getAllKeysByIndex(e,r,i,o){return new k(s=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(a=>{pt(a,e,f=>s.error(f));let u=qe(a,ze($e.readonly,e,s.error)).objectStore(e).index(r),d=[],g=u.openKeyCursor(i,o);g.onerror=f=>s.error(f),g.onsuccess=f=>{let y=f.target.result;if(y){let{primaryKey:_,key:D}=y;d.push({primaryKey:_,key:D}),y.continue()}else s.next(d),s.complete()}}).catch(a=>s.error(a))})}count(e,r){return new k(i=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(o=>{pt(o,e,c=>i.error(c));let l=qe(o,ze($e.readonly,e,i.error)).objectStore(e).count(r);l.onerror=c=>i.error(c),l.onsuccess=c=>{i.next(c.target.result),i.complete()}}).catch(o=>i.error(o))})}countByIndex(e,r,i){return new k(o=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(s=>{pt(s,e,d=>o.error(d));let u=qe(s,ze($e.readonly,e,o.error)).objectStore(e).index(r).count(i);u.onerror=d=>o.error(d),u.onsuccess=d=>{o.next(d.target.result),o.complete()}}).catch(s=>o.error(s))})}deleteObjectStore(e){return xR(this.dbConfig.name,++this.dbConfig.version,e)}getAllObjectStoreNames(){return new k(e=>{Ie(this.indexedDB,this.dbConfig.name,this.dbConfig.version).then(r=>{e.next(Array.from(r.objectStoreNames)),e.complete()}).catch(r=>e.error(r))})}static{this.\u0275fac=function(r){return new(r||t)(T(Yb),T(Jb))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac})}}return Ce([Se()],t.prototype,"getDatabaseVersion",null),Ce([Se()],t.prototype,"add",null),Ce([Se()],t.prototype,"bulkAdd",null),Ce([Se()],t.prototype,"bulkDelete",null),Ce([Se()],t.prototype,"getByKey",null),Ce([Se()],t.prototype,"bulkGet",null),Ce([Se()],t.prototype,"getByID",null),Ce([Se()],t.prototype,"getByIndex",null),Ce([Se()],t.prototype,"getAll",null),Ce([Se()],t.prototype,"update",null),Ce([Se()],t.prototype,"bulkPut",null),Ce([Se()],t.prototype,"delete",null),Ce([Se()],t.prototype,"deleteByKey",null),Ce([Se()],t.prototype,"deleteAllByIndex",null),Ce([Se()],t.prototype,"clear",null),Ce([Se()],t.prototype,"deleteDatabase",null),Ce([Se()],t.prototype,"openCursor",null),Ce([Se()],t.prototype,"openCursorByIndex",null),Ce([Se()],t.prototype,"getAllByIndex",null),Ce([Se()],t.prototype,"getAllKeysByIndex",null),Ce([Se()],t.prototype,"count",null),Ce([Se()],t.prototype,"countByIndex",null),Ce([Se()],t.prototype,"getAllObjectStoreNames",null),t})(),gg=class{cmp(){return 0}databases(){return Promise.resolve([])}deleteDatabase(){return{onupgradeneeded:null,onblocked:null,onerror:null,onsuccess:null,error:null}}open(){return{onupgradeneeded:null,onblocked:null,onerror:null,onsuccess:null,error:null}}};function Xb(){Ff(Xb);let t=b(wn),n=b(SR,{optional:!0})??new gg;return Q0(t)?b(Qe).defaultView.indexedDB:n}var eD=(...t)=>wr([...AR(...t)]),AR=(...t)=>{let n=t.reduce((e,r)=>(e[r.name]=r,e),{});return[mg,{provide:Yb,useValue:n},{provide:Jb,useFactory:Xb}]};var kn=class t{dbService=b(mg);add(n,e){return m(this,null,function*(){let i=(yield nn(this.dbService.add(n,e)))?.id;if(i==null)throw new Error("Falha ao adicionar item no IndexedDB: ID n\xE3o encontrado");return J(E({},e),{id:i})})}getAll(n){return m(this,null,function*(){let e=yield nn(this.dbService.getAll(n));return Array.isArray(e)?e:[]})}getById(n,e){return m(this,null,function*(){return yield nn(this.dbService.getByKey(n,e))})}update(n,e){return m(this,null,function*(){yield nn(this.dbService.update(n,e))})}delete(n,e){return m(this,null,function*(){yield nn(this.dbService.delete(n,e))})}clear(n){return m(this,null,function*(){yield nn(this.dbService.clear(n))})}count(n){return m(this,null,function*(){let e=yield nn(this.dbService.count(n));return typeof e=="number"?e:0})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var NR=["myModal"],RR=["myModal2"],kR=t=>({active:t});function OR(t,n){if(t&1){let e=_e();h(0,"li",35),S("click",function(){let i=P(e).$implicit,o=F();return L(o.selectedDay=o.getDayNameByIndex(i,"en-US"))}),h(1,"a",36),w(2),p()()}if(t&2){let e=n.$implicit,r=F();v(),C("ngClass",Ir(2,kR,r.selectedDay===r.getDayNameByIndex(e,"en-US"))),v(),G(" ",r.getDayNameByIndex(e,"pt-BR").slice(0,3)," ")}}function FR(t,n){if(t&1){let e=_e();h(0,"li")(1,"a",37),S("click",function(){let i=P(e).$implicit,o=F();return L(o.criarRefeicao(i))}),w(2),p()()}if(t&2){let e=n.$implicit;v(2),G(" Criar ",e.name," ")}}function PR(t,n){if(t&1&&(h(0,"div",39)(1,"div",33)(2,"div",8),R(3,"app-progress-bar-card",40),p(),h(4,"div",8),R(5,"app-progress-bar-card",41),p(),h(6,"div",8),R(7,"app-progress-bar-card",42),p(),h(8,"div",8),R(9,"app-progress-bar-card",43),p()()()),t&2){let e=F().ngIf,r=F(2);v(3),C("current",e.calories)("goal",r.profileData.calorieGoal),v(2),C("current",e.protein)("goal",r.profileData.proteinGoal),v(2),C("current",e.carbs)("goal",r.profileData.carbGoal),v(2),C("current",e.fat)("goal",r.profileData.fatGoal)}}function LR(t,n){if(t&1&&(Dr(0),O(1,PR,10,8,"div",38),Cr()),t&2){let e=F(2);v(),C("ngIf",e.profileData)}}function jR(t,n){t&1&&(Dr(0),h(1,"div",44)(2,"div"),R(3,"i",45),w(4," Voc\xEA n\xE3o tem refei\xE7\xF5es cadastradas no plano de hoje. Crie uma nos bot\xF5es acima. "),p()(),Cr())}function VR(t,n){if(t&1&&(Dr(0),O(1,LR,2,1,"ng-container",14)(2,jR,5,0,"ng-container",14),Cr()),t&2){let e=n.ngIf,r=F();v(),C("ngIf",r.calculateDayNutrition(e)),v(),C("ngIf",r.getSelectedDayPlan().meals.length==0)}}function BR(t,n){if(t&1&&(h(0,"span"),w(1),ut(2,"number"),p()),t&2){let e=F().$implicit,r=F();v(),G(" (",dt(2,1,r.calculateMealNutrition(e).calories/r.profileData.calorieGoal*100,"1.0-0"),"%) ")}}function UR(t,n){t&1&&(Dr(0),h(1,"div",57),R(2,"i",45),w(3," Adicione alimentos nessa refei\xE7\xE3o. "),p(),Cr())}function $R(t,n){if(t&1){let e=_e();h(0,"li")(1,"div",58)(2,"span",59),w(3),p(),h(4,"span",60),w(5),p(),h(6,"button",61),S("click",function(){let i=P(e).index,o=F().index,s=F();return L(s.deleteFood(o,i))}),R(7,"i",62),p()()()}if(t&2){let e=n.$implicit;v(3),Er("",e.quantity," ",e.unit," de ",e.food.description,""),v(2),Er("",e.quantity," ",e.unit," de ",e.food.description,"")}}function HR(t,n){if(t&1){let e=_e();h(0,"li",46)(1,"div",47)(2,"div")(3,"h5",48)(4,"strong"),w(5),p(),w(6),p(),h(7,"div",49)(8,"div"),w(9),ut(10,"number"),O(11,BR,3,4,"span",14),p(),h(12,"div",50),w(13),ut(14,"number"),p(),h(15,"div",50),w(16),ut(17,"number"),p(),h(18,"div",50),w(19),ut(20,"number"),p()()(),h(21,"div")(22,"button",51),S("click",function(){let i=P(e).index,o=F();return L(o.deleteMeal(i))}),R(23,"i",52),p()()(),O(24,UR,4,0,"ng-container",14),h(25,"ul",53),O(26,$R,8,6,"li",12),p(),h(27,"div",54)(28,"button",55),S("click",function(){let i=P(e).index,o=F();return o.selectedMealIndex=i,L(o.openModal())}),R(29,"i",56),w(30," Adicionar alimento "),p()()()}if(t&2){let e=n.$implicit,r=F();v(5),fe(e.name),v(),G(" \xE0s ",e.time," "),v(3),G(" ",dt(10,9,r.calculateMealNutrition(e).calories,"1.0-0")," kcal "),v(2),C("ngIf",r.profileData),v(2),G("",dt(14,12,r.calculateMealNutrition(e).protein,"1.1-1"),"g P"),v(3),G("",dt(17,15,r.calculateMealNutrition(e).carbs,"1.1-1"),"g C"),v(3),G("",dt(20,18,r.calculateMealNutrition(e).fat,"1.1-1"),"g G"),v(5),C("ngIf",e.foods.length===0),v(2),C("ngForOf",e.foods)}}function WR(t,n){if(t&1){let e=_e();h(0,"button",65),S("click",function(){let i=P(e).$implicit,o=F(2);return L(o.selectFood(i))}),w(1),p()}if(t&2){let e=n.$implicit;v(),G(" ",e.description," ")}}function qR(t,n){if(t&1&&(h(0,"div",63),O(1,WR,2,1,"button",64),p()),t&2){let e=F();v(),C("ngForOf",e.filteredFoods)}}function zR(t,n){if(t&1){let e=_e();h(0,"div",66)(1,"div",67)(2,"input",68),$("ngModelChange",function(i){let o=P(e).$implicit,s=F();return W(s.diasSelecionados[s.getDayNameByIndex(o,"en-US")],i)||(s.diasSelecionados[s.getDayNameByIndex(o,"en-US")]=i),L(i)}),p(),h(3,"label",69),w(4),p()()()}if(t&2){let e=n.$implicit,r=F();v(2),C("id",r.getDayNameByIndex(e,"en-US")),U("ngModel",r.diasSelecionados[r.getDayNameByIndex(e,"en-US")]),v(),C("for",r.getDayNameByIndex(e,"en-US")),v(),fe(r.getDayNameByIndex(e,"pt-BR").slice(0,3))}}var Eu=class t{constructor(n,e){this.dataService=n;this.dbservice=e}myModal;myModal2;Math=Math;importedFoods=[];profileData=null;selectedDay="Sunday";mealPlans=[];newMealName="";newMealTime=new Date().toISOString().substring(11,16);newFoodDescription="";newFoodQuantity=null;newFoodUnit="g";selectedMealIndex=null;foodSearchText="";filteredFoods=[];selectedFood=null;abrirCopia=!1;diasSelecionados={};dayIndexes=[1,2,3,4,5,6,7];predefinedMeals=[new fn("Caf\xE9","08:00"),new fn("Lanche Manh\xE3","10:00"),new fn("Almo\xE7o","12:00"),new fn("Lanche Tarde","15:00"),new fn("Ceia","18:00"),new fn("Janta","21:00")];ngOnInit(){return m(this,null,function*(){let n=this.dataService.loadData("meal-plans");this.mealPlans=n??[];let e=(yield this.dbservice.getAll("foods"))||[];this.importedFoods=e??[];let r=this.dataService.loadData("profileData");this.profileData=r??null;let i=new Date().getDay()+1;console.log(i),this.selectedDay=this.getDayNameByIndex(i,"en-US"),console.log(this.selectedDay)})}getDayNameByIndex(n,e="en-US",r="long"){let i=new Date(Date.UTC(2021,5,6)),o=new Date(i);o.setDate(i.getDate()+n);var a=new Intl.DateTimeFormat(e,{weekday:r}).format(o);return a.charAt(0).toUpperCase()+a.slice(1)}copiarPlanoParaDias(){let n=this.getSelectedDayPlan();if(n){for(let e of this.dayIndexes){let r=this.getDayNameByIndex(e);if(this.diasSelecionados[r]&&r!==n.day){let i=this.mealPlans.findIndex(s=>s.day===r),o={day:r,meals:JSON.parse(JSON.stringify(n.meals))};i!==-1?this.mealPlans[i]=o:this.mealPlans.push(o)}}this.myModal2.close(),this.diasSelecionados={}}}onFoodSearchChange(){let n=this.foodSearchText.toLowerCase();this.filteredFoods=n.length>=3?this.importedFoods.filter(e=>e.description.toLowerCase().includes(n)):[]}selectFood(n){this.selectedFood=n,this.foodSearchText=n.description,this.filteredFoods=[]}calculateMealNutrition(n){let e={calories:0,protein:0,carbs:0,fat:0};for(let r of n.foods){let i=this.importedFoods.find(o=>o.description.toLowerCase()===r.food.description.toLowerCase());if(i){let o=r.quantity/100;e.calories+=i.calories*o,e.protein+=i.protein*o,e.carbs+=i.carbs*o,e.fat+=i.fat*o}}return e}calculateDayNutrition(n){let e={calories:0,protein:0,carbs:0,fat:0};for(let r of n.meals){let i=this.calculateMealNutrition(r);e.calories+=i.calories,e.protein+=i.protein,e.carbs+=i.carbs,e.fat+=i.fat}return e}criarRefeicao(n){let e=this.getSelectedDayPlan();if(e.meals.some(i=>i.time===n.time&&i.name.toLowerCase()===n.name.toLowerCase())){alert(`J\xE1 existe uma refei\xE7\xE3o chamada "${n.name}" \xE0s ${n.time}.`);return}e.meals.push(new fn(n.name,n.time)),e.meals.sort((i,o)=>i.time.localeCompare(o.time)),this.saveMealPlans()}addMeal(){let n=this.getSelectedDayPlan();if(this.newMealName&&this.newMealTime){if(n.meals.some(r=>r.time===this.newMealTime&&r.name.toLowerCase()===this.newMealName.toLowerCase())){alert(`J\xE1 existe uma refei\xE7\xE3o chamada "${this.newMealName}" \xE0s ${this.newMealTime}.`);return}n.meals.push(new fn(this.newMealName,this.newMealTime)),n.meals.sort((r,i)=>r.time.localeCompare(i.time)),this.saveMealPlans(),this.newMealName="",this.newMealTime=new Date().toISOString().substring(11,16)}}addFoodToMeal(){if(this.selectedMealIndex!==null&&this.selectedFood&&this.newFoodQuantity){let n=new wu(this.selectedFood,this.newFoodQuantity,this.newFoodUnit);this.getSelectedDayPlan().meals[this.selectedMealIndex].foods.push(n),this.saveMealPlans(),this.selectedFood=null,this.foodSearchText="",this.newFoodQuantity=null,this.newFoodUnit="g",this.myModal.close()}}deleteMeal(n){this.getSelectedDayPlan().meals.splice(n,1),this.saveMealPlans()}deleteFood(n,e){this.getSelectedDayPlan().meals[n].foods.splice(e,1),this.saveMealPlans()}getSelectedDayPlan(){let n=this.mealPlans.find(e=>e.day===this.selectedDay);return n||(n=new _u(this.selectedDay),this.mealPlans.push(n)),n}saveMealPlans(){this.dataService.saveData("meal-plans",this.mealPlans)}getMealCalories(n){return n.foods.reduce((e,r)=>e+r.food.calories*r.quantity/(r.food.baseQuantity??100),0)}getMealProtein(n){return n.foods.reduce((e,r)=>e+r.food.protein*r.quantity/(r.food.baseQuantity??100),0)}getMealFat(n){return n.foods.reduce((e,r)=>e+r.food.fat*r.quantity/(r.food.baseQuantity??100),0)}getMealCarbs(n){return n.foods.reduce((e,r)=>e+r.food.carbs*r.quantity/(r.food.baseQuantity??100),0)}openModal(){this.myModal.open()}static \u0275fac=function(e){return new(e||t)(I(oe),I(kn))};static \u0275cmp=ee({type:t,selectors:[["app-meal-plan"]],viewQuery:function(e,r){if(e&1&&(Gn(NR,5),Gn(RR,5)),e&2){let i;Dn(i=Cn())&&(r.myModal=i.first),Dn(i=Cn())&&(r.myModal2=i.first)}},features:[he([oe])],decls:46,vars:9,consts:[["myModal",""],["myModal2",""],[1,"container","mt-2"],[1,"mb-3"],[1,"nav","nav-tabs","d-flex","flex-nowrap","w-100"],["class","nav-item flex-fill text-center mx-0 px-0",3,"click",4,"ngFor","ngForOf"],[1,"mb-2",3,"ngSubmit"],[1,"row","g-2"],[1,"col-6","col-md-6"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"w-100","btn","btn-success","dropdown-toggle"],[1,"dropdown-menu","w-100"],[4,"ngFor","ngForOf"],[1,"w-100","btn","btn-outline-primary",3,"click"],[4,"ngIf"],[1,"list-group"],["class","list-group-item px-2 px-sm-3",4,"ngFor","ngForOf"],["modalId","reusableModal","title","Adicionar alimento",3,"submit"],[1,"row","g-3"],[1,"col-md-4","position-relative"],["for","food-description",1,"form-label"],["id","food-description","placeholder","Pesquisar ...","type","text","name","foodSearchText","autocomplete","off",1,"form-control",3,"ngModelChange","input","ngModel"],["class","list-group position-absolute z-3 w-100",4,"ngIf"],[1,"col-md-4"],["for","food-quantity",1,"form-label"],["id","food-quantity","type","number","name","quantity","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","food-unit",1,"form-label"],["id","food-unit","name","unit","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","g"],["value","ml"],["title","Copiar",3,"submit"],[1,"bg-light-subtle","border","rounded","mt-2","p-2"],[1,"form-label"],[1,"row"],["class","col-3",4,"ngFor","ngForOf"],[1,"nav-item","flex-fill","text-center","mx-0","px-0",3,"click"],["aria-current","page",1,"nav-link","mx-0","px-0",3,"ngClass"],[1,"dropdown-item",3,"click"],["class","mb-2",4,"ngIf"],[1,"mb-2"],["label","Calorias","unit","kcal","decimalDigits","1.0-0",3,"current","goal"],["label","Prote\xEDna","unit","g",3,"current","goal"],["label","Carboidratos","unit","g",3,"current","goal"],["label","Gorduras","unit","g",3,"current","goal"],["role","alert",1,"alert","alert-warning","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-dumbbell","me-2"],[1,"list-group-item","px-2","px-sm-3"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","mb-2"],[1,"mb-1"],[1,"d-flex","justify-content-around","bg-secondary","text-white","rounded-pill","px-2","gap-1","fw-bold",2,"font-size","x-small"],[1,"border-start","border-white","ps-1"],["type","button","title","Remover Refei\xE7\xE3o",1,"btn","btn-danger","p-0","d-flex","align-items-center","justify-content-center",2,"width","22px","height","22px",3,"click"],[1,"fas","fa-times"],[1,"list-unstyled","ms-1"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-outline-primary","btn-sm","mt-2",3,"click"],[1,"fas","fa-plus","me-1"],["role","alert",1,"alert","alert-warning","d-flex","align-items-center"],[1,"d-flex","justify-content-between","align-items-center","my-1"],[1,"d-block","d-sm-none","fw-medium",2,"font-size","0.8rem"],[1,"d-none","d-sm-block"],["type","button","title","Remover Alimento",1,"btn","btn-danger","p-0","d-flex","align-items-center","justify-content-center",2,"width","22px","height","22px",3,"click"],[1,"fas","fa-times","small"],[1,"list-group","position-absolute","z-3","w-100"],["type","button","class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"col-3"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModelChange","id","ngModel"],[1,"form-check-label",3,"for"]],template:function(e,r){if(e&1){let i=_e();h(0,"div",2)(1,"div",3)(2,"ul",4),O(3,OR,3,4,"li",5),p()(),h(4,"form",6),S("ngSubmit",function(){return P(i),L(r.addMeal())}),h(5,"div",7)(6,"div",8)(7,"div",9)(8,"button",10),w(9," Criar Refei\xE7\xE3o "),p(),h(10,"ul",11),O(11,FR,3,1,"li",12),p()()(),h(12,"div",8)(13,"button",13),S("click",function(){P(i);let s=ei(40);return L(s.open())}),w(14," Copiar para ... "),p()()()(),O(15,VR,3,2,"ng-container",14),h(16,"ul",15),O(17,HR,31,21,"li",16),p()(),h(18,"app-modal",17,0),S("submit",function(){return P(i),L(r.addFoodToMeal())}),h(20,"form")(21,"div",18)(22,"div",19)(23,"label",20),w(24,"Nome:"),p(),h(25,"input",21),$("ngModelChange",function(s){return P(i),W(r.foodSearchText,s)||(r.foodSearchText=s),L(s)}),S("input",function(){return P(i),L(r.onFoodSearchChange())}),p(),O(26,qR,2,1,"div",22),p(),h(27,"div",23)(28,"label",24),w(29,"Quantidade:"),p(),h(30,"input",25),$("ngModelChange",function(s){return P(i),W(r.newFoodQuantity,s)||(r.newFoodQuantity=s),L(s)}),p()(),h(31,"div",23)(32,"label",26),w(33,"Unidade:"),p(),h(34,"select",27),$("ngModelChange",function(s){return P(i),W(r.newFoodUnit,s)||(r.newFoodUnit=s),L(s)}),h(35,"option",28),w(36,"g"),p(),h(37,"option",29),w(38,"ml"),p()()()()()(),h(39,"app-modal",30,1),S("submit",function(){return P(i),L(r.copiarPlanoParaDias())}),h(41,"div",31)(42,"label",32),w(43,"Copiar planejamento do dia para:"),p(),h(44,"div",33),O(45,zR,5,4,"div",34),p()()()}e&2&&(v(3),C("ngForOf",r.dayIndexes),v(8),C("ngForOf",r.predefinedMeals),v(4),C("ngIf",r.getSelectedDayPlan()),v(2),C("ngForOf",r.getSelectedDayPlan().meals),v(8),U("ngModel",r.foodSearchText),v(),C("ngIf",r.filteredFoods.length>0),v(4),U("ngModel",r.newFoodQuantity),v(4),U("ngModel",r.newFoodUnit),v(11),C("ngForOf",r.dayIndexes))},dependencies:[ae,Qt,Ze,Ve,to,ge,An,Nr,Rr,Ae,Vt,cg,Nn,Ue,Tn,sr,ke,dn,Ye,Kb,Du,Ro],encapsulation:2})};function GR(t,n){t&1&&(Dr(0),h(1,"div",4)(2,"div"),R(3,"i",5),w(4," Adcione alimentos no seu plano alimentar para que possamos gerar sua lista de compras semanal "),p()(),Cr())}function QR(t,n){if(t&1&&(h(0,"li",6)(1,"div",7)(2,"div",8),R(3,"input",9),p(),h(4,"div",10)(5,"span"),w(6),p(),h(7,"span",11)(8,"strong"),w(9),p()()()()()),t&2){let e=n.$implicit,r=F();v(6),fe(e.description),v(3),fe(r.formatQuantity(e.totalQuantity,e.unit))}}var Iu=class t{constructor(n){this.dataService=n}shoppingList=[];ngOnInit(){this.generateShoppingList()}formatQuantity(n,e){return(e==="g"||e==="ml")&&n>=1e3?`${(n/1e3).toFixed(2).replace(".",",")}${e==="g"?"kg":"L"}`:`${n}${e}`}generateShoppingList(){let n=this.dataService.loadData("meal-plans")??[],e=new Map;n.forEach(r=>{r.meals.forEach(i=>{i.foods.forEach(o=>{let s=o.food;if(!s)return;let a=s.baseQuantity??1,l=s.baseUnit??"",c=o.quantity,u=`${s.description}-${l}`;e.has(u)?e.get(u).totalQuantity+=c:e.set(u,{description:s.description,totalQuantity:c,unit:l})})})}),this.shoppingList=Array.from(e.values())}static \u0275fac=function(e){return new(e||t)(I(oe))};static \u0275cmp=ee({type:t,selectors:[["app-shopping-list"]],features:[he([oe])],decls:4,vars:2,consts:[[1,"container","mt-3"],[4,"ngIf"],[1,"list-group","mb-4"],["class","list-group-item ",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-warning","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-dumbbell","me-2"],[1,"list-group-item"],[1,"d-flex","flex-nowrap"],[1,"me-3"],["type","checkbox",1,"form-check-input"],[1,"d-flex","flex-nowrap","justify-content-between","w-100"],[1,"ps-3","text-nowrap"]],template:function(e,r){e&1&&(h(0,"div",0),O(1,GR,5,0,"ng-container",1),h(2,"ul",2),O(3,QR,10,2,"li",3),p()()),e&2&&(v(),C("ngIf",r.shoppingList.length==0),v(2),C("ngForOf",r.shoppingList))},dependencies:[ae,Ze,Ve,ge,Ye],encapsulation:2})};var Su=class t{constructor(n){this.http=n}jsonPath=null;setJsonPath(n){this.jsonPath=n}load(){return m(this,null,function*(){if(!this.jsonPath)throw new Error("Caminho do JSON n\xE3o definido. Use setJsonPath(path).");try{return yield nn(this.http.get(this.jsonPath))}catch(n){throw console.error("Erro ao carregar JSON:",n),n}})}static \u0275fac=function(e){return new(e||t)(T(cs))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var KR=["addModal"],YR=["createWorkoutModal"],JR=["EditModal"],vg=t=>({disabled:t});function XR(t,n){if(t&1&&(h(0,"option",39),w(1),p()),t&2){let e=n.$implicit;C("value",e.name),v(),fe(e.name)}}function ek(t,n){t&1&&(h(0,"div",40)(1,"div"),R(2,"i",41),w(3," Voc\xEA ainda n\xE3o possui treinos. Tente criar um nos bot\xF5es acima. "),p()())}function tk(t,n){t&1&&(h(0,"div",40)(1,"div"),R(2,"i",41),w(3," Voc\xEA ainda n\xE3o possui exercicios no seu treino. Adicione alguns nos bot\xF5es acima. "),p()())}function nk(t,n){if(t&1){let e=_e();h(0,"li",44)(1,"div")(2,"strong"),w(3),p(),w(4),p(),h(5,"button",45),S("click",function(){let i=P(e).index,o=F(2);return L(o.deleteExercise(i))}),w(6,"\xD7"),p()()}if(t&2){let e=n.$implicit;v(3),fe(e.name),v(),Er(" \u2014 ",e.sets,"x",e.reps," \u2014 ",e.load," kg ")}}function rk(t,n){if(t&1&&(h(0,"ul",42),O(1,nk,7,4,"li",43),p()),t&2){let e=F();v(),C("ngForOf",e.selectedWorkoutExercises)}}function ik(t,n){if(t&1&&(h(0,"option",39),w(1),p()),t&2){let e=n.$implicit;C("value",e),v(),fe(e)}}function ok(t,n){if(t&1&&(h(0,"option",39),w(1),p()),t&2){let e=n.$implicit;C("value",e),v(),fe(e)}}var Mu=class t{constructor(n,e){this.storageService=n;this.jsonloader=e}muscleGroups=[];filteredExerciseOptions=[];selectedMuscleGroup="";submitted=!1;addModal;createWorkoutModal;editModal;selectedWorkoutExercises=[];workouts=[];selectedWorkoutName="";newWorkoutName="";updateSelectedWorkout(){let n=this.workouts.find(e=>e.name===this.selectedWorkoutName);this.selectedWorkoutExercises=n?.exercises||[]}exerciseOptions=[];newExerciseName="";newSets=null;newReps=null;newLoad=null;STORAGE_KEY="training-log";SELECTED_TRAIN_KEY="selected-train";ngOnInit(){return m(this,null,function*(){this.jsonloader.setJsonPath("data/gym-exercices.json"),this.exerciseOptions=yield this.jsonloader.load(),this.muscleGroups=Object.keys(this.exerciseOptions),this.workouts=this.storageService.loadData(this.STORAGE_KEY)??[];let n=this.storageService.loadData(this.SELECTED_TRAIN_KEY),e=this.workouts.length>0?this.workouts[0].name:"";this.selectWorkout2(n??e),this.newSets=3,this.newReps=12,this.newLoad=0})}onMuscleGroupChange(){this.selectedMuscleGroup&&this.exerciseOptions[this.selectedMuscleGroup]?(this.filteredExerciseOptions=this.exerciseOptions[this.selectedMuscleGroup],this.newExerciseName=""):this.filteredExerciseOptions=[]}addExercise(n){if(this.submitted=!0,n.invalid)return;let e=this.workouts.find(r=>r.name===this.selectedWorkoutName);e&&(e.exercises.push({name:this.newExerciseName,sets:this.newSets,reps:this.newReps,load:this.newLoad}),n.resetForm({muscleGroup:this.selectedMuscleGroup,sets:this.newSets,reps:this.newReps,load:this.newLoad}),this.submitted=!1,this.save(),this.addModal.close())}ngOnDestroy(){console.log("DESTROY"),this.storageService.saveData(this.SELECTED_TRAIN_KEY,this.selectedWorkoutName),this.save()}onWorkoutChange(n){console.log("Workout selecionado:",n),this.updateSelectedWorkout()}addWorkout(){this.newWorkoutName&&!this.workouts.find(n=>n.name===this.newWorkoutName)&&(this.workouts.push({name:this.newWorkoutName,exercises:[]}),this.selectWorkout2(this.newWorkoutName),this.newWorkoutName="",this.save(),this.createWorkoutModal.close())}selectWorkout2(n){this.selectedWorkoutName=n,this.updateSelectedWorkout()}editWorkoutName(){let n=this.selectedWorkoutName,e=prompt("Novo nome do treino:",n);if(e&&n!==e)if(this.workouts.find(i=>i.name===e))alert("J\xE1 existe um treino com esse nome.");else{let i=this.workouts.find(o=>o.name===n);i&&(i.name=e,this.selectedWorkoutName=e,this.save())}}deleteWorkout(){confirm("Tem certeza que deseja excluir este treino?")&&(this.workouts=this.workouts.filter(n=>n.name!==this.selectedWorkoutName),this.selectedWorkoutName=this.workouts.length?this.workouts[this.workouts.length-1].name:"",this.selectWorkout2(this.selectedWorkoutName),this.save())}deleteExercise(n){let e=this.workouts.find(r=>r.name===this.selectedWorkoutName);e&&(e.exercises.splice(n,1),this.save())}save(){this.storageService.saveData(this.STORAGE_KEY,this.workouts)}static \u0275fac=function(e){return new(e||t)(I(oe),I(Su))};static \u0275cmp=ee({type:t,selectors:[["app-exercices"]],viewQuery:function(e,r){if(e&1&&(Gn(KR,5),Gn(YR,5),Gn(JR,5)),e&2){let i;Dn(i=Cn())&&(r.addModal=i.first),Dn(i=Cn())&&(r.createWorkoutModal=i.first),Dn(i=Cn())&&(r.editModal=i.first)}},features:[he([oe])],decls:60,vars:27,consts:[["addModal",""],["exerciseForm","ngForm"],["exerciseNameCtrl","ngModel"],["createWorkoutModal",""],[1,"container","mt-3"],[1,"row","g-2"],[1,"col-12"],["id","workout","name","workout","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-4","d-grid"],["title","Edit Workout Name",1,"btn","btn-success","me-1",3,"click"],[1,"fas","fa-plus"],["title","Edit Workout Name",1,"btn","btn-success","me-1",3,"click","disabled","ngClass"],[1,"fas","fa-edit"],["title","Delete Workout",1,"btn","btn-danger",3,"click","disabled","ngClass"],[1,"fas","fa-times"],[1,"col-12","d-grid"],[1,"btn","btn-success","mb-2",3,"click","disabled","ngClass"],["class","alert alert-warning d-flex justify-content-between align-items-center","role","alert",4,"ngIf"],["class","list-group",4,"ngIf"],["title","Adicionar Exerc\xEDcio",3,"submit"],[1,"row","g-3","align-items-end"],[1,"col-6"],["for","muscleGroup",1,"form-label"],["id","muscleGroup","name","muscleGroup","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],["for","exerciseName",1,"form-label"],["id","exerciseName","name","exerciseName","required","",1,"form-select",3,"ngModelChange","ngModel"],[1,"col-4","col-md-2"],["for","sets",1,"form-label"],["type","number","id","sets","name","sets","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","reps",1,"form-label"],["type","number","id","reps","name","reps","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","load",1,"form-label"],["type","number","id","load","name","load","min","0","required","",1,"form-control",3,"ngModelChange","ngModel"],["title","Criar Novo Treino",3,"submit"],[1,"col-sm-12","col-md-6"],[1,"input-group"],["type","text","id","workoutName","name","workoutName","placeholder","Nome do treino ...","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],["role","alert",1,"alert","alert-warning","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-dumbbell","me-2"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(e,r){if(e&1){let i=_e();h(0,"div",4)(1,"div",5)(2,"div",6)(3,"select",7),$("ngModelChange",function(s){return P(i),W(r.selectedWorkoutName,s)||(r.selectedWorkoutName=s),L(s)}),S("ngModelChange",function(s){return P(i),L(r.onWorkoutChange(s))}),O(4,XR,2,2,"option",8),p()(),h(5,"div",9)(6,"button",10),S("click",function(){P(i);let s=ei(53);return L(s.open())}),R(7,"i",11),p()(),h(8,"div",9)(9,"button",12),S("click",function(){return P(i),L(r.editWorkoutName())}),R(10,"i",13),p()(),h(11,"div",9)(12,"button",14),S("click",function(){return P(i),L(r.deleteWorkout())}),R(13,"i",15),p()(),h(14,"div",16)(15,"button",17),S("click",function(){P(i);let s=ei(21);return L(s.open())}),w(16,"Adicionar exercicio ao treino"),p()()(),O(17,ek,4,0,"div",18)(18,tk,4,0,"div",18)(19,rk,2,1,"ul",19),p(),h(20,"app-modal",20,0),S("submit",function(){P(i);let s=ei(23);return L(r.addExercise(s))}),h(22,"form",null,1)(24,"div",21)(25,"div",22)(26,"label",23),w(27,"Grupo Muscular"),p(),h(28,"select",24),$("ngModelChange",function(s){return P(i),W(r.selectedMuscleGroup,s)||(r.selectedMuscleGroup=s),L(s)}),S("change",function(){return P(i),L(r.onMuscleGroupChange())}),h(29,"option",25),w(30,"Selecione um grupo muscular"),p(),O(31,ik,2,2,"option",8),p()(),h(32,"div",22)(33,"label",26),w(34,"Exerc\xEDcio"),p(),h(35,"select",27,2),$("ngModelChange",function(s){return P(i),W(r.newExerciseName,s)||(r.newExerciseName=s),L(s)}),h(37,"option",25),w(38,"Selecione um exerc\xEDcio"),p(),O(39,ok,2,2,"option",8),p()(),h(40,"div",28)(41,"label",29),w(42,"S\xE9ries"),p(),h(43,"input",30),$("ngModelChange",function(s){return P(i),W(r.newSets,s)||(r.newSets=s),L(s)}),p()(),h(44,"div",28)(45,"label",31),w(46,"Repeti\xE7\xF5es"),p(),h(47,"input",32),$("ngModelChange",function(s){return P(i),W(r.newReps,s)||(r.newReps=s),L(s)}),p()(),h(48,"div",28)(49,"label",33),w(50,"Carga (kg)"),p(),h(51,"input",34),$("ngModelChange",function(s){return P(i),W(r.newLoad,s)||(r.newLoad=s),L(s)}),p()()()()(),h(52,"app-modal",35,3),S("submit",function(){return P(i),L(r.addWorkout())}),h(54,"form")(55,"div",21)(56,"div",36)(57,"form")(58,"div",37)(59,"input",38),$("ngModelChange",function(s){return P(i),W(r.newWorkoutName,s)||(r.newWorkoutName=s),L(s)}),p()()()()()()()}if(e&2){let i=ei(36);v(3),U("ngModel",r.selectedWorkoutName),v(),C("ngForOf",r.workouts),v(5),C("disabled",!r.selectedWorkoutName)("ngClass",Ir(21,vg,!r.selectedWorkoutName)),v(3),C("disabled",!r.selectedWorkoutName)("ngClass",Ir(23,vg,!r.selectedWorkoutName)),v(3),C("disabled",!r.selectedWorkoutName)("ngClass",Ir(25,vg,!r.selectedWorkoutName)),v(2),C("ngIf",r.workouts.length==0),v(),C("ngIf",r.selectedWorkoutName!=""&&r.selectedWorkoutExercises.length==0),v(),C("ngIf",r.selectedWorkoutName),v(9),U("ngModel",r.selectedMuscleGroup),v(3),C("ngForOf",r.muscleGroups),v(4),zn("is-invalid",i.invalid&&(i.dirty||i.touched||r.submitted)),U("ngModel",r.newExerciseName),v(4),C("ngForOf",r.filteredExerciseOptions),v(4),U("ngModel",r.newSets),v(4),U("ngModel",r.newReps),v(4),U("ngModel",r.newLoad),v(8),U("ngModel",r.newWorkoutName)}},dependencies:[Ye,ge,An,Nr,Rr,Ae,Vt,Nn,Ue,Tn,sr,la,ke,dn,ae,Qt,Ze,Ve,Ro,uc],encapsulation:2})};var ko={production:!1,supabaseUrl:"https://rktfcrybdocygcauvfpd.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrdGZjcnliZG9jeWdjYXV2ZnBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc2NjcwODQsImV4cCI6MjA2MzI0MzA4NH0.uF62k7MBvO029wrEXcnF79zIItO3ScixF9fAEjLySVY"};var It=class t{supabase;constructor(){this.supabase=ou(ko.supabaseUrl,ko.supabaseKey)}signUp(n,e){return m(this,null,function*(){let{data:r,error:i}=yield this.supabase.auth.signUp({email:n,password:e});if(i)throw i;return r})}signIn(n,e){return m(this,null,function*(){let{data:r,error:i}=yield this.supabase.auth.signInWithPassword({email:n,password:e});if(i)throw i;return r})}signOut(){return m(this,null,function*(){let{error:n}=yield this.supabase.auth.signOut();if(n)throw n})}getSession(){return this.supabase.auth.getSession()}onAuthStateChange(n){this.supabase.auth.onAuthStateChange(n)}getUser(){return this.supabase.auth.getUser()}static \u0275fac=function(e){return new(e||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};function sk(t,n){if(t&1&&(h(0,"div",3),R(1,"i",4),h(2,"div")(3,"h6",5),w(4),p(),h(5,"small",6),w(6),p()()()),t&2){let e=n.$implicit;C("routerLink",e.path),v(),C("ngClass",e.icon),v(3),fe(e.title),v(2),fe(e.description)}}var xu=class t{constructor(n){this.router=n}routePaths=[{path:"profile",icon:"fa-user"},{path:"meal-plan",icon:"fa-utensils"},{path:"shopping-list",icon:"fa-shopping-basket"},{path:"water-intake",icon:"fa-tint"},{path:"exercices",icon:"fa-dumbbell"},{path:"food-substitution",icon:"fa-repeat"},{path:"import-food",icon:"fa-database"},{path:"tracker",icon:"fa-person-biking"}];navigationItems=[];ngOnInit(){let n=this.router.config;this.navigationItems=this.routePaths.map(e=>{let i=n.find(o=>o.path=="")?.children?.find(o=>o.path===e.path);return{path:`/${e.path}`,icon:e.icon,title:i?.data?.title??e.path,description:i?.data?.description??""}})}static \u0275fac=function(e){return new(e||t)(I(be))};static \u0275cmp=ee({type:t,selectors:[["app-home"]],features:[he([It])],decls:3,vars:1,consts:[[1,"flex-grow-1","overflow-auto","p-3"],[1,"list-group"],["class","list-group-item d-flex align-items-center mb-3 shadow-sm border-0","style","cursor: pointer;",3,"routerLink",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","align-items-center","mb-3","shadow-sm","border-0",2,"cursor","pointer",3,"routerLink"],[1,"fas","me-3","text-success",3,"ngClass"],[1,"mb-0","text-primary","text-decoration-underline"],[1,"text-muted"]],template:function(e,r){e&1&&(h(0,"main",0)(1,"div",1),O(2,sk,7,4,"div",2),p()()),e&2&&(v(2),C("ngForOf",r.navigationItems))},dependencies:[Ye,u_,ae,Qt,Ze],encapsulation:2})};var Oo=class t{constructor(n){this.http=n}apiUrl="https://world.openfoodfacts.org/cgi/search.pl";searchFood(n){let e=new En().set("search_terms",n).set("search_simple","1").set("action","process").set("json","true").set("page_size","10").set("fields","product_name,nutriments,image_front_url,nutrition_grades_tags");return this.http.get(this.apiUrl,{params:e})}static \u0275fac=function(e){return new(e||t)(T(cs))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var tt=[];for(let t=0;t<256;++t)tt.push((t+256).toString(16).slice(1));function tD(t,n=0){return(tt[t[n+0]]+tt[t[n+1]]+tt[t[n+2]]+tt[t[n+3]]+"-"+tt[t[n+4]]+tt[t[n+5]]+"-"+tt[t[n+6]]+tt[t[n+7]]+"-"+tt[t[n+8]]+tt[t[n+9]]+"-"+tt[t[n+10]]+tt[t[n+11]]+tt[t[n+12]]+tt[t[n+13]]+tt[t[n+14]]+tt[t[n+15]]).toLowerCase()}var yg,lk=new Uint8Array(16);function wg(){if(!yg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yg=crypto.getRandomValues.bind(crypto)}return yg(lk)}var ck=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_g={randomUUID:ck};function uk(t,n,e){if(_g.randomUUID&&!n&&!t)return _g.randomUUID();t=t||{};let r=t.random??t.rng?.()??wg();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){if(e=e||0,e<0||e+16>n.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let i=0;i<16;++i)n[e+i]=r[i];return n}return tD(r)}var ua=uk;var Tu=class t{add=new de;food={description:"",imageUrl:"",calories:0,protein:0,carbs:0,fat:0,fibers:0,baseQuantity:void 0,baseUnit:""};submitForm(){let n=E({id:ua()},this.food);this.add.emit(n),this.resetForm()}resetForm(){this.food={description:"",imageUrl:"",calories:0,protein:0,fibers:0,carbs:0,fat:0,baseQuantity:void 0,baseUnit:""}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ee({type:t,selectors:[["app-manual-imported-food-form"]],outputs:{add:"add"},decls:33,vars:7,consts:[[1,"p-3","border","rounded","bg-light","mt-3",3,"ngSubmit"],[1,"row","g-2"],[1,"col-12"],["for","description",1,"form-label"],["type","text","id","description","name","description","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-6"],["for","calories",1,"form-label"],["type","number","id","calories","name","calories","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","protein",1,"form-label"],["type","number","id","protein","name","protein","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","carbs",1,"form-label"],["type","number","id","carbs","name","carbs","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fat",1,"form-label"],["type","number","id","fat","name","fat","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","baseQuantity",1,"form-label"],["type","number","id","baseQuantity","name","baseQuantity",1,"form-control",3,"ngModelChange","ngModel"],["for","baseUnit",1,"form-label"],["type","text","id","baseUnit","name","baseUnit",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100"]],template:function(e,r){e&1&&(h(0,"form",0),S("ngSubmit",function(){return r.submitForm()}),h(1,"div",1)(2,"div",2)(3,"label",3),w(4,"Descri\xE7\xE3o"),p(),h(5,"input",4),$("ngModelChange",function(o){return W(r.food.description,o)||(r.food.description=o),o}),p()(),h(6,"div",5)(7,"label",6),w(8,"Calorias"),p(),h(9,"input",7),$("ngModelChange",function(o){return W(r.food.calories,o)||(r.food.calories=o),o}),p()(),h(10,"div",5)(11,"label",8),w(12,"Prote\xEDna (g)"),p(),h(13,"input",9),$("ngModelChange",function(o){return W(r.food.protein,o)||(r.food.protein=o),o}),p()(),h(14,"div",5)(15,"label",10),w(16,"Carboidratos (g)"),p(),h(17,"input",11),$("ngModelChange",function(o){return W(r.food.carbs,o)||(r.food.carbs=o),o}),p()(),h(18,"div",5)(19,"label",12),w(20,"Gordura (g)"),p(),h(21,"input",13),$("ngModelChange",function(o){return W(r.food.fat,o)||(r.food.fat=o),o}),p()(),h(22,"div",2)(23,"label",14),w(24,"Quantidade base (opcional)"),p(),h(25,"input",15),$("ngModelChange",function(o){return W(r.food.baseQuantity,o)||(r.food.baseQuantity=o),o}),p()(),h(26,"div",2)(27,"label",16),w(28,"Unidade base (ex: g, ml, unidade)"),p(),h(29,"input",17),$("ngModelChange",function(o){return W(r.food.baseUnit,o)||(r.food.baseUnit=o),o}),p()(),h(30,"div",2)(31,"button",18),w(32,"Adicionar"),p()()()()),e&2&&(v(5),U("ngModel",r.food.description),v(4),U("ngModel",r.food.calories),v(4),U("ngModel",r.food.protein),v(4),U("ngModel",r.food.carbs),v(4),U("ngModel",r.food.fat),v(4),U("ngModel",r.food.baseQuantity),v(4),U("ngModel",r.food.baseUnit))},dependencies:[ae,ge,An,Ae,Vt,Ue,Tn,sr,ke,dn],encapsulation:2})};var Au=class t{constructor(n,e){this.dbService=n;this.authService=e}supabase=b(or);getLastSync(){return new Date(localStorage.getItem("lastSync")||"1970-01-01T00:00:00Z")}setLastSync(n){localStorage.setItem("lastSync",n.toISOString())}sync(){return m(this,null,function*(){let n=this.getLastSync(),e=(yield this.authService.getUser()).data.user?.role;if(console.log(e),e?.toLocaleLowerCase().includes("auth")){let a=yield this.dbService.getAll("foods");for(let l of a){let o=l,{imageUrl:c}=o,u=Uu(o,["imageUrl"]);console.log("Tentando sincronizar",l),yield this.supabase.from("foods").upsert(u,{onConflict:"id"})}}let{data:r,error:i}=yield this.supabase.from("foods").select("*").gt("updatedAt",n.toISOString());if(i){console.error("Erro ao buscar do Supabase:",i);return}for(let s of r??[])yield this.dbService.update("foods",J(E({},s),{updatedAt:s.updatedAt}));this.setLastSync(new Date)})}static \u0275fac=function(e){return new(e||t)(T(kn),T(It))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var nD=(t,n)=>({"bg-success":t,"bg-danger":n});function fk(t,n){t&1&&R(0,"span",17)}function hk(t,n){if(t&1){let e=_e();h(0,"app-manual-imported-food-form",18),S("add",function(i){P(e);let o=F();return L(o.handleManualAdd(i))}),p()}}function pk(t,n){t&1&&(h(0,"div",19),w(1," No results found. "),p())}function gk(t,n){t&1&&(h(0,"div",20),w(1," The search might take a few seconds. Please wait... "),p())}function mk(t,n){if(t&1&&R(0,"img",34),t&2){let e=F().$implicit;C("src",e.imageUrl,ih)}}function vk(t,n){t&1&&(h(0,"div",35),w(1,"Sem imagem"),p())}function yk(t,n){if(t&1){let e=_e();h(0,"div",21)(1,"div",22)(2,"div",23),O(3,mk,1,1,"img",24)(4,vk,2,0,"div",25),p(),h(5,"div",26)(6,"div",27)(7,"h5",28),w(8),h(9,"span",29),w(10," \u25CF "),p()(),h(11,"p",30)(12,"span",31)(13,"strong"),w(14,"Calorias:"),p(),w(15),p(),R(16,"br"),h(17,"span",31)(18,"strong"),w(19,"Carboidratos:"),p(),w(20),p(),R(21,"br"),h(22,"span",31)(23,"strong"),w(24,"Prote\xEDna:"),p(),w(25),p(),R(26,"br"),h(27,"span",31)(28,"strong"),w(29,"Gordura:"),p(),w(30),p(),R(31,"br"),p(),h(32,"p",32)(33,"small"),w(34),p()(),h(35,"button",33),S("click",function(){let i=P(e).$implicit,o=F();return L(o.importFood(i))}),w(36,"Importar"),p()()()()()}if(t&2){let e=n.$implicit,r=F();v(3),C("ngIf",e.imageUrl),v(),C("ngIf",!e.imageUrl),v(4),G(" ",e.description||"Produto sem nome"," "),v(),Wl("title",r.isCaloriesConsistent(e)?"Consistente":"Possivelmente inconsistente"),C("ngClass",ns(11,nD,r.isCaloriesConsistent(e),!r.isCaloriesConsistent(e))),v(6),G(" ",e.calories," kcal"),v(5),G(" ",e.carbs," g"),v(5),G(" ",e.protein," g"),v(5),G(" ",e.fat," g"),v(4),ti("Por\xE7\xE3o base: ",e.baseQuantity||"?"," ",e.baseUnit||"-","")}}function wk(t,n){if(t&1){let e=_e();h(0,"li",36)(1,"div",37)(2,"span",29),w(3," \u25CF "),p(),h(4,"div")(5,"strong"),w(6),p(),R(7,"br"),h(8,"small"),w(9),p()()(),h(10,"button",38),S("click",function(){let i=P(e).$implicit,o=F();return L(o.removeFood(i.id))}),w(11," Remover "),p()()}if(t&2){let e=n.$implicit,r=F();v(2),Wl("title",r.isCaloriesConsistent(e)?"Consistente":"Possivelmente inconsistente"),C("ngClass",ns(9,nD,r.isCaloriesConsistent(e),!r.isCaloriesConsistent(e))),v(4),fe(e.description),v(3),Ch(" ",e.calories," kcal, ",e.protein,"g protein, ",e.fat,"g fat, ",e.carbs,"g carbs (per ",e.baseQuantity,"",e.baseUnit,") ")}}var Nu=class t{constructor(n,e,r,i){this.openFoodFacts=n;this.storage=e;this.dbservice=r;this.syncService=i}showManualForm=!1;loading=!1;query="";products=[];importedFoods=[];Sync(){return m(this,null,function*(){this.syncService.sync()})}ngOnInit(){return m(this,null,function*(){this.importedFoods=(yield this.dbservice.getAll("foods"))||[],console.log(this.importedFoods)})}isCaloriesConsistent(n,e=10){let r=n.protein*4+n.carbs*4+n.fat*9;return Math.abs(r-n.calories)/(n.calories||1)*100<=e}search(){this.query.trim()&&(this.loading=!0,this.products=[],this.openFoodFacts.searchFood(this.query).subscribe({next:n=>{console.log(n),this.products=(n.products||[]).filter(e=>e.nutriments&&(e.nutriments["energy-kcal_100g"]||e.nutriments.energy_100g)).map(e=>this.productToImportedFood(e))},error:n=>{console.error("Erro ao buscar alimentos:",n),this.loading=!1},complete:()=>{this.loading=!1}}))}productToImportedFood(n){return{id:ua(),imageUrl:n.image_front_url??"",description:n.product_name||"Unnamed product",calories:n.nutriments["energy-kcal_100g"]||n.nutriments.energy_100g||0,protein:n.nutriments.proteins_100g||0,fat:n.nutriments.fat_100g||0,fibers:0,carbs:n.nutriments.carbohydrates_100g||0,baseQuantity:100,baseUnit:"g"}}importFood(n){this.importedFoods.find(r=>r.id===n.id)?console.warn("Alimento j\xE1 importado:",n.description):(this.importedFoods.push(n),this.dbservice.add("foods",n))}removeFood(n){return m(this,null,function*(){this.importedFoods=this.importedFoods.filter(e=>e.id!==n),this.storage.saveData("importedFoods",this.importedFoods),yield this.dbservice.delete("foods",n)})}handleManualAdd(n){return m(this,null,function*(){this.importedFoods.push(n),this.storage.saveData("importedFoods",this.importedFoods),yield this.dbservice.add("foods",n),this.showManualForm=!1})}static \u0275fac=function(e){return new(e||t)(I(Oo),I(oe),I(kn),I(Au))};static \u0275cmp=ee({type:t,selectors:[["import-food"]],features:[he([oe,Oo])],decls:23,vars:11,consts:[[1,"container","mt-4"],[1,"row","g-2"],[1,"col-sm-12","col-md-8"],[1,"input-group"],["type","text","placeholder","Pesquisar alimento...",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],[1,"col-12","col-md-4"],[1,"w-100","btn","btn-secondary",3,"click"],[1,"col-6"],[3,"add",4,"ngIf"],["class","text-muted mb-2",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"my-2",2,"display","flex","justify-content","space-between","align-items","center"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[3,"add"],[1,"text-muted","mb-2"],[1,"alert","alert-info"],[1,"card","mb-3"],[1,"row","g-0"],[1,"col-md-4","d-flex","align-items-center","justify-content-center","bg-light"],["class","img-fluid rounded-start","alt","Imagem do Produto","style","max-height: 200px;",3,"src",4,"ngIf"],["class","text-muted p-2",4,"ngIf"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","d-flex","align-items-center","justify-content-between"],[1,"badge",3,"ngClass","title"],[1,"card-text","mb-1"],[1,"small"],[1,"card-text","text-muted"],[1,"btn","btn-success","btn-sm",3,"click"],["alt","Imagem do Produto",1,"img-fluid","rounded-start",2,"max-height","200px",3,"src"],[1,"text-muted","p-2"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),$("ngModelChange",function(o){return W(r.query,o)||(r.query=o),o}),p(),h(5,"button",5),S("click",function(){return r.search()}),O(6,fk,1,0,"span",6),w(7),p()()(),h(8,"div",7)(9,"button",8),S("click",function(){return r.showManualForm=!r.showManualForm}),w(10),p()(),h(11,"div",9)(12,"button",8),S("click",function(){return r.Sync()}),w(13," Sync "),p()(),O(14,hk,1,0,"app-manual-imported-food-form",10)(15,pk,2,0,"div",11)(16,gk,2,0,"div",12)(17,yk,37,14,"div",13),h(18,"div",14)(19,"h2"),w(20,"Imported Foods"),p()(),h(21,"ul",15),O(22,wk,12,12,"li",16),p()()()),e&2&&(v(4),U("ngModel",r.query),C("disabled",r.loading),v(),C("disabled",r.loading),v(),C("ngIf",r.loading),v(),G(" ",r.loading?"Buscando...":"Buscar"," "),v(3),G(" ",r.showManualForm?"Cancelar":"Adicionar Manualmente"," "),v(4),C("ngIf",r.showManualForm),v(),C("ngIf",!r.loading&&r.query&&r.products.length===0),v(),C("ngIf",r.loading),v(),C("ngForOf",r.products),v(5),C("ngForOf",r.importedFoods))},dependencies:[Ye,ge,Ae,Ue,ke,ae,Qt,Ze,Ve,uc,Tu],encapsulation:2})};function _k(t,n){if(t&1&&(h(0,"div",35)(1,"strong"),w(2,"Meta cal\xF3rica ajustada:"),p(),w(3),p()),t&2){let e=F();v(3),G(" ",e.caloriasAjustadas," kcal/dia ")}}function bk(t,n){if(t&1&&(h(0,"div",36)(1,"strong"),w(2,"Distribui\xE7\xE3o de Macronutrientes:"),p(),R(3,"br"),w(4),R(5,"br"),w(6),R(7,"br"),w(8),p()),t&2){let e=F();v(4),G(" Prote\xEDnas: ",e.macros.proteina,"g"),v(2),G(" Carboidratos: ",e.macros.carbo,"g"),v(2),G(" Gorduras: ",e.macros.gordura,"g ")}}var Ru=class t{constructor(n,e,r,i){this.storage=n;this.router=e;this.auth=r;this.dbService=i}sexo="masculino";idade=30;peso=70;altura=170;nivelAtividade="moderado";objetivo="manter";ngOnInit(){return m(this,null,function*(){let n=this.storage.loadData("profileData"),e=yield this.dbService.getById("profile","1");console.log("SAVED2",e),n&&Object.assign(this,n)})}logout(){this.auth.signOut(),this.router.navigate(["/login"])}ngOnDestroy(){console.log("DESTROY"),this.save()}save(){return m(this,null,function*(){let n=this.macros,e={id:"1",sexo:this.sexo,idade:this.idade,peso:this.peso,altura:this.altura,nivelAtividade:this.nivelAtividade,objetivo:this.objetivo,calorieGoal:this.caloriasAjustadas,proteinGoal:n?.proteina??0,carbGoal:n?.carbo??0,fatGoal:n?.gordura??0,fiberGoal:0,waterGoal:this.aguaLitros*1e3};this.storage.saveData("profileData",e),yield this.dbService.update("profile",e)})}get tmb(){return this.sexo==="masculino"?10*this.peso+6.25*this.altura-5*this.idade+5:10*this.peso+6.25*this.altura-5*this.idade-161}get tmbBase(){return this.tmb}get fatorAtividade(){switch(this.nivelAtividade){case"sedentario":return 1.2;case"leve":return 1.375;case"moderado":return 1.55;case"intenso":return 1.725;case"muito-intenso":return 1.9;default:return 1.55}}get caloriasAjustadas(){let n=this.tmb*this.fatorAtividade;switch(this.objetivo){case"perder-leve":return Math.round(n*.85);case"perder-moderado":return Math.round(n*.7);case"ganhar":return Math.round(n*1.15);default:return Math.round(n)}}get macros(){let n=this.caloriasAjustadas;if(!n)return null;let e=.3,r=.5,i=.2;return this.objetivo.includes("perder")&&(e=.4,r=.4,i=.2),{proteina:Math.round(n*e/4),carbo:Math.round(n*r/4),gordura:Math.round(n*i/9)}}get aguaLitros(){return+(this.peso*.035).toFixed(2)}static \u0275fac=function(e){return new(e||t)(I(oe),I(be),I(It),I(kn))};static \u0275cmp=ee({type:t,selectors:[["profile"]],features:[he([oe])],decls:70,vars:9,consts:[[1,"container","py-3"],[1,"row","g-2"],[1,"col-6","col-md-3"],[1,"form-floating"],["id","sexo","name","sexo",1,"form-select",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","masculino"],["value","feminino"],["for","sexo"],["type","number","id","idade","name","idade","placeholder","Idade",1,"form-control",3,"ngModelChange","ngModel"],["for","idade"],["type","number","id","peso","name","peso","placeholder","Peso (kg)",1,"form-control",3,"ngModelChange","ngModel"],["for","peso"],["type","number","id","altura","name","altura","placeholder","Altura (cm)",1,"form-control",3,"ngModelChange","ngModel"],["for","altura"],[1,"col-6","col-md-6"],["id","atividade","name","nivelAtividade",1,"form-select",3,"ngModelChange","ngModel"],["value","sedentario"],["value","leve"],["value","moderado"],["value","intenso"],["value","muito-intenso"],["for","atividade"],["id","objetivo","name","objetivo",1,"form-select",3,"ngModelChange","ngModel"],["value","manter"],["value","perder-leve"],["value","perder-moderado"],["value","ganhar"],["for","objetivo"],["class","alert alert-success my-2",4,"ngIf"],[1,"alert","alert-primary","my-2"],["class","alert alert-secondary my-2",4,"ngIf"],[1,"row","d-flex","justify-content-end"],[1,"col-6","col-md-3","align-self-end"],[1,"w-100","btn","btn-outline-danger",3,"click"],[1,"alert","alert-success","my-2"],[1,"alert","alert-secondary","my-2"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"select",4),$("ngModelChange",function(o){return W(r.sexo,o)||(r.sexo=o),o}),h(5,"option",5),w(6,"Selecione"),p(),h(7,"option",6),w(8,"Masculino"),p(),h(9,"option",7),w(10,"Feminino"),p()(),h(11,"label",8),w(12,"Sexo"),p()()(),h(13,"div",2)(14,"div",3)(15,"input",9),$("ngModelChange",function(o){return W(r.idade,o)||(r.idade=o),o}),p(),h(16,"label",10),w(17,"Idade"),p()()(),h(18,"div",2)(19,"div",3)(20,"input",11),$("ngModelChange",function(o){return W(r.peso,o)||(r.peso=o),o}),p(),h(21,"label",12),w(22,"Peso (kg)"),p()()(),h(23,"div",2)(24,"div",3)(25,"input",13),$("ngModelChange",function(o){return W(r.altura,o)||(r.altura=o),o}),p(),h(26,"label",14),w(27,"Altura (cm)"),p()()(),h(28,"div",15)(29,"div",3)(30,"select",16),$("ngModelChange",function(o){return W(r.nivelAtividade,o)||(r.nivelAtividade=o),o}),h(31,"option",5),w(32,"Selecione"),p(),h(33,"option",17),w(34,"Sedent\xE1rio"),p(),h(35,"option",18),w(36,"Leve (1-3x semana)"),p(),h(37,"option",19),w(38,"Moderado (3-5x semana)"),p(),h(39,"option",20),w(40,"Intenso (di\xE1rio)"),p(),h(41,"option",21),w(42,"Muito Intenso (2x dia)"),p()(),h(43,"label",22),w(44,"N\xEDvel de Atividade"),p()()(),h(45,"div",15)(46,"div",3)(47,"select",23),$("ngModelChange",function(o){return W(r.objetivo,o)||(r.objetivo=o),o}),h(48,"option",5),w(49,"Selecione"),p(),h(50,"option",24),w(51,"Manter peso"),p(),h(52,"option",25),w(53,"Perder peso (leve)"),p(),h(54,"option",26),w(55,"Perder peso (moderado)"),p(),h(56,"option",27),w(57,"Ganhar massa"),p()(),h(58,"label",28),w(59,"Objetivo"),p()()()(),O(60,_k,4,1,"div",29),h(61,"div",30)(62,"strong"),w(63,"Meta di\xE1ria de \xE1gua:"),p(),w(64),p(),O(65,bk,9,3,"div",31),h(66,"div",32)(67,"div",33)(68,"button",34),S("click",function(){return r.logout()}),w(69,"Deslogar"),p()()()()),e&2&&(v(4),U("ngModel",r.sexo),v(11),U("ngModel",r.idade),v(5),U("ngModel",r.peso),v(5),U("ngModel",r.altura),v(5),U("ngModel",r.nivelAtividade),v(17),U("ngModel",r.objetivo),v(13),C("ngIf",r.caloriasAjustadas),v(4),G(" ",r.aguaLitros," litros "),v(),C("ngIf",r.macros))},dependencies:[Ye,ge,An,Nr,Rr,Ae,Vt,Nn,Ue,Tn,ke,dn,ae,Ve],encapsulation:2})};var ku=class t{exercisesImported=new de;onFileChange(n){console.log("file-change");let r=n.target?.files?.[0];if(!r)return;let i=new FileReader;i.onload=()=>{let s=i.result.split(`
`).filter(c=>c.trim().length>0),a=[];for(let c of s.slice(1)){let[u,d,g]=c.split(",").map(f=>f.trim());if(u&&d&&g){var l={name:u,calories:parseFloat(d),date:new Date(g)};console.log(l),a.push(l)}}console.log("EMISS\xC2O DO EVENTO"),console.log(a),this.exercisesImported.emit(a)},i.readAsText(r)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ee({type:t,selectors:[["app-exercise-csv-import"]],outputs:{exercisesImported:"exercisesImported"},decls:1,vars:0,consts:[["type","file","accept",".csv",1,"form-control","mb-3",3,"change"]],template:function(e,r){e&1&&(h(0,"input",0),S("change",function(o){return r.onFileChange(o)}),p())},dependencies:[ae],encapsulation:2})};function Dk(t,n){if(t&1&&(h(0,"option",14),w(1),p()),t&2){let e=n.$implicit;C("value",e),v(),fe(e)}}function Ck(t,n){if(t&1){let e=_e();h(0,"li",18),w(1),h(2,"button",19),S("click",function(){let i=P(e).index,o=F(2);return L(o.deleteExercise(i))}),R(3,"i",20),p()()}if(t&2){let e=n.$implicit;v(),ti(" ",e.name," \u2014 ",e.calories," kcal ")}}function Ek(t,n){if(t&1&&(h(0,"div")(1,"h6",15),w(2,"Exerc\xEDcios Registrados"),p(),h(3,"ul",16),O(4,Ck,4,2,"li",17),p(),h(5,"div",15)(6,"strong"),w(7),p()()()),t&2){let e=F();v(4),C("ngForOf",e.savedExercises),v(3),G("Total de Calorias Gastas: ",e.getTotalCalories()," kcal")}}var Ou=class t{constructor(n){this.storage=n}caloriesBurned=null;exercisesList=["Caminhada","Corrida","Bicicleta","Supino","Agachamento","Puxada","Remada","Desenvolvimento","Abdominal","Avan\xE7o"];selectedExercise={name:"",calories:0,date:new Date};savedExercises=[];STORAGE_KEY="exercises";ngOnInit(){this.savedExercises=this.storage.loadData(this.STORAGE_KEY)||[]}addExercise(){if(!this.selectedExercise.name||this.selectedExercise.calories<=0){console.log(this.selectedExercise);return}this.savedExercises.push(E({},this.selectedExercise)),this.storage.saveData(this.STORAGE_KEY,this.savedExercises),this.selectedExercise={name:"",calories:0,date:new Date}}deleteExercise(n){this.savedExercises.splice(n,1),this.storage.saveData(this.STORAGE_KEY,this.savedExercises)}getTotalCalories(){return this.savedExercises.reduce((n,e)=>n+e.calories,0)}onImport(n){console.log("teste"),this.savedExercises.push(...n),this.storage.saveData(this.STORAGE_KEY,this.savedExercises)}static \u0275fac=function(e){return new(e||t)(I(oe))};static \u0275cmp=ee({type:t,selectors:[["app-exercise-tracker"]],decls:19,vars:4,consts:[[1,"card","shadow-sm","p-3"],[1,"mb-3"],[3,"exercisesImported"],[1,"row","g-2","align-items-end",3,"ngSubmit"],[1,"col-6"],["for","exercise",1,"form-label"],["id","exercise","name","exercise","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"form-label"],["type","number","name","caloriesBurned","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],["type","submit",1,"btn","btn-success","w-100"],[4,"ngIf"],[3,"value"],[1,"mt-3"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-times"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"h5",1),w(2,"Registrar Exerc\xEDcio"),p(),h(3,"app-exercise-csv-import",2),S("exercisesImported",function(o){return r.onImport(o)}),p(),h(4,"form",3),S("ngSubmit",function(){return r.addExercise()}),h(5,"div",4)(6,"label",5),w(7,"Exerc\xEDcio"),p(),h(8,"select",6),$("ngModelChange",function(o){return W(r.selectedExercise.name,o)||(r.selectedExercise.name=o),o}),O(9,Dk,2,2,"option",7),p()(),h(10,"div",8)(11,"label",9),w(12,"Calorias Gastas"),p(),h(13,"input",10),$("ngModelChange",function(o){return W(r.selectedExercise.calories,o)||(r.selectedExercise.calories=o),o}),p()(),h(14,"div",11)(15,"button",12),w(16,"Adicionar"),p()()(),R(17,"hr"),O(18,Ek,8,2,"div",13),p()),e&2&&(v(8),U("ngModel",r.selectedExercise.name),v(),C("ngForOf",r.exercisesList),v(4),U("ngModel",r.selectedExercise.calories),v(5),C("ngIf",r.savedExercises.length>0))},dependencies:[ge,An,Nr,Rr,Ae,Vt,Nn,Ue,Tn,sr,ke,dn,ae,Ze,Ve,ku],encapsulation:2})};function Ik(t,n){if(t&1){let e=_e();h(0,"li",5),S("click",function(){let i=P(e).$implicit,o=F(2);return L(o.selectFood(i))}),w(1),p()}if(t&2){let e=n.$implicit;v(),G(" ",e.description," ")}}function Sk(t,n){if(t&1&&(h(0,"ul",3),O(1,Ik,2,1,"li",4),p()),t&2){let e=F();v(),C("ngForOf",e.filteredFoods())}}var Fu=class t{placeholder="Buscar alimento...";searchTerm="";allFoods=[];searchTermChange=new de;foodSelected=new de;onInputChange(n){this.searchTerm=n,this.searchTermChange.emit(this.searchTerm)}filteredFoods(){let n=this.searchTerm.toLowerCase();return n.length<3?[]:this.allFoods.filter(e=>e.description.toLowerCase().includes(n)).slice(0,10)}selectFood(n){this.foodSelected.emit(n),this.searchTerm=""}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ee({type:t,selectors:[["food-search"]],inputs:{placeholder:"placeholder",searchTerm:"searchTerm",allFoods:"allFoods"},outputs:{searchTermChange:"searchTermChange",foodSelected:"foodSelected"},decls:3,vars:4,consts:[[1,"position-relative"],["type","text",1,"form-control",3,"ngModelChange","input","placeholder","ngModel"],["class","position-absolute w-100 list-group z-3","style","max-height: 200px; overflow-y: auto;",4,"ngIf"],[1,"position-absolute","w-100","list-group","z-3",2,"max-height","200px","overflow-y","auto"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"input",1),$("ngModelChange",function(o){return W(r.searchTerm,o)||(r.searchTerm=o),o}),S("input",function(){return r.onInputChange(r.searchTerm)}),p(),O(2,Sk,2,1,"ul",2),p()),e&2&&(v(),C("placeholder",r.placeholder),U("ngModel",r.searchTerm),bn("autocomplete","off"),v(),C("ngIf",r.filteredFoods().length>0))},dependencies:[ge,Ae,Ue,ke,ae,Ze,Ve],encapsulation:2})};function Mk(t,n){t&1&&(h(0,"div",5)(1,"div"),R(2,"i",6),w(3," Nenhum alimento selecionado. Tente pesquisar um alimento para ver alternativas. "),p()())}function xk(t,n){if(t&1&&(h(0,"li",19)(1,"div")(2,"strong"),w(3),p(),w(4),ut(5,"number"),p(),h(6,"div",20)(7,"div"),w(8),ut(9,"number"),p(),h(10,"div",21),w(11),ut(12,"number"),p(),h(13,"div",21),w(14),ut(15,"number"),p()()()),t&2){let e=n.$implicit;v(3),fe(e.substitute.description),v(),ti(" (",dt(5,6,e.adjustedQuantity,"1.0-2")," ",e.substitute.baseUnit||"g",") "),v(4),G("",dt(9,9,e.macroDifferences.protein,"1.1-1"),"g P"),v(3),G("",dt(12,12,e.macroDifferences.carbs,"1.1-1"),"g C"),v(3),G("",dt(15,15,e.macroDifferences.fat,"1.1-1"),"g G")}}function Tk(t,n){if(t&1&&(h(0,"div")(1,"h6",16),w(2,"Pode ser substitu\xEDdo por:"),p(),h(3,"ul",17),O(4,xk,16,18,"li",18),p()()),t&2){let e=F().$implicit,r=F(2);v(4),C("ngForOf",r.aaa(e))}}function Ak(t,n){if(t&1){let e=_e();h(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),w(4),p(),w(5," - "),h(6,"div",12)(7,"input",13),$("ngModelChange",function(i){let o=P(e).$implicit;return W(o.quantity,i)||(o.quantity=i),L(i)}),S("ngModelChange",function(i){let o=P(e).$implicit,s=F(2);return L(s.updateQuantity(o.food.id,i))}),p(),h(8,"span"),w(9),p(),h(10,"button",14),S("click",function(){let i=P(e).$implicit,o=F(2);return L(o.removeFood(i.food.id))}),R(11,"i",15),p()()(),O(12,Tk,5,1,"div",4),p()()}if(t&2){let e=n.$implicit,r=F(2);v(4),fe(e.food.description),v(3),U("ngModel",e.quantity),v(2),fe(e.food.baseUnit||"g"),v(3),C("ngIf",r.aaa(e).length>0)}}function Nk(t,n){if(t&1&&(h(0,"div"),O(1,Ak,13,4,"div",7),p()),t&2){let e=F();v(),C("ngForOf",e.selectedFoods)}}var Pu=class t{constructor(n){this.service=n}importedFoods=[];selectedFoods=[];suggestions=[];tolerance=.15;ngOnInit(){this.importedFoods=this.service.loadData("importedFoods")??[]}onFoodSelected(n){this.selectedFoods.find(e=>e.food.id===n.id)||(this.selectedFoods.push({food:n,quantity:n.baseQuantity||100}),this.recalculateSuggestions())}aaa(n){return this.suggestions.filter(e=>e.original.id===n.food.id)}removeFood(n){this.selectedFoods=this.selectedFoods.filter(e=>e.food.id!==n),this.recalculateSuggestions()}updateQuantity(n,e){let r=this.selectedFoods.find(i=>i.food.id===n);r&&(r.quantity=e,this.recalculateSuggestions())}recalculateSuggestions(){this.suggestions=[];for(let{food:n,quantity:e}of this.selectedFoods){let i=this.importedFoods.filter(o=>o.id!==n.id).filter(o=>this.isProportional(n,o,this.tolerance));for(let o of i.slice(0,10)){let s=o.calories/(o.baseQuantity||100),l=n.calories*(e/(n.baseQuantity||100))/s,c=l/(o.baseQuantity||100);this.suggestions.push({original:n,substitute:o,adjustedQuantity:l,macroDifferences:{protein:+(o.protein*c-n.protein*(e/(n.baseQuantity||100))).toFixed(2),carbs:+(o.carbs*c-n.carbs*(e/(n.baseQuantity||100))).toFixed(2),fat:+(o.fat*c-n.fat*(e/(n.baseQuantity||100))).toFixed(2)}})}}}getSuggestionsFor(n){return this.suggestions.filter(e=>e.original.id===n.id)}getMacroRatio(n){let e=n.protein+n.carbs+n.fat;return e===0?{p:0,c:0,f:0}:{p:n.protein/e,c:n.carbs/e,f:n.fat/e}}isProportional(n,e,r){let i=this.getMacroRatio(n),o=this.getMacroRatio(e);if([i.p,i.c,i.f,o.p,o.c,o.f].some(u=>isNaN(u)||!isFinite(u)))return console.log(`[isProportional] Raz\xE3o inv\xE1lida para alimentos: ${n.description} ou ${e.description}`),!1;let s=Math.abs(i.p-o.p),a=Math.abs(i.c-o.c),l=Math.abs(i.f-o.f),c=s<=r&&a<=r&&l<=r;return c||(console.log(`[isProportional] Falha para '${n.description}' vs '${e.description}': Diff P: ${s.toFixed(3)}, C: ${a.toFixed(3)}, F: ${l.toFixed(3)} (tolerance: ${r})`),console.log(`  Ratios A: p=${i.p.toFixed(3)}, c=${i.c.toFixed(3)}, f=${i.f.toFixed(3)}`),console.log(`  Ratios B: p=${o.p.toFixed(3)}, c=${o.c.toFixed(3)}, f=${o.f.toFixed(3)}`)),c}getAdjustedQuantity(n,e){let r=n.calories/e.calories;return(e.baseQuantity||100)*r}static \u0275fac=function(e){return new(e||t)(I(oe))};static \u0275cmp=ee({type:t,selectors:[["food-substitution"]],features:[he([oe])],decls:5,vars:3,consts:[[1,"container","mt-3"],[1,"mb-2"],[3,"foodSelected","allFoods"],["class","alert alert-warning d-flex justify-content-between align-items-center","role","alert",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-warning","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-search","me-2"],["class","card mb-2",4,"ngFor","ngForOf"],[1,"card","mb-2"],[1,"card-body"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","gap-2"],[1,"fw-bold"],[1,"d-flex","align-items-center","gap-2"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","ngModel"],["title","Delete Entry",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-times"],[1,"text-muted"],[1,"list-group","list-group-flush"],["class","list-group-item px-0",4,"ngFor","ngForOf"],[1,"list-group-item","px-0"],[1,"d-inline-flex","justify-content-around","bg-secondary","text-white","rounded-pill","px-2","gap-1","fw-bold",2,"font-size","x-small"],[1,"border-start","border-white","ps-1"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"div",1)(2,"food-search",2),S("foodSelected",function(o){return r.onFoodSelected(o)}),p()(),O(3,Mk,4,0,"div",3)(4,Nk,2,1,"div",4),p()),e&2&&(v(2),C("allFoods",r.importedFoods),v(),C("ngIf",r.selectedFoods.length==0),v(),C("ngIf",r.selectedFoods.length>0))},dependencies:[Ye,ge,Ae,Vt,Ue,la,ke,ae,Ze,Ve,to,Fu],encapsulation:2})};function Rk(t,n){if(t&1&&(h(0,"div",10),w(1),p()),t&2){let e=F();v(),G(" ",e.message," ")}}function kk(t,n){t&1&&(h(0,"div",11)(1,"div",12)(2,"span",13),w(3,"Carregando..."),p()()())}var Lu=class t{constructor(n,e){this.auth=n;this.router=e}email="";password="";message="";loading=!1;login(){return m(this,null,function*(){this.loading=!0,this.message="";try{let n=yield this.auth.signIn(this.email,this.password),{data:e}=yield this.auth.getUser();!!e.user?.email_confirmed_at?(this.message="\u2705 Login bem-sucedido!",this.router.navigate(["/home"])):(this.message="\u26A0\uFE0F Verifique seu e-mail antes de continuar.",yield this.auth.signOut())}catch(n){this.message="\u274C Erro: "+n.message}finally{this.loading=!1}})}logout(){return m(this,null,function*(){this.loading=!0;try{yield this.auth.signOut(),this.message="Voc\xEA saiu da conta.",this.router.navigate(["/login"])}catch(n){this.message="Erro ao sair: "+n.message}finally{this.loading=!1}})}register(){return m(this,null,function*(){this.loading=!0,this.message="";try{yield this.auth.signUp(this.email,this.password),this.message="\u2705 Conta criada com sucesso! Verifique seu e-mail antes de logar."}catch(n){this.message="\u274C Erro ao criar conta: "+n.message}finally{this.loading=!1}})}static \u0275fac=function(e){return new(e||t)(I(It),I(be))};static \u0275cmp=ee({type:t,selectors:[["app-login"]],decls:14,vars:8,consts:[[1,"container","mt-5",2,"max-width","400px"],[1,"mb-4","text-center"],["class","alert alert-info text-center","role","alert",4,"ngIf"],[1,"mb-3"],["type","email","placeholder","Email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","password","placeholder","Senha",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"d-grid","gap-2"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-secondary",3,"click","disabled"],["class","text-center my-4",4,"ngIf"],["role","alert",1,"alert","alert-info","text-center"],[1,"text-center","my-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"h3",1),w(2,"Login"),p(),O(3,Rk,2,1,"div",2),h(4,"div",3)(5,"input",4),$("ngModelChange",function(o){return W(r.email,o)||(r.email=o),o}),p()(),h(6,"div",3)(7,"input",5),$("ngModelChange",function(o){return W(r.password,o)||(r.password=o),o}),p()(),h(8,"div",6)(9,"button",7),S("click",function(){return r.login()}),w(10,"Entrar"),p(),h(11,"button",8),S("click",function(){return r.register()}),w(12,"Criar conta"),p()(),O(13,kk,4,0,"div",9),p()),e&2&&(v(3),C("ngIf",r.message),v(2),U("ngModel",r.email),C("disabled",r.loading),v(2),U("ngModel",r.password),C("disabled",r.loading),v(2),C("disabled",r.loading),v(2),C("disabled",r.loading),v(2),C("ngIf",r.loading))},dependencies:[ae,Ve,ge,Ae,Ue,ke],encapsulation:2})};var ju=class t{constructor(n,e){this.auth=n;this.router=e}canActivate(){return m(this,null,function*(){let{data:n}=yield this.auth.getUser(),e=n.user,r=!!e?.email_confirmed_at;return e&&r?this.router.createUrlTree(["/home"]):!0})}static \u0275fac=function(e){return new(e||t)(T(It),T(be))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var Xt=class t{constructor(n,e){this.supabase=n;this.router=e}canActivate(){return m(this,null,function*(){let{data:n}=yield this.supabase.getUser(),e=n.user,r=!!e?.email_confirmed_at;return e&&r?!0:this.router.createUrlTree(["/login"])})}static \u0275fac=function(e){return new(e||t)(T(It),T(be))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var Vu=class t{constructor(n,e){this.router=n;this.route=e;this.router.events.pipe(We(r=>r instanceof Ct),V(()=>{let r=this.route.firstChild;for(;r?.firstChild;)r=r.firstChild;return r?.snapshot.data})).subscribe(r=>{this.pageTitle=r?.title||"Title",this.pageDescription=r?.description||"Description"})}title="omni-diet";pageTitle;pageDescription;navigate(n){this.router.navigate([n])}static \u0275fac=function(e){return new(e||t)(I(be),I(Kt))};static \u0275cmp=ee({type:t,selectors:[["app-main-layout"]],decls:18,vars:1,consts:[[1,"d-flex","flex-column","min-vh-100"],[1,"bg-success","text-white","text-center","py-3"],[1,"flex-grow-1","overflow-auto"],[1,"bg-light","shadow-lg","py-2"],[1,"nav","justify-content-around"],[1,"nav-link","text-muted",3,"click"],[1,"fas","fa-home"],[1,"fas","fa-shopping-cart"],[1,"nav-link","text-success",3,"click"],[1,"fas","fa-leaf"],[1,"fas","fa-tint"],[1,"fas","fa-user"]],template:function(e,r){e&1&&(h(0,"div",0)(1,"header",1)(2,"h5"),w(3),p()(),h(4,"main",2),R(5,"router-outlet"),p(),h(6,"footer",3)(7,"nav",4)(8,"a",5),S("click",function(){return r.navigate("/home")}),R(9,"i",6),p(),h(10,"a",5),S("click",function(){return r.navigate("/shopping-list")}),R(11,"i",7),p(),h(12,"a",8),S("click",function(){return r.navigate("/meal-plan")}),R(13,"i",9),p(),h(14,"a",5),S("click",function(){return r.navigate("/water-intake")}),R(15,"i",10),p(),h(16,"a",5),S("click",function(){return r.navigate("/profile")}),R(17,"i",11),p()()()()),e&2&&(v(3),fe(r.pageTitle))},dependencies:[As],encapsulation:2})};var bg=[{path:"login",component:Lu,canActivate:[ju]},{path:"",component:Vu,children:[{path:"meal-plan",component:Eu,canActivate:[Xt],data:{title:"Plano Alimentar",description:"Acompanhe o plano alimentar criado pelo seu Nutri."}},{path:"shopping-list",component:Iu,canActivate:[Xt],data:{title:"Lista de Compras",description:"Organize suas compras com base no plano alimentar."}},{path:"water-intake",component:bu,canActivate:[Xt],data:{title:"Ingest\xE3o de \xC1gua",description:"Monitore sua ingest\xE3o di\xE1ria de \xE1gua."}},{path:"exercices",component:Mu,canActivate:[Xt],data:{title:"Ficha de treino",description:"Registre seu treino e aumente as cargas"}},{path:"import-food",component:Nu,canActivate:[Xt],data:{title:"Importar Alimentos",description:"Busque alimentos para o aplicativo."}},{path:"profile",component:Ru,canActivate:[Xt],data:{title:"Perfil",description:"Preencha seus dados e confira suas necessidades di\xE1rias"}},{path:"tracker",component:Ou,canActivate:[Xt],data:{title:"Exercicios",description:"Registre seus exercicios e gasto cal\xF3rico"}},{path:"food-substitution",component:Pu,canActivate:[Xt],data:{title:"Substitui\xE7\xF5es Alimentares",description:"Encontre alternativas para os alimentos da sua dieta"}},{path:"home",component:xu,canActivate:[Xt],data:{title:"Omni Diet",description:"Sua sa\xFAde em um s\xF3 lugar"}},{path:"",redirectTo:"home",pathMatch:"full"}]},{path:"**",redirectTo:"/login"}];pc(No,{providers:[Oc(bg),Rf(ge)]});var rD={name:"NutriAppDB",version:1,objectStoresMeta:[{store:"profile",storeConfig:{keyPath:"id",autoIncrement:!1},storeSchema:[]},{store:"foods",storeConfig:{keyPath:"id",autoIncrement:!1},storeSchema:[{name:"description",keypath:"description",options:{unique:!1}},{name:"calories",keypath:"calories",options:{unique:!1}},{name:"updatedAt",keypath:"updatedAt",options:{unique:!1}}]}]};var Ok=ou(ko.supabaseUrl,ko.supabaseKey),iD={providers:[zh(),I0({eventCoalescing:!0}),Oc(bg),eD(rD),{provide:or,useValue:Ok}]};pc(No,iD).catch(t=>console.error(t));
